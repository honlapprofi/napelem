!function($){"use strict";var lfb_lastStepID=0,lfb_lastSteps=new Array,lfb_plannedSteps,lfb_gmapMatrixService=!1,lfb_tld_selectionMode=!1,lfb_calendars=new Array,lfb_stripe,lfb_mapStyles=new Array;function lfb_initMapStyles(){lfb_mapStyles.push({name:"default",styles:[]}),lfb_mapStyles.push({name:"aubergine",styles:[{elementType:"geometry",stylers:[{color:"#1d2c4d"}]},{elementType:"labels.text.fill",stylers:[{color:"#8ec3b9"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a3646"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#64779e"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#334e87"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#023e58"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#283d6a"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#6f9ba5"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#023e58"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#3C7680"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#304a7d"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#2c6675"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#255763"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#b0d5ce"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#023e58"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#283d6a"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#3a4762"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#4e6d70"}]}]}),lfb_mapStyles.push({name:"retro",styles:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]}),lfb_mapStyles.push({name:"night",styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]})}function lfb_clearFixedElements(){jQuery("*:not(#lfb_bootstraped)").each(function(){0==jQuery(this).closest("#lfb_bootstraped").length&&"static"!=jQuery(this).css("position")&&jQuery(this).css("position","static"),0==jQuery(this).closest("#lfb_bootstraped").length&&jQuery(this).css("will-change","unset")})}function lfb_getForm(t){for(var e=!1,a=0;a<lfb_forms.length;a++)if(lfb_forms[a].formID==t){e=lfb_forms[a];break}return e}function lfb_onResize(){jQuery("#lfb_form.lfb_fullscreen").css({minHeight:jQuery(window).height()}),jQuery(window).width()<=768?(jQuery("#lfb_form .lfb_stepDescription").each(function(){jQuery(this).css({top:jQuery(this).closest(".lfb_genSlide").find(".lfb_stepTitle").height()+60})}),jQuery("#lfb_form .lfb_genContent ").each(function(){var t=0;0<jQuery(this).closest(".lfb_genSlide").find(".lfb_stepDescription").length&&(t=lfb_zeroIfNan(jQuery(this).closest(".lfb_genSlide").find(".lfb_stepDescription").height())),jQuery(this).css({paddingTop:jQuery(this).closest(".lfb_genSlide").find(".lfb_stepTitle").height()+t+70})})):(jQuery("#lfb_form .lfb_stepDescription").each(function(){jQuery(this).css({top:jQuery(this).closest(".lfb_genSlide").find(".lfb_stepTitle").height()+60})}),jQuery("#lfb_form .lfb_genContent ").each(function(){var t=0;0<jQuery(this).closest(".lfb_genSlide").find(".lfb_stepDescription").length&&(t=lfb_zeroIfNan(jQuery(this).closest(".lfb_genSlide").find(".lfb_stepDescription").height())),jQuery(this).css({paddingTop:jQuery(this).closest(".lfb_genSlide").find(".lfb_stepTitle").height()+t+70})}))}function lfb_updatePlannedSteps(t){var e=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]  #lfb_mainPanel .lfb_genSlide[data-start="1"]').attr("data-stepid"));(lfb_plannedSteps=new Array).push(e),lfb_plannedSteps=lfb_scanPlannedSteps(e,t)}function lfb_scanPlannedSteps(t,e){new Array;t=lfb_findPotentialsSteps(t,e);return 0<t.length&&"final"!=t[0]&&(lfb_plannedSteps.push(t[0]),lfb_scanPlannedSteps(t[0],e)),lfb_plannedSteps}function lfb_getStepQuantities(t,e,a){var r=lfb_getForm(t),l=0;return(-1<jQuery.inArray(parseInt(e),lfb_lastSteps)||e==r.step)&&(e=lfb_getFormContent(t,!0,e)[2],jQuery.each(e,function(){this.itemid!=a&&(isNaN(this.quantity)?l++:l+=parseInt(this.quantity))})),l}function lfb_getTotalQuantities(t,e,a){lfb_getForm(t);var t=lfb_getFormContent(t,!0)[2],r=0,l=!0;!isNaN(e)&&0!=e||(l=!1);var o=!1;return jQuery.each(t,function(){var t;this.itemid!=a&&(t=this,l&&!o&&t.stepid==e&&(o=!0),o&&t.stepid!=e||(isNaN(t.quantity)?r++:r+=parseInt(t.quantity)))}),r}function lfb_itemClick(t,e,a){var r,l=lfb_getForm(a),o=t;e&&(jQuery('#lfb_form[data-form="'+l.formID+'"] .quantityBtns').removeClass("open"),jQuery('#lfb_form[data-form="'+l.formID+'"] .quantityBtns').fadeOut(250),navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i)&&(jQuery("body :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+l.formID+'"] > .tooltip').remove())),e&&o.addClass("action"),!e&&o.is(".action")||("zoom"!=l.imgIconStyle&&o.find("span.icon_select").animate({bottom:160,opacity:0},200),o.is(".checked")?e&&o.data("required")||("zoom"==l.imgIconStyle?(o.delay(200).css("transition-delay","0.2s"),o.find("span.icon_select").css("transition-delay","0s")):o.css("transition-delay","0s"),r=220,"zoom"==l.imgIconStyle&&(r=0),o.delay(r).removeClass("checked"),"zoom"!=l.imgIconStyle?o.delay(220).find("span.icon_select").removeClass("fui-check").addClass("fui-cross"):o.find("span.icon_select").css("transition-delay","0s"),o.delay(400).css("transition-delay","0s"),o.find(".icon_quantity").delay(300).fadeOut(200)):(o.css("transition-delay","0s"),0!=l.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=l.imgTitlesStyle||t.b_tooltip("show"),"zoom"==l.imgIconStyle&&o.find("span.icon_select").css("transition-delay",".5s"),o.is('[type="checkbox"][data-checkboxstyle="checkbox"]')||o.delay(220).addClass("checked"),"zoom"!=l.imgIconStyle&&o.delay(220).find("span.icon_select").removeClass("fui-cross").addClass("fui-check"),0<o.find(".quantityBtns").length&&!o.is("[data-distanceqt]")&&(o.find(".icon_quantity").delay(300).fadeIn(200),o.find(".quantityBtns").delay(500).addClass("open"),o.find(".quantityBtns").delay(500).fadeIn("200")),o.data("urltarget")&&""!=o.data("urltarget")&&("_self"!=(t=o.data("urltargetmode"))&&"_blank"!=t&&(t="_blank"),"null"!=typeof(t=window.open(o.data("urltarget"),t))&&null!=t&&t.focus())),"zoom"!=l.imgIconStyle&&o.find("span.icon_select").delay(300).animate({bottom:0,opacity:1},200),e&&o.data("group")&&(o.closest(".lfb_genSlide").find('div.lfb_selectable.checked[data-group="'+o.data("group")+'"]:not([data-itemid="'+o.attr("data-itemid")+'"])').each(function(){lfb_itemClick(jQuery(this),!1,a),jQuery(this).removeClass("checked")}),o.closest(".lfb_genSlide").find('input[type=checkbox][data-group="'+o.data("group")+'"]:checked:not([data-itemid="'+o.attr("data-itemid")+'"])').trigger("click.auto"),o.closest(".lfb_genSlide").find('a.lfb_button.checked[data-group="'+o.data("group")+'"]:not([data-itemid="'+o.attr("data-itemid")+'"])').each(function(){lfb_itemClick(jQuery(this),!1,a),jQuery(this).removeClass("checked")}),"1"==l.groupAutoClick&&o.is(".checked")&&o.closest(".lfb_genSlide").is("[data-required=true]")&&setTimeout(function(){0==o.closest(".lfb_genSlide").find("[data-itemid]").not('[data-itemtype="separator"]').not(".lfb_richtext").not('[data-group="'+o.data("group")+'"]').not(".lfb_disabled").length&&0==o.closest(".lfb_genSlide").find('[data-group="'+o.data("group")+'"] .quantityBtns').length&&0==o.closest(".lfb_genSlide").find('[data-group="'+o.data("group")+'"] .lfb_qtfield').length&&lfb_nextStep(l.formID)},500)),setTimeout(function(){lfb_updatePrice(a),o.removeClass("action")},420)),setTimeout(function(){o.is('[data-usedistance="true"]')&&lfb_removeDistanceError(o.attr("data-itemid"),a)},200)}function lfb_nl2br(t,e){return((t=t.replace(/\n\n/g,"\n"))+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(e||void 0===e?"<br />":"<br>")+"$2")}function lfb_initForms(){jQuery.each(lfb_forms,function(){var n=this;n.price=0,n.priceSingle=0,n.priceMax=0,n.step=0,n.gFormDesignCheck=0,n.timer_gFormSubmit=null,n.timer_gFormDesign=null,n.animationsSpeed*=1e3,n.reductionResult=0,n.reduction=0,n.discountCode="",n.discountCodeDisplayed=!1,n.initialPrice=parseFloat(n.initialPrice),n.contactSent=0,n.gravitySent=!1,n.shineFxIndex=0,n.subscriptionText=jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_finalPrice span:eq(1)').html(),n.richtextsContent=new Array,n.emailSent=!1,n.autoStart=!1,n.urlVariables="",n.useRazorpay=!1,n.razorpayReady=!1,n.stripeToken="",n.itemsData=new Array,n.signature=!1,$('#lfb_form[data-form="'+n.formID+'"]').data("lfb_form",n),0<$('#lfb_form[data-form="'+n.formID+'"] #lfb_btnStart').length&&$('#lfb_form[data-form="'+n.formID+'"] #lfb_btnStart').on("click",function(){lfb_startFormIntro(n.formID)}),0<$('#lfb_form[data-form="'+n.formID+'"] #lfb_couponBtn').length&&$('#lfb_form[data-form="'+n.formID+'"] #lfb_couponBtn').on("click",function(){lfb_applyCouponCode(n.formID)}),0<$('#lfb_form[data-form="'+n.formID+'"] a.lfb_btnSaveForm').length&&$('#lfb_form[data-form="'+n.formID+'"] a.lfb_btnSaveForm').on("click",function(){lfb_saveForLater(n.formID)}),0<$('#lfb_form[data-form="'+n.formID+'"] a.lfb_btnFloatingSummary').length&&$('#lfb_form[data-form="'+n.formID+'"] a.lfb_btnFloatingSummary').on("click",function(){lfb_toggleFloatingSummary(n.formID)}),jQuery('#lfb_form[data-form="'+n.formID+'"]').is(".lfb_visualEditing")&&lfb_clearFixedElements(),jQuery('#lfb_form[data-form="'+n.formID+'"]').is(".lfb_fullscreen")&&jQuery('#lfb_form[data-form="'+n.formID+'"]').closest("#lfb_bootstraped").parents().css({position:"static",display:"block"}),1==n.useSignature&&(n.signature=jQuery("#lfb_signature").signature({thickness:4,guideline:!0,guidelineOffset:26}),jQuery("#lfb_resetSignature").on("click",function(){n.signature.signature("clear")}),setTimeout(function(){jQuery('#lfb_form[data-form="'+n.formID+'"] #lfb_signature canvas').attr("width",jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_signature').width()),jQuery('#lfb_form[data-form="'+n.formID+'"] #lfb_signature canvas').css("width",jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_signature').width())},500));for(var t=0;t<n.variables.length;t++)n.variables[t].value=n.variables.defaultValue;jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnPayStripe').on("click",function(){lfb_showWinStripePayment(n)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_richtext[data-itemid]').each(function(){n.richtextsContent[jQuery(this).attr("data-itemid").toString()]=jQuery(this).html()}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] [data-tooltiptext][data-tooltipimg!=""]').each(function(){jQuery(this).attr("data-tooltiptext",jQuery(this).attr("data-tooltiptext")+"<br/><img src='"+jQuery(this).attr("data-tooltipimg")+"' alt='"+jQuery(this).attr("data-tooltiptext")+"'/>")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] [data-type="numberfield"]:not([value])').each(function(){var t=0;jQuery(this).is("[min]")&&(t=parseInt(jQuery(this).attr("min"))),jQuery(this).val(t)});var l=n.formID;1==n.save_to_cart?n.save_to_cart=!0:n.save_to_cart=!1,1==n.save_to_cart_edd?n.save_to_cart_edd=!0:n.save_to_cart_edd=!1,0<n.gravityFormID&&jQuery.ajax({url:n.ajaxurl,type:"post",data:{action:"get_currentRef",formID:l},success:function(t){n.current_ref=t}});var o=new Array;jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_mainPanel .lfb_genSlide .lfb_timepicker').each(function(){jQuery(this).timepicker({showMeridian:parseInt(n.timeModeAM),appendWidgetTo:'#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]'}),jQuery(this).on("click",function(){jQuery(this).timepicker("showWidget")}),jQuery(this).timepicker().on("changeTime.timepicker",function(t){var e,a,r,l=jQuery(this).attr("data-mintime"),o=jQuery(this).attr("data-maxtime");""!=l&&0<l.indexOf(":")&&(e=parseInt(l.substr(0,l.indexOf(":"))),a=parseInt(l.substr(l.indexOf(":")+1,2)),0<l.indexOf("PM")&&12!=e&&(e+=12),r=t.time.hours,"PM"==t.time.meridian&&(r+=12),(r<e||r==e&&t.time.minutes<a)&&jQuery(this).val("")),""!=o&&0<o.indexOf(":")&&(e=parseInt(o.substr(0,o.indexOf(":"))),a=parseInt(o.substr(o.indexOf(":")+1,2)),0<o.indexOf("PM")&&12!=e&&(e+=12),r=t.time.hours,"PM"==t.time.meridian&&(r+=12),(e<r||r==e&&t.time.minutes>a)&&jQuery(this).val(""))})});var i=(i=lfb_forms[0].dateFormat).replace(/\\\//g,"/");jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_mainPanel .lfb_genSlide .lfb_datepicker:not(.lfb_datepickerReady)').each(function(){var t=new Date;jQuery(this).addClass("lfb_datepickerReady"),jQuery(this).is('[data-allowpast="1"]')||jQuery(this).is('[data-datetype="time"]')?t=null:jQuery(this).is('[data-allowpast="0"]')&&0<parseInt(jQuery(this).attr("data-startdays"))&&(r=parseInt(jQuery(this).attr("data-startdays")),t.setDate(t.getDate()+r));var e=new Array;jQuery(this).is("[data-daysweek]")&&""!=jQuery(this).attr("data-daysweek")&&jQuery.each(jQuery(this).attr("data-daysweek").split(","),function(){e.push(parseInt(this))});var a={daysOfWeekDisabled:e,language:n.datePickerLanguage,timeZone:"",startDate:t,showMeridian:parseInt(n.timeModeAM),container:".lfb_itemContainer_"+jQuery(this).attr("data-itemid")},r=jQuery(this).attr("data-datetype");"date"==r?(a.format=i,a.minView=2,t&&(t.setHours(0),t.setMinutes(0)),jQuery(this).attr("data-disableminutes","0")):"time"==r?(1==parseInt(n.timeModeAM)?a.format="H:ii P":a.format="hh:ii",a.startView=1,jQuery(this).is('[data-disableminutes="1"]')&&(a.minView=1,t&&t.setMinutes(0))):(1==parseInt(n.timeModeAM)?a.format=i+" H:ii P":a.format=i+" hh:ii",jQuery(this).is('[data-disableminutes="1"]')&&(a.minView=1)),jQuery(this).datetimepicker(a).on("show",function(t){jQuery(this).data("lastdate",jQuery(this).val()),jQuery(this).val("")}).on("hide",function(t){""==jQuery(this).val()&&""!=jQuery(this).data("lastdate")&&jQuery(this).val(jQuery(this).data("lastdate"))}).on("changeDay",function(t){jQuery(this).val("");var e=moment.utc(t.date).format("YYYY-MM-DD"),a=jQuery(this).attr("data-eventduration"),t=jQuery(this).attr("data-eventdurationtype"),t=lfb_getDisabledHours(jQuery(this).attr("data-calendarid"),e,a,t);jQuery(this).data("date",e),jQuery(this).datetimepicker("setHoursDisabled",t);var r,l=lfb_getForm(jQuery(this).closest("#lfb_form").attr("data-form"));jQuery(this).is('[data-datetype="date"]')&&"1"==l.autocloseDatepicker&&(r=jQuery(this),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l.formID+'"]  .datetimepicker').hide(),"1"==l.groupAutoClick&&r.closest(".lfb_genSlide").is("[data-required=true]")&&setTimeout(function(){0==r.closest(".lfb_genSlide").find("[data-itemid]").not('[data-itemid="'+r.attr("data-itemid")+'"]').not('[data-itemtype="separator"]').not(".lfb_richtext").not('[data-group="'+r.data("group")+'"]').not(".lfb_disabled").length&&0==r.closest(".lfb_genSlide").find('[data-group="'+r.data("group")+'"] .quantityBtns').length&&0==r.closest(".lfb_genSlide").find('[data-group="'+r.data("group")+'"] .lfb_qtfield').length&&lfb_nextStep(l.formID)},500))}).on("changeMinute",function(t){var e=jQuery(this);1==n.autocloseDatepicker&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  .datetimepicker').hide(),"1"==n.groupAutoClick&&e.closest(".lfb_genSlide").is("[data-required=true]")&&setTimeout(function(){0==e.closest(".lfb_genSlide").find("[data-itemid]").not('[data-itemid="'+e.attr("data-itemid")+'"]').not('[data-itemtype="separator"]').not(".lfb_richtext").not('[data-group="'+e.data("group")+'"]').not(".lfb_disabled").length&&0==e.closest(".lfb_genSlide").find('[data-group="'+e.data("group")+'"] .quantityBtns').length&&0==e.closest(".lfb_genSlide").find('[data-group="'+e.data("group")+'"] .lfb_qtfield').length&&lfb_nextStep(n.formID)},500))}).on("changeHour",function(t){var e,a,r,l,o,i,f,s,d=jQuery(this);jQuery(this).is('[data-datetype="time"]')&&jQuery(this).is('[data-disableminutes="1"]')?((e=moment(t.date).utc()).subtract(moment(t.date).minutes(),"minutes"),a=this,setTimeout(function(){jQuery(a).datetimepicker("setDate",new Date(e.format("YYYY-MM-DD HH:mm")))},1),1==n.autocloseDatepicker&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  .datetimepicker').hide(),"1"==n.groupAutoClick&&d.closest(".lfb_genSlide").is("[data-required=true]")&&setTimeout(function(){0==d.closest(".lfb_genSlide").find("[data-itemid]").not('[data-itemid="'+d.attr("data-itemid")+'"]').not('[data-itemtype="separator"]').not(".lfb_richtext").not('[data-group="'+d.data("group")+'"]').not(".lfb_disabled").length&&0==d.closest(".lfb_genSlide").find('[data-group="'+d.data("group")+'"] .quantityBtns').length&&0==d.closest(".lfb_genSlide").find('[data-group="'+d.data("group")+'"] .lfb_qtfield').length&&lfb_nextStep(n.formID)},500))):(r=moment.utc(t.date).format("YYYY-MM-DD"),l=moment.utc(t.date).format("HH"),o=jQuery(this).attr("data-eventduration"),i=jQuery(this).attr("data-eventdurationtype"),i=lfb_getDisabledMinutes(jQuery(this).attr("data-calendarid"),r,l,o,i),jQuery(this).data("date",moment.utc(t.date).format("YYYY-MM-DD HH:mm")),jQuery(this).is('[data-disableminutes="1"]')&&(f=moment.utc(t.date).format("YYYY-MM-DD HH:00"),jQuery(this).data("date",f),s=this,setTimeout(function(){var t=moment(f);t.subtract(moment(t).minutes(),"minutes"),jQuery(this).data("date",t.toDate()),jQuery(s).datetimepicker("setDate",new Date),jQuery(s).datetimepicker("setDate",t.toDate());t="";jQuery(s).val().indexOf("PM")>jQuery(s).val().indexOf(":")?t=" PM":jQuery(s).val().indexOf("AM")>jQuery(s).val().indexOf(":")&&(t=" AM"),jQuery(s).val(jQuery(s).val().split(":")[0]+":00"+t)},50)),jQuery(this).datetimepicker("setMinutesDisabled",i))});var f=this;jQuery(this).closest(".form-group").next(".datetimepicker").find(".datetimepicker-hours thead tr:first-child th").on("click",function(){var i=this;setTimeout(function(){var t=jQuery(i).closest(".datetimepicker").prev(".form-group").find(".lfb_datepicker"),e=jQuery(f).datetimepicker("getViewDate");t.val("");var a=moment(e).format("YYYY-MM-DD"),r=t.attr("data-eventduration"),l=t.attr("data-eventdurationtype"),o=lfb_getDisabledHours(t.attr("data-calendarid"),a,r,l);t.data("date",a),t.is("[data-daysweek]")&&void 0!==jQuery(this).attr("data-daysweek")&&jQuery.each(t.attr("data-daysweek").split(","),function(){if(this==e.getDay()){o=new Array;for(var t=0;t<24;t++)o.push(t)}}),t.datetimepicker("setHoursDisabled",o)},10)}),"date"!=r&&"time"==r?jQuery(this).on("show",function(){jQuery(".datetimepicker .table-condensed .prev").hide(),jQuery(".datetimepicker .table-condensed .switch").hide(),jQuery(".datetimepicker .table-condensed .next").hide()}):jQuery(this).on("show",function(){jQuery(".datetimepicker .table-condensed .prev").show(),jQuery(".datetimepicker .table-condensed .switch").show(),jQuery(".datetimepicker .table-condensed .next").show()}),0!=jQuery(this).attr("data-calendarid")&&0<parseInt(jQuery(this).attr("data-calendarid"))&&-1==jQuery.inArray(jQuery(this).attr("data-calendarid"),o)&&o.push(jQuery(this).attr("data-calendarid")),0==jQuery(this).attr("placeholder").length&&0==jQuery(this).val().length&&(jQuery(this).is('[data-disableminutes="1"]')||"0"!=jQuery(this).attr("data-calendarid")||jQuery(this).datetimepicker("setDate",new Date)),jQuery(this).on("keypress",function(t){t.preventDefault()})}),0<o.length&&lfb_getBusyDates(n.formID,o),navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i)&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] [data-flipfx="1"]').removeAttr("data-flipfx"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is('[data-emaillaststep="1"]')&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #finalSlide .linkPrevious').addClass("lfb-hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnOrder').addClass("lfb-hidden")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .form-control').on("focus",function(){0==n.disableTipMobile&&lfb_is_touch_device()&&jQuery(this).b_tooltip("show")}).on("focusout",function(){0==n.disableTipMobile&&lfb_is_touch_device()&&(jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+n.formID+'"] > .tooltip').remove())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_mainPanel .lfb_genSlide .lfb_genContent div.lfb_selectable span.icon_select.lfb_fxZoom').css({textShadow:"-2px 0px "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_mainPanel').css("background-color")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is(".lfb_popup")&&!jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').closest("#lfb_bootstraped").parent().is("body")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').closest("#lfb_bootstraped").detach().appendTo("body"),jQuery('#lfb_form[data-form="'+n.formID+'"]').is(".lfb_fullscreen")&&jQuery("html,body").css("overflow-y","hidden"),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paypalForm').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paypalForm').attr("target","_self"),"undefined"!=typeof google&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_gmap').each(function(){jQuery(this).css("height",jQuery(this).attr("data-height"));var t,e=jQuery(this),a={lat:0,lng:0},r=lfb_getMapStyle(jQuery(this).attr("data-mapstyle")),l=new google.maps.Map(document.getElementById(e.attr("id")),{zoom:parseInt(e.attr("data-mapzoom")),controlSize:32,center:a,styles:r});jQuery(this).data("gmap",l),"marker"==jQuery(this).attr("data-maptype")?3<(t=e.attr("data-address")).length&&(new google.maps.Geocoder).geocode({address:t},function(t,e){void 0!==t[0]&&(a=t[0].geometry.location,l.setCenter(a),t=new google.maps.Marker({position:t[0].geometry.location,map:l}),jQuery(this).data("mapMarker",t))}):jQuery(this).is("[data-itinerary]")&&((t=new google.maps.DirectionsRenderer).setMap(l),jQuery(this).data("directionRenderer",t),lfb_updateGmapItinerary(jQuery(this),n.formID))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] [data-lazy-src]').each(function(){jQuery(this).parent().on("click",function(t){lfb_itemClick(jQuery(this),!0,n.formID)})}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paymentMethodBtns').length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paymentMethodBtns [data-payment="paypal"]').on("click",function(t){t.preventDefault(),n.useRazorpay=!1,jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_razorPayCt').slideUp(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnOrderPaypal').trigger("click")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paymentMethodBtns [data-payment="razorpay"]').on("click",function(){lfb_checkStepItemsValid("final",n.formID)&&lfb_checkCaptcha(n,function(){setTimeout(function(){(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is(".lfb_fullscreen")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]'):jQuery("body,html")).animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_razorPayCt').offset().top-(80+parseInt(lfb_getScrollTopMargin(n)))},2*n.animationsSpeed)},350),0<lfb_lastSteps.length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_mainPanel #lfb_razorPayCt .linkPrevious').fadeIn(),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #btnOrderRazorpay').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #btnOrderRazorpay').trigger("click")})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paymentMethodBtns [data-payment="stripe"]').on("click",function(){n.useRazorpay=!1,jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_razorPayCt').slideUp(),lfb_checkStepItemsValid("final",n.formID)&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_captcha').length?jQuery.ajax({url:n.ajaxurl,type:"post",data:{action:"lfb_checkCaptcha",formID:l,captcha:jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_captchaField').val()},success:function(t){"1"==t?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_captchaPanel').slideUp(100),lfb_showWinStripePayment(n)):jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_captchaField').closest(".form-group").addClass("has-error")}}):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_captchaPanel').slideUp(100),lfb_showWinStripePayment(n)))})),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #btnOrderRazorpay').on("click",function(){n.useRazorpay=!0,lfb_order(l)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] input:not([type=checkbox])').on("change",function(){lfb_updatePrice(l,jQuery(this).attr("data-itemid"))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] textarea').on("change",function(){lfb_updatePrice(l,jQuery(this).attr("data-itemid"))}),1==n.enableShineFxBtn&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find("a.btn-primary").append('<canvas class="lfb_shineCanvas"></canvas>'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find("a.btn-primary").on("mouseover",function(){0==n.shineFxIndex&&lfb_shineBtn(l,jQuery(this).find(".lfb_shineCanvas"))})),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_dropzone').each(function(){var t=null;0<jQuery(this).attr("data-maxfiles")&&(t=jQuery(this).attr("data-maxfiles"));var r=jQuery(this);jQuery(this).dropzone({url:n.ajaxurl+"?form="+l,paramName:"file",maxFilesize:jQuery(this).attr("data-filesize"),maxFiles:t,addRemoveLinks:!0,dictRemoveFile:"",dictCancelUpload:"",acceptedFiles:jQuery(this).attr("data-allowedfiles"),dictDefaultMessage:n.filesUpload_text,dictFileTooBig:n.filesUploadSize_text,dictInvalidFileType:n.filesUploadType_text,dictMaxFilesExceeded:n.filesUploadLimit_text,init:function(){this.on("thumbnail",function(t,e){var a=jQuery(t.previewElement),t=t.name.replace(/\//g,"");t=(t=(t=(t=t.replace(/ /g,"_")).replace(/'/g,"_")).replace(/"/g,"_")).replace(/[^a-zA-Z0-9._-]/g,""),a.attr("data-file",t+"_"+r.data("currentFileIndex"))}),this.on("sending",function(t,e,a){r.closest(".lfb_genSlide").find(".lfb_btn-next").fadeOut(),r.closest(".lfb_genSlide").find(".btn-primary").fadeOut(),a.append("action","lfb_upload_form"),a.append("formSession",jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').attr("data-formsession")),a.append("itemID",r.attr("data-itemid"))}),this.on("complete",function(t,e){0!=r.find(".dz-preview:not(.dz-complete)").length&&0!=r.find(".dz-preview").length||(r.closest(".lfb_genSlide").find(".lfb_btn-next").fadeIn(),r.closest(".lfb_genSlide").find(".btn-primary").fadeIn()),lfb_updatePrice(n.formID)}),this.on("success",function(t,e){var a,r=jQuery(t.previewElement),l=t.name.replace(/\//g,"");l=(l=(l=(l=l.replace(/ /g,"_")).replace(/'/g,"_")).replace(/"/g,"_")).replace(/[^a-zA-Z0-9._-]/g,""),1==n.emailCustomerLinks&&(t=(a=e.split("||"))[0],r.attr("data-url",t),e=a[1]),r.attr("data-file",e+"_"+l)}),this.on("removedfile",function(t,e){lfb_updatePrice(n.formID)})}})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find(".lfb_rate").each(function(){var t=parseInt(jQuery(this).closest(".lfb_itemBloc").attr("data-max")),e=parseInt(jQuery(this).closest(".lfb_itemBloc").attr("data-value"));isNaN(e)&&(e=5);var a="#bdc3c7";""!=jQuery(this).closest(".lfb_itemBloc").attr("data-color")&&(a=jQuery(this).closest(".lfb_itemBloc").attr("data-color")),-1==a.indexOf("#")&&(a="#"+a);jQuery(this).closest(".lfb_itemBloc").attr("data-interval");jQuery(this).rate({initial_value:e,max_value:t,step_size:1,cursor:"pointer"}).on("change",function(t,e){jQuery(this).closest(".lfb_itemBloc").addClass("checked"),jQuery(this).closest(".lfb_itemBloc").addClass("lfb_changed"),lfb_updatePrice(l,jQuery(this).closest(".lfb_itemBloc").attr("data-itemid"))}).css({color:a})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find('.form-control[data-validation="mask"][data-mask]').each(function(){0<jQuery(this).attr("data-mask").trim().length&&jQuery(this).mask(jQuery(this).attr("data-mask"),{clearIfNotMatch:!0})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find('input[type="text"][data-itemid],textarea[data-itemid]').each(function(){jQuery(this).attr("data-initialvalue",jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] [data-itemid][data-type="slider"]').each(function(){var t=parseInt(jQuery(this).attr("data-min"));isNaN(t)&&(t=0);var e=parseInt(jQuery(this).attr("data-max"));0==e&&(e=30);var r=jQuery('<div class="tooltip top" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner">'+t+"</div></div>").css({position:"absolute",top:-55,left:-20,opacity:1}).hide(),a=1;jQuery(this).is("[data-stepslider]")&&0<parseInt(jQuery(this).attr("data-stepslider"))&&(a=parseInt(jQuery(this).attr("data-stepslider")));jQuery(this).slider({min:t,max:e,value:t,step:a,disabled:!1,orientation:"horizontal",range:"min",change:function(t,e){lfb_isSelectionMode(n.formID)||(r.find(".tooltip-inner").html(lfb_formatPrice(e.value,n.formID)),t.originalEvent&&lfb_updatePrice(l,jQuery(this).attr("data-itemid")))},start:function(t,e){if(lfb_isSelectionMode(n.formID))return!1},slide:function(t,e){if(lfb_isSelectionMode(n.formID))return!1;r.find(".tooltip-inner").html(lfb_formatPrice(e.value,n.formID));var a=this;t.originalEvent&&(setTimeout(function(){lfb_updatePrice(l,jQuery(a).attr("data-itemid")),jQuery(a).addClass("lfb_changed")},30),r.show()),lfb_updatePrice(l,jQuery(a).attr("data-itemid"))},stop:function(t,e){r.find(".tooltip-inner").html(lfb_formatPrice(e.value,n.formID)),lfb_updatePrice(l,jQuery(this).attr("data-itemid")),r.hide()}}).find(".ui-slider-handle").append(r).on("mouseenter",function(){lfb_isSelectionMode(n.formID)||r.show()}).on("mouseleave",function(){r.hide()})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_colorpicker').each(function(){jQuery(this);jQuery(this).prev(".lfb_colorPreview").on("click",function(){lfb_isSelectionMode(n.formID)||jQuery(this).next(".lfb_colorpicker").trigger("click")}),jQuery(this).prev(".lfb_colorPreview").css({backgroundColor:n.colorA}),jQuery(this).colpick({color:n.colorA,layout:"hex",onSubmit:function(){jQuery("body > .colpick").fadeOut()},onChange:function(t,e,a,r,l){jQuery(r).val("#"+e),jQuery(r).prev(".lfb_colorPreview").css({backgroundColor:"#"+e})}})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find('.lfb_colorPreview[data-urltarget],input[type="text"][data-itemid]:not(.lfb_colorpicker)[data-urltarget],textarea[data-itemid][data-urltarget],select[data-itemid][data-urltarget],input[type="number"][data-urltarget]').each(function(){jQuery(this).on("click",function(){var t;lfb_isSelectionMode(n.formID)||"null"!=typeof(t=window.open(jQuery(this).attr("data-urltarget"),"_blank"))&&null!=t&&t.focus()})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').find('[data-autocomplete="1"]').each(function(){var t={};"city"==jQuery(this).attr("data-fieldtype")?t.types=["(cities)"]:"address"==jQuery(this).attr("data-fieldtype")?0<jQuery(this).closest(".lfb_genContent").find('[data-fieldtype="city"]').length&&(t.types=["address"]):"country"!=jQuery(this).attr("data-fieldtype")&&"zip"!=jQuery(this).attr("data-fieldtype")||(t.types=["(regions)"]);var r=new google.maps.places.Autocomplete(jQuery(this).get(0),t);r.field=jQuery(this),"zip"==jQuery(this).attr("data-fieldtype")?google.maps.event.addListener(r,"place_changed",function(){for(var t=r.getPlace(),e=0;e<t.address_components.length;e++)for(var a=0;a<t.address_components[e].types.length;a++)"postal_code"==t.address_components[e].types[a]&&r.field.val(t.address_components[e].long_name)}):"country"==jQuery(this).attr("data-fieldtype")&&google.maps.event.addListener(r,"place_changed",function(){for(var t=r.getPlace(),e=0;e<t.address_components.length;e++)for(var a=0;a<t.address_components[e].types.length;a++)"country"==t.address_components[e].types[a]&&r.field.val(t.address_components[e].long_name)})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_mainPanel .lfb_genSlide [data-group]').each(function(){var t=jQuery(this);"1"==n.groupAutoClick&&""!=t.prop("data-group")&&t.closest(".lfb_genSlide").is("[data-required=true]")&&0==t.closest(".lfb_genSlide").find("[data-itemid]:not(.lfb_disabled)").not(".lfb_richtext").not('[data-group="'+t.data("group")+'"]').not(".lfb_disabled").length&&0==t.closest(".lfb_genSlide").find('[data-group="'+t.data("group")+'"] .quantityBtns').length&&0==t.closest(".lfb_genSlide").find('[data-group="'+t.data("group")+'"] .lfb_qtfield').length&&t.closest(".lfb_genSlide").find(".lfb_btn-next").addClass("lfb-hidden")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_mainPanel .lfb_genSlide div.lfb_selectable.prechecked,#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_mainPanel .lfb_genSlide a.lfb_button.prechecked,#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_mainPanel .lfb_genSlide input[type=checkbox][data-price].prechecked').each(function(){lfb_itemClick(jQuery(this),!1,l)}),lfb_initPrice(l),lfb_updatePrice(l),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnStart').on("click",function(){lfb_isSelectionMode(n.formID)||lfb_openGenerator(l)}),lfb_initGform(l),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paypalForm').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_paypalForm').attr("target","_self"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .quantityBtns > a').on("click",function(){lfb_isSelectionMode(n.formID)||("less"==jQuery(this).attr("data-btn")?lfb_quantity_less:lfb_quantity_more)(this,l)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .linkPrevious').on("click",function(){lfb_isSelectionMode(n.formID)||lfb_previousStep(l)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_btn-next').on("click",function(){lfb_isSelectionMode(n.formID)||lfb_nextStep(l)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnOrderPaypal').on("click",function(){lfb_isSelectionMode(n.formID)||lfb_order(l)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #finalSlide [data-toggle="switch"]').on("change",function(){lfb_toggleField(jQuery(this).attr("data-fieldid"),l)});var e=!1;jQuery(".gform_wrapper").each(function(){jQuery(this).attr("id").substr(jQuery(this).attr("id").lastIndexOf("_")+1,jQuery(this).attr("id").length)==n.gravityFormID&&(e?jQuery(this).remove():(e=!0,jQuery(this).detach().insertAfter('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_finalPrice')))}),setTimeout(function(){var t;1<jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #finalSlide .gform_wrapper').length&&(t=!1,jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #finalSlide .gform_wrapper').each(function(){t?jQuery(this).remove():t=!0}))},500),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_qtfield').attr("type","number"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_qtfield').on("focusout",function(){-1<jQuery(this).val().indexOf("-")&&(!jQuery(this).is("[min]")||jQuery(this).attr("min").indexOf("-")<0)&&jQuery(this).val(parseInt(jQuery(this).attr("min"))),parseFloat(jQuery(this).val())<parseInt(jQuery(this).attr("min"))&&jQuery(this).val(jQuery(this).attr("min")),parseFloat(jQuery(this).val())>parseInt(jQuery(this).attr("max"))&&jQuery(this).val(jQuery(this).attr("max")),lfb_updatePrice(n.formID),lfb_updateSummary(n.formID)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] input[type="number"][data-itemid]').on("keydown",function(t){return 69!=t.keyCode}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] input[type="number"][data-itemid]').on("focusin",function(){0==jQuery(this).val()&&jQuery(this).val("")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] input[type="number"][data-itemid]').on("keyup change",function(){lfb_updatePrice(n.formID),lfb_updateSummary(n.formID)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] input[type="number"][data-itemid]').on("focusout",function(){""==jQuery(this).val()&&jQuery(this).val(0),0==jQuery(this).val()&&!jQuery(this).is('[data-required="true"]')||(-1<jQuery(this).val().indexOf("-")&&(!jQuery(this).is("[min]")||jQuery(this).attr("min").indexOf("-")<0)&&jQuery(this).val(parseInt(jQuery(this).attr("min"))),parseFloat(jQuery(this).val())<parseFloat(jQuery(this).attr("min"))&&jQuery(this).val(jQuery(this).attr("min")),parseFloat(jQuery(this).val())>parseFloat(jQuery(this).attr("max"))&&jQuery(this).val(jQuery(this).attr("max")),""!=jQuery(this).val()&&!isNaN(parseInt(jQuery(this).val()))||jQuery(this).val(0),""!=jQuery(this).val()&&(jQuery(this).is('[data-valueasqt="0"]')||0<jQuery(this).val())?jQuery(this).addClass("checked"):jQuery(this).removeClass("checked")),lfb_updatePrice(n.formID),lfb_updateSummary(n.formID)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_sliderQt').each(function(){var t=parseInt(jQuery(this).closest(".quantityBtns").attr("data-min"));0==t&&(t=1);var a=jQuery('<div class="tooltip top" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner">'+t+"</div></div>").css({position:"absolute",top:-55,left:-20,opacity:1}).hide(),e=1;jQuery(this).closest(".quantityBtns").is("[data-stepslider]")&&0<parseInt(jQuery(this).closest(".quantityBtns").attr("data-stepslider"))&&(e=parseInt(jQuery(this).closest(".quantityBtns").attr("data-stepslider")));jQuery(this).slider({min:t,max:parseInt(jQuery(this).closest(".quantityBtns").attr("data-max")),value:parseInt(jQuery(this).closest(".quantityBtns").next(".icon_quantity").html()),orientation:"horizontal",range:"min",disabled:!1,step:e,change:function(t,e){a.find(".tooltip-inner").html(e.value),jQuery(this).closest(".quantityBtns").next(".icon_quantity").html(e.value),t.originalEvent&&lfb_updatePrice(l,jQuery(this).attr("data-itemid"))},slide:function(t,e){jQuery(this).closest(".quantityBtns").next(".icon_quantity").html(e.value),a.find(".tooltip-inner").html(e.value),t.originalEvent&&lfb_updatePrice(l,jQuery(this).attr("data-itemid"))}}).find(".ui-slider-handle").append(a).on("mouseenter",function(){a.show()}).on("mouseleave",function(){a.hide()})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is(".lfb_visualEditing")||lfb_loadStoredForm(n.formID),lfb_initRichTextValues(n.formID),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is(".lfb_visualEditing")||"0"==n.intro_enabled&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_btnFloatingSummary').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .lfb_btnSaveForm').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_btnStart,#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #startInfos').hide(),"2"!=n.showSteps?jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .genPrice').fadeIn(500):jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] .genPrice').hide(),3==n.showSteps&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_stepper').fadeIn(500),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"] #lfb_mainPanel').fadeIn(n.animationsSpeed,function(){n.autoStart||jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]').is(".lfb_visualEditing")||lfb_nextStep(n.formID)})),jQuery('#lfb_form.lfb_bootstraped[data-form="'+n.formID+'"]  #lfb_loader').fadeOut()})}function lfb_replaceAllBackSlash(t){for(var e=t.indexOf("\\");0<=e;)e=(t=t.replace("\\","")).indexOf("\\");return t}function lfb_shineBtn(t,e){var a=lfb_getForm(t);e.attr({width:e.width(),height:e.height()}),e.css({borderRadius:e.parent().css("border-radius")});var r=e.get(0).getContext("2d");r.clearRect(0,0,e.width(),e.height());var l,o,i=r.createLinearGradient(0,0,e.width(),e.height());a.shineFxIndex+=.08,1<a.shineFxIndex?(r.clearRect(0,0,e.width(),e.height()),a.shineFxIndex=0):((o=(l=a.shineFxIndex)-.1)<0&&(o=0),1<(a=l+.1)&&(a=1),i.addColorStop(0,"transparent"),i.addColorStop(o,"rgba(255,255,255,0)"),i.addColorStop(l,"rgba(255,255,255,0.3)"),i.addColorStop(a,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,e.width(),e.height()),setTimeout(function(){lfb_shineBtn(t,e)},30))}function lfb_updateLayerImages(l){var e=lfb_getForm(l);jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] .lfb_genSlide[data-stepid="'+e.step+'"] .lfb_layeredImage').each(function(){var t=jQuery(this).closest(".lfb_genSlide").attr("data-stepid"),r=parseInt(t);isNaN(r)&&(r=0);t=JSON.parse(JSON.stringify(lfb_lastSteps));"final"!=e.step&&-1==jQuery.inArray(parseInt(e.step),t)?t.push(parseInt(e.step)):"final"==e.step&&t.push("final"),jQuery(this).find("img:not(.lfb_baseLayer)").each(function(){var t=lfb_replaceAllBackSlash(jQuery(this).attr("data-showconditions"));if(0<(t=t.replace(/'/g,'"')).length)try{var e=lfb_checkConditions(t=JSON.parse(t),l,r),a=jQuery(this).attr("data-showconditionsoperator");"OR"==a&&!e.errorOR||"OR"!=a&&!e.error?jQuery(this).fadeIn():jQuery(this).fadeOut()}catch(t){jQuery(this).fadeIn()}else jQuery(this).fadeIn()})})}function lfb_updateShowSteps(t){for(var e=0;e<lfb_plannedSteps.length;e++){var a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_genSlide[data-stepid="'+lfb_plannedSteps[e]+'"]');if(a.is("[data-useshowconditions]")){var r=lfb_replaceAllBackSlash(a.attr("data-showconditions"));if(""!=(r=r.replace(/'/g,'"')))try{var l=lfb_checkConditions(r=JSON.parse(r),t,parseInt(a.attr("data-stepid"))),o=a.attr("data-showconditionsoperator");"OR"==o&&!l.errorOR||"OR"!=o&&!l.error?a.is(".lfb_disabled")&&(a.css({opacity:0}),a.removeClass("lfb_disabled")):a.is(".lfb_disabled")||a.addClass("lfb_disabled")}catch(t){}}}jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_genSlide[data-useshowconditions]').each(function(){})}function lfb_updateShowItems(r){var t=lfb_getForm(r),e=JSON.parse(JSON.stringify(lfb_lastSteps));"final"!=t.step&&-1==jQuery.inArray(parseInt(t.step),e)?e.push(parseInt(t.step)):"final"==t.step&&e.push("final");for(var a=0;a<e.length;a++){var l=e[a];jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] .lfb_genSlide[data-stepid="'+l+'"] [data-useshowconditions]').each(function(){var t=lfb_replaceAllBackSlash(jQuery(this).attr("data-showconditions"));if(""!=(t=t.replace(/'/g,'"')))try{var e=lfb_checkConditions(t=JSON.parse(t),r,l),a=jQuery(this).attr("data-showconditionsoperator");"OR"==a&&!e.errorOR||"OR"!=a&&!e.error?(jQuery(this).is(".lfb_itemBloc")&&jQuery(this).is(".lfb_disabled")||0<jQuery(this).closest(".lfb_itemBloc").length&&jQuery(this).closest(".lfb_itemBloc").is(".lfb_disabled"))&&(jQuery(this).removeClass("lfb_disabled"),jQuery(this).closest(".lfb_itemBloc").removeClass("lfb_disabled"),jQuery(this).stop().animate({opacity:1},300),jQuery(this).is("input.prechecked")&&!jQuery(this).is(":checked")&&lfb_itemClick(jQuery(this),!1,r),jQuery(this).is(".lfb_selectable.prechecked")&&!jQuery(this).is(".checked")&&lfb_itemClick(jQuery(this),!1,r),jQuery(this).is(".lfb_button.prechecked")&&!jQuery(this).is(".checked")&&lfb_itemClick(jQuery(this),!1,r),(jQuery(this).is('input[type="text"]')||jQuery(this).is("textarea"))&&jQuery(this).is("[data-initialvalue]")&&jQuery(this).val(jQuery(this).attr("data-initialvalue")),jQuery(this).closest(".lfb_itemBloc").stop().fadeIn(100)):jQuery(this).is(".lfb_disabled")||(jQuery(this).css({opacity:1}),jQuery(this).is(":checked")&&lfb_itemClick(jQuery(this),!1,r),jQuery(this).is(".checked")&&lfb_itemClick(jQuery(this),!1,r),jQuery(this).is(".lfb_dropzone")&&jQuery(this).find(".dz-preview").remove(),jQuery(this).addClass("lfb_disabled"),jQuery(this).closest(".lfb_itemBloc").addClass("lfb_disabled"),jQuery(this).stop().animate({opacity:0},300),jQuery(this).closest(".lfb_itemBloc").stop().fadeOut(300))}catch(t){}})}}function lfb_removeFile(t,e){t=lfb_getForm(t);jQuery.ajax({url:t.ajaxurl,type:"post",data:{action:"lfb_removeFile",formSession:jQuery('#lfb_form.lfb_bootstraped[data-form="'+t.formID+'"]').attr("data-formsession"),file:e}})}function lfb_disablesThemeScripts(){var t=!1;jQuery("script").each(function(){t&&(jQuery(this).attr("src")&&0<jQuery(this).attr("src").indexOf("WP_Helper_Creator")||jQuery(this).attr("src")&&0<jQuery(this).attr("src").indexOf("VisitorsTracker")||jQuery(this).attr("src")&&0<jQuery(this).attr("src").indexOf("WP_Visual_Chat")||jQuery(this).attr("src")&&0<jQuery(this).attr("src").indexOf("gravityforms")||(this.innerText||this.textContent).indexOf("analytics")<0&&0==jQuery(this).parents(".gform_wrapper").length&&jQuery(this).attr("disabled","disabled")),jQuery(this).attr("src")&&0<jQuery(this).attr("src").indexOf("lfb_form")&&(t=!0)})}function lfb_initGform(e){var a=lfb_getForm(e);0<a.gravityFormID&&(a.gravitySent=!1,a.gFormDesignCheck++,a.timer_gFormDesign&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #finalSlide').delay(100).animate({opacity:1},1e3),jQuery("#gform_wrapper_"+a.gravityFormID+" input[type=radio]").not('[data-toggle="radio"]').attr("data-toggle","radio"),jQuery("#gform_wrapper_"+a.gravityFormID+"  .ginput_container input,#gform_wrapper_"+a.gravityFormID+"  .ginput_container select,#gform_wrapper_"+a.gravityFormID+" .ginput_container textarea").attr("title","control"),jQuery("#gform_wrapper_"+a.gravityFormID+"  .ginput_container input,#gform_wrapper_"+a.gravityFormID+"  .ginput_container textarea, #gform_wrapper_"+a.gravityFormID+" .ginput_container select").not("[type=checkbox]").not("[type=radio]").not("[type=submit]").addClass("form-control"),jQuery("#gform_wrapper_"+a.gravityFormID+"  .ginput_container").addClass("form-group"),jQuery("#gform_wrapper_"+a.gravityFormID+"  .gform_button").attr("class","btn btn-wide btn-primary"),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper input[type="radio"]:not(.ready)').each(function(){jQuery(this).addClass("ready");jQuery("#gform_wrapper_"+a.gravityFormID+' .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').html();jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").css("display","inline-block"),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').append(jQuery(this)),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').addClass("radio"),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').prepend('<span class="icons"><span class="first-icon fui-radio-unchecked"></span><span class="second-icon fui-radio-checked"></span></span>'),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").next().is("br")||jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").after("<br/>"),jQuery(this).is(":checked")&&jQuery(this).trigger("click")}),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper input[type="checkbox"]:not(.ready)').each(function(){jQuery(this).addClass("ready");jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').html();jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").css("display","inline-block"),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').append(jQuery(this)),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').addClass("checkbox"),jQuery(this).before('<span class="icons"><span class="first-icon fui-checkbox-unchecked"></span><span class="second-icon fui-checkbox-checked"></span></span>'),jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").next().is("br")||jQuery("#gform_wrapper_"+a.gravityFormID+'  .gform_wrapper label[for="'+jQuery(this).attr("id")+'"]').parent("li").after("<br/>")}),jQuery("#gform_wrapper_"+a.gravityFormID+"  .gform_wrapper label.checkbox").each(function(){0<jQuery(this).find("[type=checkbox]").length&&jQuery(this).find("[type=checkbox]").eq(1).remove(),jQuery(this).find("[type=checkbox]").is(":checked")&&jQuery(this).find("[type=checkbox]").trigger("click")}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #lfb_paypalForm').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #lfb_paypalForm  #lfb_btnOrderPaypal').hide(),jQuery(" #gform_submit_button_"+a.gravityFormID).on("click",function(t){lfb_isSelectionMode(a.formID)||a.gravitySent||(a.gravitySent=!0,jQuery(this).addClass("anim"),a.gFormDesignCheck=0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #finalSlide').delay(1e3).animate({opacity:0},1e3),jQuery(this),setTimeout(function(){a.timer_gFormDesign=setTimeout(function(){lfb_initGform(e)},2e3)},1e3))}))}function lfb_initPrice(t){var e=lfb_getForm(t);0<e.max_price?e.priceMax=e.max_price:(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel .lfb_genSlide [data-price]').each(function(){var t;jQuery(this).data("price")&&0<jQuery(this).data("price")&&(0<jQuery(this).find(".icon_quantity").length?(t=10<(t=parseFloat(jQuery(this).find(".icon_quantity").html()))&&100<parseFloat(jQuery(this).data("price"))?10:30<t?30:parseFloat(jQuery(this).find(".quantityBtns").data("max")),"-"==jQuery(this).data("operation")||"/"==jQuery(this).data("operation")||(e.priceMax+=parseFloat(jQuery(this).data("price"))*t)):0<jQuery(this).find(".lfb_qtfield").length?(t=10<(t=parseFloat(jQuery(this).find(".lfb_qtfield").val()))&&100<parseFloat(jQuery(this).data("price"))?10:!(30<t)&&parseFloat(0<jQuery(this).find(".lfb_qtfield").attr("max").length)?parseFloat(jQuery(this).find(".lfb_qtfield").attr("max")):30,"-"==jQuery(this).data("operation")||"/"==jQuery(this).data("operation")||(e.priceMax+=parseFloat(jQuery(this).data("price"))*t)):"+"==jQuery(this).data("operation")&&(e.priceMax+=parseFloat(jQuery(this).data("price"))))}),e.priceMax+=e.initialPrice,jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel .lfb_genSlide [data-price][data-operation="x"]').each(function(){if(0<jQuery(this).find(".icon_quantity").length)for(var t=0;t<parseFloat(jQuery(this).find(".icon_quantity").html());t++)e.priceMax=e.priceMax+e.priceMax*parseFloat(jQuery(this).data("price"))/100;else e.priceMax=e.priceMax+e.priceMax*parseFloat(jQuery(this).data("price"))/100}))}function initFlatUI(){jQuery("#lfb_form.lfb_bootstraped .input-group").on("focus",".form-control",function(){jQuery(this).closest(".input-group, .form-group").addClass("focus")}).on("blur",".form-control",function(){jQuery(this).closest(".input-group, .form-group").removeClass("focus")}),jQuery("#lfb_form.lfb_bootstraped .pagination").on("click","a",function(){jQuery(this).parent().siblings("li").removeClass("active").end().addClass("active")}),jQuery("#lfb_form.lfb_bootstraped .btn-group").on("click","a",function(){jQuery(this).siblings().removeClass("active").end().addClass("active")}),jQuery('#lfb_form.lfb_bootstraped [data-toggle="switch"][data-checkboxstyle="switch"]').wrap('<div class="switch"  data-on-label="<i class=\'fui-check\'></i>" data-off-label="<i class=\'fui-cross\'></i>" />').parent().bootstrapSwitch(),jQuery('#lfb_form.lfb_bootstraped [data-toggle="switch"][data-checkboxstyle="switch"]').on("change",function(){jQuery(this).is(":checked")||jQuery(this).removeClass("checked")}),jQuery("#lfb_form.lfb_bootstraped input[type=checkbox][data-urltarget]").each(function(){jQuery(this).closest(".switch.has-switch").on("click",function(){var t;isSelectionMode(0)||0<jQuery(this).find(".switch-on").length&&("null"!=typeof(t=window.open(jQuery(this).find("input[type=checkbox][data-urltarget]").attr("data-urltarget"),"_blank"))&&null!=t&&t.focus())})}),0<jQuery("#lfb_form.lfb_bootstraped .lfb_selectpicker").length&&(jQuery("#lfb_form.lfb_bootstraped .lfb_selectpicker").selectpicker(),jQuery("#lfb_form.lfb_bootstraped .lfb_selectpicker").each(function(){jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-originaltitle",jQuery(this).attr("data-originaltitle")),jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-original-title",jQuery(this).attr("data-original-title")),jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-tooltiptext",jQuery(this).attr("data-tooltiptext")),jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-tooltipimg",jQuery(this).attr("data-tooltipimg")),jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-toggle",jQuery(this).attr("data-toggle")),jQuery(this).closest(".lfb_itemBloc").find(".btn-group.lfb_bootstrap-select").attr("data-placement",jQuery(this).attr("data-placement"))})),jQuery("#lfb_form .input-group-addon").on("click",function(){jQuery(this).next("input").trigger("focus")})}function lfb_getItemDataFromItem(t,e){var a,r,l,o,i,f,s,d,n,b=!1,m=new Array,u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] .lfb_itemContainer_'+e),p=u.closest(".lfb_genSlide").attr("data-stepid"),c=u.closest(".lfb_genSlide"),_=!0;return u.is(".lfb_disabled")?(e=u.find("[data-itemid]").attr("data-itemid"),t.itemsData=jQuery.grep(t.itemsData,function(t){return t.itemid!=e})):(0<u.find("div.lfb_selectable.checked").length&&(d=u.find("div.lfb_selectable.checked").get(0),jQuery(d).is("[data-resqt]")&&jQuery(d).data("resqt",jQuery(d).attr("data-resqt")),jQuery(d).is("[data-resprice]")&&jQuery(d).data("resprice",jQuery(d).attr("data-resprice")),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),i=parseFloat(jQuery(d).data("resqt")),a=parseFloat(jQuery(d).data("resprice")),0==i&&(i=1),1<i&&0,jQuery(d).data("price")&&("+"==jQuery(d).data("operation")?"left"==t.currencyPosition?a=t.currency+a:a+=t.currency:"-"==jQuery(d).data("operation")?"left"==t.currencyPosition?a="-"+t.currency+a:a+="-"+t.currency:a="/"==jQuery(d).data("operation")?"-"+jQuery(d).data("price")+"%":"+"+jQuery(d).data("price")+"%"),f=parseFloat(jQuery(d).data("resprice")),isNaN(f)&&(f=parseFloat(jQuery(d).data("price"))),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),n=jQuery(d).attr("data-title"),jQuery(d).is("[data-original-title]")&&jQuery(d).is("[data-reducqt]")&&(n=jQuery(d).attr("data-original-title")),jQuery(d).is("[data-originaltitle]")&&jQuery(d).is('[data-showprice="1"]')&&(n=jQuery(d).attr("data-originaltitle")),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),b={label:n,itemid:jQuery(d).attr("data-itemid"),price:f,quantity:i,step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s,image:jQuery(d).find(".img").attr("src")})),0<u.find("a.lfb_button.checked").length&&(d=u.find("a.lfb_button.checked").get(0),a=parseFloat(jQuery(d).data("price")),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),jQuery(d).data("price")?("+"==jQuery(d).data("operation")?"left"==t.currencyPosition?a=t.currency+a:a+=t.currency:"-"==jQuery(d).data("operation")?"left"==t.currencyPosition?a="-"+t.currency+a:a+="-"+t.currency:a="/"==jQuery(d).data("operation")?"-"+a+"%":"+"+a+"%",o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" ("+jQuery(d).val()+")")):(o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" : "+jQuery(d).val())),n=jQuery(d).attr("data-title"),jQuery(d).is("[data-originaltitle]")&&jQuery(d).is('[data-showprice="1"]')&&(n=jQuery(d).attr("data-originaltitle")),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),jQuery(d).is("select")&&(n+=" : "+jQuery(d).val()),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),price:parseFloat(jQuery(d).data("resprice")),quantity:1,step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s})),0<u.find("input[type=checkbox]:checked").length&&(d=u.find("input[type=checkbox]:checked").get(0),a=parseFloat(jQuery(d).data("price")),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),jQuery(d).data("price")?("+"==jQuery(d).data("operation")?"left"==t.currencyPosition?a=t.currency+a:a+=t.currency:"-"==jQuery(d).data("operation")?"left"==t.currencyPosition?a="-"+t.currency+a:a+="-"+t.currency:a="/"==jQuery(d).data("operation")?"-"+a+"%":"+"+a+"%",o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" ("+jQuery(d).val()+")")):(o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" : "+jQuery(d).val())),n=jQuery(d).attr("data-title"),jQuery(d).is("[data-originaltitle]")&&jQuery(d).is('[data-showprice="1"]')&&(n=jQuery(d).attr("data-originaltitle")),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),jQuery(d).is("select")&&(n+=" : "+jQuery(d).val()),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),price:parseFloat(jQuery(d).data("resprice")),quantity:1,step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s})),u.is(".lfb_richtext")&&!u.is(".lfb_shortcode")&&(d=u.get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:jQuery(d).attr("data-title"),itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:jQuery(d).html(),step:c.attr("data-title"),stepid:p,showInSummary:_})),0<u.find('div[data-type="slider"][data-itemid]').length&&(d=u.find('div[data-type="slider"]').get(0),a=parseFloat(jQuery(d).data("price")),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),0==(i=parseFloat(jQuery(d).slider("value")))&&(i=1),1<i&&0,jQuery(d).data("price")?("+"==jQuery(d).data("operation")?"left"==t.currencyPosition?a=t.currency+a:a+=t.currency:"-"==jQuery(d).data("operation")?"left"==t.currencyPosition?a="-"+t.currency+a:a+="-"+t.currency:a="/"==jQuery(d).data("operation")?"-"+a+"%":"+"+a+"%",o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" ("+jQuery(d).val()+")")):(o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" : "+jQuery(d).val())),n=jQuery(d).attr("data-title"),jQuery(d).is("[data-originaltitle]")&&jQuery(d).is('[data-showprice="1"]')&&(n=jQuery(d).attr("data-originaltitle")),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),jQuery(d).is("select")&&(n+=" : "+jQuery(d).val()),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),price:parseFloat(jQuery(d).data("resprice")),quantity:parseFloat(jQuery(d).slider("value")),step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s})),0<u.find("select[data-itemid]").length&&(d=u.find("select[data-itemid]").get(0),a=parseFloat(jQuery(d).data("price")),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),jQuery(d).data("price")&&0<jQuery(d).data("price")?("+"==jQuery(d).data("operation")?"left"==t.currencyPosition?a=t.currency+a:a+=t.currency:"-"==jQuery(d).data("operation")?"left"==t.currencyPosition?a="-"+t.currency+a:a+="-"+t.currency:a="/"==jQuery(d).data("operation")?"-"+a+"%":"+"+a+"%",o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" ("+jQuery(d).val()+")")):(o=jQuery(d).attr("data-originaltitle"),jQuery(d).is("select")&&(o+=" : "+jQuery(d).val())),n=jQuery(d).attr("data-title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),price:parseFloat(jQuery(d).data("resprice")),value:jQuery(d).val(),quantity:1,step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s})),0<u.find("input[type=file]").length&&(d=u.find("input[type=file]").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:jQuery(d).val(),step:c.attr("data-title"),stepid:p,showInSummary:_,isFile:!0})),0<u.find(".lfb_dropzone").length&&(d=u.find(".lfb_dropzone").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),r="",l=new Array,jQuery(d).find(".dz-preview[data-file]:not(.dz-error)").each(function(){l.push(jQuery(this).attr("data-file").replace(/ /g,"_")),r+=' - <span class="lfb_file">'+jQuery(this).attr("data-file").replace(/ /g,"_")+"</span><br/>",jQuery(this).attr("data-file").replace(/ /g,"_")}),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),0<l.length&&-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:r,step:c.attr("data-title"),stepid:p,showInSummary:_,isFile:!0,files:l})),0<u.find("input[type=text][data-itemid]:not(.lfb_colorpicker)").length&&(d=u.find("input[type=text]:not(.lfb_colorpicker)").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:jQuery(d).val(),step:c.attr("data-title"),stepid:p,showInSummary:_})),0<u.find("input[type=number][data-itemid]:not(.lfb_colorpicker)").length&&(d=u.find("input[type=number]:not(.lfb_colorpicker)").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),i=parseFloat(jQuery(d).val()),o=jQuery(d).val(),f=i=void 0,jQuery(d).is('[data-valueasqt="1"]')&&(o=void 0,i=jQuery(d).val(),f=parseFloat(jQuery(d).data("resprice")),isNaN(f)&&(f=parseFloat(jQuery(d).data("price")))),s=!1,jQuery(d).is('[data-singleprice="true"]')&&(s=!0),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:o,quantity:i,price:f,step:c.attr("data-title"),stepid:p,showInSummary:_,isSinglePrice:s})),0<u.find(".lfb_colorPreview").length&&(d=u.find(".lfb_colorPreview").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:jQuery(d).next(".lfb_colorpicker").val(),step:c.attr("data-title"),stepid:p,showInSummary:_})),0<u.find("textarea").length&&(d=u.find("textarea").get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:lfb_nl2br(jQuery(d).val()),step:c.attr("data-title"),stepid:p,showInSummary:_})),0<u.find(".lfb_rate").length&&(d=u.get(0),!c.is('[data-showstepsum="0"]')&&jQuery(d).is('[data-showinsummary="true"]')||(_=!1),n=jQuery(d).data("title"),jQuery(d).is("[data-originallabel]")&&(n=jQuery(d).attr("data-originallabel")),-1==jQuery.inArray(jQuery(d).attr("data-itemid"),m)&&(m.push(jQuery(d).attr("data-itemid")),b={label:n,itemid:jQuery(d).attr("data-itemid"),type:u.attr("data-itemtype"),value:u.find(".lfb_rate").rate("getValue"),step:c.attr("data-title"),stepid:p,showInSummary:_}))),b}function lfb_updateItemData(t,e){for(var a,r=!1,l=-1,o=0;o<t.itemsData.length;o++)if(t.itemsData[o].itemid==e){r=t.itemsData[o],l=o;break}jQuery('#lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] .lfb_itemContainer_'+e).is(".lfb_disabled")?r&&(t.itemsData=jQuery.grep(t.itemsData,function(t){return t.itemid!=e})):(a=lfb_getItemDataFromItem(t,e),r?t.itemsData[l]=a:t.itemsData.push(a))}function lfb_getItemData(t,e){for(var a=!1,r=0;r<t.itemsData.length;r++)if(t.itemsData[r].itemid==e){(a=t.itemsData[r])&&a.stepid==t.step&&(a=lfb_getItemDataFromItem(t,e));break}return a=a||lfb_getItemDataFromItem(t,e)}function lfb_getFormContent(t,e,a){var r=lfb_getForm(t),l="",o="",i="",f=new Array;o+="Ref : "+r.current_ref+" \n";var s=JSON.parse(JSON.stringify(lfb_lastSteps));e&&"final"!=r.step&&s.push(r.step),"final"==r.step&&s.push("final"),void 0!==a&&0!=a&&(s=new Array).push(a);new Array;for(var d=0;d<s.length;d++){var n=s[d],b=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+n+'"]');if(("final"==b.attr("data-stepid")||0<=jQuery.inArray(parseInt(b.attr("data-stepid")),lfb_plannedSteps))&&!jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-title][data-stepid="'+n+'"]').is(".lfb_disabled")){n=b.attr("data-stepid");"final"!=n&&parseInt(n),l+="<br/><p><u><b>"+b.data("title")+" :</b></u></p><br/>",o+="\n\n---------"+b.data("title")+" :---------\n";var m=new Array;b.find(".lfb_itemBloc:not(.lfb_disabled)").each(function(){var t=0,t=(0<jQuery(this).find("[data-itemid]").length?jQuery(this).find("[data-itemid]"):jQuery(this)).attr("data-itemid"),t=lfb_getItemData(r,t);t&&(f.push(t),m.push(t))});for(var u=0;u<m.length;u++)"richtext"!=m[u].type&&m[u].showInSummary&&void 0!==m[u].label&&(void 0!==m[u].price&&0<m[u].price?void 0!==m[u].value?(l+="    - "+m[u].label+" : "+m[u].value+" ("+m[u].price+")<br/>",o+=" - "+m[u].label+" : "+m[u].value+" ("+m[u].price+")\n"):void 0!==m[u].quantity&&1<m[u].quantity?(l+="    - "+m[u].label+" : "+m[u].quantity+" ("+m[u].price+")<br/>",o+=" - "+m[u].label+" : "+m[u].quantity+" ("+m[u].price+")\n"):(l+="    - "+m[u].label+" : "+m[u].price+"<br/>",o+=" - "+m[u].label+" : "+m[u].price+"\n"):void 0!==m[u].value?(l+="    - "+m[u].label+" : "+m[u].value+"<br/>",o+=" - "+m[u].label+" : "+m[u].value+"\n"):void 0!==m[u].quantity&&1<m[u].quantity?(l+="    - "+m[u].label+" : "+m[u].quantity+"<br/>",o+=" - "+m[u].label+" : "+m[u].quantity+"\n"):(l+="    - "+m[u].label+"<br/>",o+=" - "+m[u].label+"\n"))}}(!r.price||r.price<0)&&(r.price=0);return/^\d+(\.\d{2})?$/.test(r.price)||(r.price=parseFloat(r.price).toFixed(2)),""!=r.discountCode&&(0<r.reductionResult?(a=parseFloat(r.reductionResult).toFixed(2)+r.currency,"left"==r.currencyPosition&&(a=r.currency+parseFloat(r.reductionResult).toFixed(2)),l+="<br/> Coupon : "+r.discountCode+" ("+a+")"):l+="<br/> Coupon : "+r.discountCode),"left"==r.currencyPosition?(i+=r.currency+lfb_formatPrice(parseFloat(r.price).toFixed(2),t),o+="\n\nTotal : "+r.currency+lfb_formatPrice(parseFloat(r.price).toFixed(2),t)):(i+=lfb_formatPrice(parseFloat(r.price).toFixed(2),t)+r.currency,o+="\n\nTotal : "+lfb_formatPrice(parseFloat(r.price).toFixed(2),t)+r.currency),new Array(l,i,f,o)}function lfb_check_gform_response(t){var e,a,r=lfb_getForm(t);0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #gforms_confirmation_message').length&&(clearInterval(r.timer_gFormSubmit),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').length&&0<r.price?(e=r.price,"percent"==r.payMode?e=parseFloat(e)*(parseFloat(r.percentToPay)/100):"fixed"==r.payMode&&(e=parseFloat(r.fixedToPay)),e=parseFloat(e).toFixed(2),0<r.priceSingle?(a=r.priceSingle,"percent"==r.payMode?a=parseFloat(a)*(parseFloat(r.percentToPay)/100):"fixed"==r.payMode&&(a=parseFloat(r.fixedToPay)),0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=a1]').length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="a1" value="0">'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="p1" value="1">'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="t1" value="M">')),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=a1]').val(a),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=p1]').val(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=p3]').val())):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=a1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=t1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=p1]').remove()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=amount]').val(e),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=a3]').val(e),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=item_number]').val(r.current_ref),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=item_name]').val(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [name=item_name]').val()+" - "+r.current_ref),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm [type="submit"]').trigger("click")):(jQuery("#finalText").html(jQuery("#gform_wrapper_"+r.gravityFormID+" .gforms_confirmation_message").html()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #finalSlide #gforms_confirmation_message').fadeIn(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #finalSlide #lfb_summary').fadeOut(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #finalSlide #lfb_couponContainer').fadeOut(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #finalSlide #lfb_legalNoticeContent').fadeOut(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #finalSlide .linkPrevious').fadeOut(),lfb_finalStep(t)))}function lfb_quantity_less(t,e){var a=jQuery(t).parent().parent().find(".icon_quantity"),r=parseFloat(jQuery(t).parent().data("min")),t=parseInt(a.html());1<t&&r<t&&(t--,a.html(t),lfb_updatePrice(e))}function lfb_quantity_more(t,e){var a=jQuery(t).parent().parent().find(".icon_quantity"),r=parseFloat(jQuery(t).parent().data("max")),t=parseFloat(a.html());(t<r||0==r)&&(t++,a.html(t),lfb_updatePrice(e))}function lfb_checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function lfb_isIframe(){try{return window.self!==window.top}catch(t){return 1}}function lfb_cloneSummary(t,e){var a=lfb_getForm(e),r=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_summary').clone();"table-row"!=r.find("#lfb_summaryDiscountTr").css("display")&&r.find("#lfb_summaryDiscountTr").remove(),jQuery("body").is(".rtl")&&(r.css({textAlign:"right",direction:"rtl"}),r.find("table").css({textAlign:"right",direction:"rtl"})),r.addClass("lfb-hidden"),r.uniqueId();var l=4;return"1"==a.summary_showAllPricesEmail&&r.find(".lfb_hidePrice").removeClass("lfb_hidePrice").removeClass("lfb-hidden"),r.find("thead th").each(function(){jQuery(this).is(".lfb-hidden")&&l--}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_summary').after(r),r.children("h4").remove(),r.find("*:not(.lfb_value)").each(function(){jQuery(this).css({fontSize:jQuery(this).css("font-size"),padding:jQuery(this).css("padding"),textAlign:jQuery(this).css("text-align"),lineHeight:jQuery(this).css("line-height")})}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_summary table thead > tr > th:eq(1)').is(".lfb-hidden")&&(r.find("table thead > tr > th:eq(1)").remove(),r.find("table tbody td.lfb_valueTd").remove()),r.find("th.lfb_summaryStep").attr("align","center"),r.find("table").attr("width","90%"),r.find("table").css("width","90%"),r.find("table").attr("border","1"),r.find("table").attr("bordercolor",lfb_rgb2hex(r.find("table").css("border-color"))),r.find("table").attr("style","width:90%;margin:0 auto;"),r.find("thead td, thead th").each(function(){jQuery(this).attr("bgcolor",lfb_rgb2hex(r.find("thead").css("background-color"))),jQuery(this).css("background",lfb_rgb2hex(r.find("thead").css("background-color")))}),r.find("th").each(function(){jQuery(this).attr("bgcolor",lfb_rgb2hex(jQuery(this).css("background-color")))}),r.find("td,th").each(function(){jQuery(this).attr("color",lfb_rgb2hex(jQuery(this).css("color"))),jQuery(this).html('<span style="color: '+lfb_rgb2hex(jQuery(this).css("color"))+"; font-size: "+jQuery(this).css("font-size")+'">'+jQuery(this).html()+"</span>")}),r.find("table .lfb-hidden").remove(),r.find("table").attr("cellspacing","0"),r.find("table").attr("cellpadding","8"),r.find("table").attr("bgcolor","#FFFFFF"),r.find("td,th").each(function(){jQuery(this).attr("align",jQuery(this).css("text-align")),jQuery(this).css("padding",jQuery(this).css("padding"))}),"1"==a.summary_showAllPricesEmail&&(r.find(".lfb_summaryStep").attr("colspan",l),r.find("#lfb_summaryDiscountTr>th:eq(0),#lfb_summaryTotalTr>th:eq(0)").attr("colspan",l-1)),3==l?(r.find("td:not(:first-child)").each(function(){jQuery(this).attr("width","164")}),r.find("th:not(:first-child)").each(function(){jQuery(this).attr("width","164")}),r.find("tr>td:first-child").each(function(){jQuery(this).attr("width","340")}),r.find("tr>th:first-child").each(function(){jQuery(this).attr("width","340")})):2==l?(r.find("td:not(:first-child)").each(function(){jQuery(this).attr("width","50%")}),r.find("th:not(:first-child)").each(function(){jQuery(this).attr("width","50%")}),r.find("tr>td:first-child").each(function(){jQuery(this).attr("width","50%")}),r.find("tr>th:first-child").each(function(){jQuery(this).attr("width","50%")})):(r.find("td:not(:first-child)").each(function(){jQuery(this).attr("width","103")}),r.find("th:not(:first-child)").each(function(){jQuery(this).attr("width","103")}),r.find("tr>td:first-child").each(function(){jQuery(this).attr("width","332")}),r.find("tr>th:first-child").each(function(){jQuery(this).attr("width","332")})),r.find("*:not(.lfb_value)").each(function(){var t=lfb_rgb2hex(jQuery(this).css("color"));jQuery(this).css({color:""}),jQuery(this).attr("style",jQuery(this).attr("style")+";color:"+t),0<jQuery(this).attr("style").length?jQuery(this).attr("style",jQuery(this).attr("style")+";color:"+t):jQuery(this).attr("style","color:"+t)}),r.find("[data-tldinit]").removeAttr("data-tldinit"),r.find(".lfb_file").each(function(){jQuery(this).removeAttr("style"),jQuery(this).removeAttr("data-tldinit")}),r.html('<div id="lfb_summaryCt" style="padding-top: 24px;padding-bottom: 24px; text-align: center;">'+r.html()+"</div>"),r}function lfb_getContactInformations(t,e){var a;e?a={email:"",phone:"",firstName:"",lastName:"",address:"",city:"",state:"",zip:"",country:"",job:"",phoneJob:"",url:"",company:""}:((a=new Array).email="",a.phone="",a.firstName="",a.lastName="",a.address="",a.city="",a.state="",a.zip="",a.country="",a.job="",a.phoneJob="",a.url="",a.company=""),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="email"]').each(function(){0<jQuery(this).val().length&&lfb_checkEmail(jQuery(this).val())&&(a.email=jQuery(this).val())});jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="phone"]').each(function(){3<jQuery(this).val().length&&(a.phone=jQuery(this).val())});jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="firstName"]').each(function(){0<jQuery(this).val().length&&(a.firstName=jQuery(this).val())});jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="lastName"]').each(function(){0<jQuery(this).val().length&&(a.lastName=jQuery(this).val())});jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="address"]').each(function(){0<jQuery(this).val().length&&(a.address=jQuery(this).val())});jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="city"]').each(function(){0<jQuery(this).val().length&&(a.city=jQuery(this).val())});return jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="state"]').each(function(){0<jQuery(this).val().length&&(a.state=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="zip"]').each(function(){0<jQuery(this).val().length&&(a.zip=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="country"]').each(function(){0<jQuery(this).val().length&&(a.country=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="job"]').each(function(){0<jQuery(this).val().length&&(a.job=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="phoneJob"]').each(function(){0<jQuery(this).val().length&&(a.phoneJob=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="url"]').each(function(){0<jQuery(this).val().length&&(a.url=jQuery(this).val())}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] [data-fieldtype="company"]').each(function(){0<jQuery(this).val().length&&(a.company=jQuery(this).val())}),a}function lfb_getUrlVariables(a,t){var r=lfb_getForm(a),l="",o=new Array;jQuery.each(t,function(){var t,e;0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] [data-itemid="'+this.itemid+'"]').length&&((e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] [data-itemid="'+this.itemid+'"]')).is('[data-urlvariable="1"]')&&(t="0","quantity"==e.attr("data-sentattribute")?e.is(".lfb_dropzone")?(t=(t=(t=(t="").replace(/<span class="lfb_file">/g,"")).replace(/<\/span>/g,"")).substr(3,t.length),1==r.emailCustomerLinks&&(t="",e.find(".dz-success.dz-complete").each(function(){t+=jQuery(this).attr("data-url")+","}),0<t.length&&(t=t.substr(0,t.length-1)))):void 0!==this.value?t=this.value.replace(/\+/g,"%2b"):void 0!==this.quantity&&(t=this.quantity):"title"==e.attr("data-sentattribute")?t=e.attr("data-originallabel"):void 0!==this.price&&(t=this.price),e=0<(e=e.attr("data-variablename")).length&&0<e.replace(/ /g,"").length?lfb_formatForUrl(e):lfb_formatForUrl(this.label),"string"==typeof t&&(t=t.replace(/<br\s*[\/]?>/gi,"\n")),-1==o.indexOf(e)&&(o.push(e),l+="&"+e+"="+t)))});for(var e,i=0;i<r.variables.length;i++)1==r.variables[i].sendAsGet&&(l+="&"+lfb_formatForUrl(r.variables[i].title)+"="+r.variables[i].value.replace(/\+/g,"%2b"));return 0<l.length?(l="?"+l.substr(1,l.length),void 0!==r.orderRef&&(e=r.refVarName,l+="&"+e+"="+r.orderRef),""!=r.discountCode&&(l+="&coupon="+r.discountCode+"&discount="+r.reductionResult)):void 0!==r.orderRef?(e=r.refVarName,l+="?"+e+"="+r.orderRef,""!=r.discountCode&&(l+="&coupon="+r.discountCode+"&discount="+r.reductionResult)):""!=r.discountCode&&(l+="?coupon="+r.discountCode+"&discount="+r.reductionResult),l}function lfb_formatForUrl(t){return t=(t=t.replace(/ /g,"_")).replace(/[^\w\s]/gi,"")}function lfb_orderSend(i,t,e,a){var f=lfb_getForm(i),s=lfb_getFormContent(i),d=(d=s[0]).replace(/<br\/>/g,"[n]"),r=s[1],l=s[2];f.urlVariables="",1==f.sendUrlVariables&&(f.urlVariables=lfb_getUrlVariables(i,s[2],!0)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').is("[data-subs]")&&(r+=jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').attr("data-subs"));var o=0,n=!0;jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-activatePaypal="true"]:not(:checked):not(.checked)').each(function(){var t=jQuery(this).closest(".lfb_genSlide").attr("data-stepid");"final"!=t&&(t=parseInt(t)),-1==jQuery.inArray(t,lfb_lastSteps)||(n=!1)}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').find('[data-dontactivatepaypal="true"].checked,[data-dontactivatepaypal="true"]:checked').length&&(n=!1),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_paypalForm').is('[data-useipn="1"]')&&(o=1);var b=lfb_cloneSummary(!1,i),m=b.html();b.remove();var u=lfb_getContactInformations(i);e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] .emailField').val(),lfb_checkEmail(u.email)&&(e=u.email);var p=parseFloat(f.price),c=0,_="",y=jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"]').attr("data-formtitle");jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"]').is('[data-isSubs="true"]')&&(p=parseFloat(f.priceSingle),c=parseFloat(f.price),_=f.subscriptionText);var h=new Array;jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #finalSlide input[type=text],#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #finalSlide input[type=email], #lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #finalSlide textarea').each(function(){0==jQuery(this).closest("#lfb_paypalForm").length&&h.push({fieldID:jQuery(this).prop("id").substr(6,9),value:lfb_nl2br(jQuery(this).val())})});n=!0;jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-activatePaypal="true"]:not(:checked):not(.checked)').each(function(){var t=jQuery(this).closest(".lfb_genSlide").attr("data-stepid");"final"!=t&&(t=parseInt(t)),-1==jQuery.inArray(t,lfb_lastSteps)||(n=!1)}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').find('[data-dontactivatepaypal="true"].checked,[data-dontactivatepaypal="true"]:checked').length&&(n=!1);if("undefined"!=typeof ga)try{ga("set","page",location.pathname+"#Form+sent"),ga("send","pageview")}catch(t){}f.emailSent=!0,null!==localStorage.getItem("lfb_savedFormID")&&parseInt(localStorage.getItem("lfb_savedFormID"))==i&&null!==localStorage.getItem("lfb_savedForm")&&(localStorage.removeItem("lfb_savedFormID"),localStorage.removeItem("lfb_formsession"),localStorage.removeItem("lfb_savedForm"),localStorage.removeItem("lfb_savedFormPastSteps"),localStorage.removeItem("lfb_savedFormStep")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] .lfb_btnSaveForm').fadeOut();var g=new Array;jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] .lfb_datepicker[data-calendarid!="0"][data-registerevent="1"]').each(function(){var t,e;""!=jQuery(this).val()&&((t={}).calendarID=parseInt(jQuery(this).attr("data-calendarid")),t.duration=parseInt(jQuery(this).attr("data-eventduration")),t.durationType=jQuery(this).attr("data-eventdurationtype"),"mins"==t.durationType&&(t.durationType="minutes"),t.isBusy=parseInt(jQuery(this).attr("data-eventbusy")),t.categoryID=parseInt(jQuery(this).attr("data-eventcategory")),t.startDate=moment(jQuery(this).datetimepicker("getDate")).format("YYYY-MM-DD HH:mm"),t.endDate=moment(jQuery(this).datetimepicker("getDate")).add(t.duration,t.durationType).format("YYYY-MM-DD HH:mm"),t.title=jQuery(this).attr("data-eventtitle"),"date"==jQuery(this).attr("data-datetype")?(t.startDate=moment(jQuery(this).datetimepicker("getDate")).format("YYYY-MM-DD"),t.endDate=moment(jQuery(this).datetimepicker("getDate")).add(t.duration,t.durationType).format("YYYY-MM-DD"),t.startDate==t.endDate&&(t.fullDay=1)):t.fullDay=0,"1"==jQuery(this).attr("data-useasdaterange")&&(e=jQuery(this).attr("data-enddaterangeid"),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-itemid="'+e+'"]').length&&(t.fullDay=0,"date"==jQuery(this).attr("data-datetype")?t.endDate=moment(jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-itemid="'+e+'"]').datetimepicker("getDate")).format("YYYY-MM-DD"):t.endDate=moment(jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-itemid="'+e+'"]').datetimepicker("getDate")).format("YYYY-MM-DD HH:mm"))),g.push(t))}),void 0!==f.verifiedEmail&&f.verifiedEmail?e=f.verifiedEmail:f.verifiedEmail="";var j="";1==f.useSignature&&(j=f.signature.signature("toDataURL","image/png"));var u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_finalPrice').clone(),Q=-1;u.find("span").each(function(t){"none"==jQuery(this).css("display")&&(Q=t)}),-1<Q&&u.children("span")[Q].remove();u=u.text();jQuery.ajax({url:f.ajaxurl,type:"post",data:{action:"send_email",formID:f.formID,informations:t,email:e,customerInfos:lfb_getContactInformations(f.formID,!0),summary:m,stripeCustomerID:f.stripeCustomerID,stripeToken:f.stripeToken,stripeSrc:f.stripeSrc,totalTxt:r,email_toUser:f.email_toUser,usePaypalIpn:o,discountCode:f.discountCode,formSession:jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_formSession').val(),totalText:u,total:p,totalSub:c,subFrequency:_,formTitle:y,contactSent:f.contactSent,contentTxt:d,items:l,fieldsLast:h,activatePaypal:n,captcha:f.captcha,useRtl:jQuery("body").is(".rtl"),finalUrl:lfb_getRedirectionURL(f.formID),eventsData:JSON.stringify(g),razorpayReady:f.razorpayReady,variables:JSON.stringify(f.variables),verifiedEmail:f.verifiedEmail,signature:j,vatPrice:f.vatPrice,vatLabel:f.vatLabel,vatAmount:f.vatAmount},success:function(t){var e,a,r,l,o=!1;f.orderRef=t,1==f.sendUrlVariables&&(f.urlVariables=lfb_getUrlVariables(i,s[2])),"1"==f.enableZapier&&0<f.zapierWebHook.length&&(1<(e=lfb_getUrlVariables(i,s[2])).length&&(o=!0,e=e.substr(1,e.length),jQuery.ajax({url:f.zapierWebHook,type:"get",data:e,success:function(){lfb_finalStep(i)}}))),b.remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_loader').delay(1e3).fadeOut(),n&&void 0===f.stripePaid&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').length&&(0<f.price||0<f.priceSingle)&&(e=f.price,"percent"==f.payMode?e=parseFloat(e)*(parseFloat(f.percentToPay)/100):"fixed"==f.payMode&&(e=parseFloat(f.fixedToPay)),e=parseFloat(e).toFixed(2),0<f.priceSingle?(a=f.priceSingle,"percent"==f.payMode?a=parseFloat(a)*(parseFloat(f.percentToPay)/100):"fixed"==f.payMode&&(a=parseFloat(f.fixedToPay)),a=parseFloat(a).toFixed(2),0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a1]').length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="a1" value="0"/>'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="p1" value="1"/>'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="t1" value="M"/>')),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a1]').val(a),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=p1]').val(jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=p3]').val()),e<=0&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=cmd]').val("_xclick"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a3]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=t3]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=p3]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=bn]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=no_note]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=src]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=t1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=p1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').append('<input type="hidden" name="amount" value="'+a+'"/>'))):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=t1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=p1]').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=amount]').val(e)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name="return"]').val(lfb_getRedirectionURL(i)),""!=(a=lfb_getRedirectionURL(i))&&"#"!=a&&" "!=a&&(""!=f.urlVariables&&-1<a.indexOf("?")&&f.urlVariables.replace("?","&"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_paypalForm input[name="return"]').val(a+f.urlVariables)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=a3]').val(e),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=custom]').val(t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=item_number]').val(t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=item_name]').val(jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [name=item_name]').val()+" - "+t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm [type="submit"]').trigger("click")),n&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_paypalForm').length&&(0<f.price||0<f.priceSingle)&&void 0===f.stripePaid||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_stripeForm').length&&0<f.price||f.save_to_cart||f.save_to_cart_edd||o||lfb_finalStep(i),f.save_to_cart_edd&&(r=new Array,l=JSON.parse(JSON.stringify(lfb_lastSteps)),"final"!=f.step&&-1==jQuery.inArray(parseInt(f.step),l)?l.push(parseInt(f.step)):"final"==f.step&&-1==jQuery.inArray("final",l)&&l.push("final"),jQuery.each(l,function(){jQuery(' #lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"]').find('div.lfb_selectable.checked:not(.lfb_disabled),a.lfb_button.checked:not(.lfb_disabled),input[type=checkbox]:checked:not(.lfb_disabled),[data-type="slider"]:not(.lfb_disabled)').each(function(){var t=1;0<parseInt(jQuery(this).data("resqt"))&&(t=parseInt(jQuery(this).data("resqt"))),jQuery(this).is('[data-type="slider"]')&&(t=parseInt(jQuery(this).slider("value")),isNaN(parseInt(jQuery(this).find(".tooltip-inner").html()))||(t=parseInt(jQuery(this).find(".tooltip-inner").html()))),0<parseInt(jQuery(this).data("prodid"))&&r.push({quantity:t,product_id:parseInt(jQuery(this).data("prodid")),variation:parseInt(jQuery(this).data("eddvar"))})})}),jQuery.ajax({url:f.ajaxurl,type:"post",data:{action:"lfb_cartdd_save",products:r},success:function(){lfb_finalStep(i)}})),f.save_to_cart&&(r=new Array,l=JSON.parse(JSON.stringify(lfb_lastSteps)),"final"!=f.step&&-1==jQuery.inArray(parseInt(f.step),l)?l.push(parseInt(f.step)):"final"==f.step&&-1==jQuery.inArray("final",l)&&l.push("final"),jQuery.each(l,function(){jQuery(' #lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"]').find('div.lfb_selectable.checked:not(.lfb_disabled),a.lfb_button.checked:not(.lfb_disabled),input[type=checkbox]:checked:not(.lfb_disabled),[data-type="slider"]:not(.lfb_disabled),select[data-itemid]:not(.lfb_disabled)').each(function(){var t=1;0<parseInt(jQuery(this).data("resqt"))&&(t=parseInt(jQuery(this).data("resqt"))),jQuery(this).is('[data-type="slider"]')&&(t=parseInt(jQuery(this).slider("value"))),0<parseInt(jQuery(this).data("prodid"))&&r.push({quantity:t,title:jQuery(this).attr("data-originaltitle"),product_id:parseInt(jQuery(this).data("prodid")),variation:parseInt(jQuery(this).attr("data-woovar")),price:parseFloat(jQuery(this).data("resprice")/t).toFixed(2)})})}),jQuery.ajax({url:f.ajaxurl,type:"post",data:{action:"lfb_cart_save",formID:i,ref:t,emptyWooCart:f.emptyWooCart,products:r,contentTxt:d},success:function(){lfb_finalStep(i)}}))}})}function lfb_checkLastStepFields(t){var e=lfb_getForm(t),a=!0;return jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide input[type=text],#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide input[type=email], #lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide textarea').each(function(){0==jQuery(this).closest("#lfb_paypalForm").length&&(jQuery(this).is(".lfb_disabled")||(jQuery(this).attr("data-required")&&"true"==jQuery(this).attr("data-required")&&jQuery(this).val().length<1&&(a=!1,jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).is("#lfb_captchaField")||(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_fullscreen")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_popup")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').animate({scrollTop:jQuery(this).parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed):"1"==e.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*e.animationsSpeed):jQuery("body,html").animate({scrollTop:jQuery(this).parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed))),jQuery(this).is(".emailField")&&!lfb_checkEmail(jQuery(this).val())&&(a=!1,jQuery(this).closest(".form-group").addClass("has-error"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_fullscreen")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_popup")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').animate({scrollTop:jQuery(this).parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed):"1"==e.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*e.animationsSpeed):jQuery("body,html").animate({scrollTop:jQuery(this).parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed))))}),a}function lfb_order(t){var e=lfb_getForm(t),a=!0,r="",l=new Array;jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide .form-group').removeClass("has-error"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide').find('.lfb_item input:not([type="checkbox"])[data-itemid],.lfb_item textarea[data-itemid],.lfb_item select[data-itemid]').each(function(){var t;0==jQuery(this).closest("#lfb_paypalForm").length&&(jQuery(this).is(".lfb_disabled")||jQuery(this).is("#lfb_couponField")||jQuery(this).is("#lfb_captchaField")||(t=":",jQuery(this).closest(".lfb_item").find("label").html().lastIndexOf(":")==jQuery(this).closest(".lfb_item").find("label").html().length-1&&(t=""),jQuery("body").is(".rtl")?r+='<p><b><span class="lfb_value">'+jQuery(this).val()+"</span></b>"+t+" "+jQuery(this).closest(".lfb_item").find("label").html()+"</p>":r+="<p>"+jQuery(this).closest(".lfb_item").find("label").html()+" "+t+' <b><span class="lfb_value">'+jQuery(this).val()+"</span></b></p>"))}),a=lfb_checkStepItemsValid("final",t),1==e.legalNoticeEnable&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_legalCheckbox').is(":checked")||(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_legalCheckbox').closest(".form-group").addClass("has-error"),a=!1)),1==a&&lfb_checkUserEmail(e)&&lfb_checkCaptcha(e,function(){var t=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"][data-required="true"]').last().val();jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide').find("#lfb_btnOrder,.linkPrevious").fadeOut(250),lfb_uploadFiles(e.formID,r,t,l)})}function lfb_previousStep(a){var r=lfb_getForm(a),t=navigator.userAgent.toLowerCase(),e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]  #lfb_mainPanel').offset().top-100;jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').is(".lfb_fullscreen")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').is(".lfb_popup")?((e=0)<r.intro_enabled&&(e=lfb_zeroIfNan(jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #startInfos').height())+100),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').animate({scrollTop:e},250)):(0<jQuery("header").length&&lfb_isAnyParentFixed(jQuery("header"))&&(e-=lfb_zeroIfNan(jQuery("header").height())),e-=48+parseInt(lfb_getScrollTopMargin(r)),"1"==r.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*r.animationsSpeed):jQuery("body,html").animate({scrollTop:e},250)),t.match(/(iPad|iPhone|iPod)/i)&&(jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+r.formID+'"] > .tooltip').remove()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_errorMsg').hide(),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r.step+'"]').find("a.lfb_button.checked:not(.prechecked)").each(function(){lfb_itemClick(jQuery(this),!1,a)}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r.step+'"]').find("div.lfb_selectable.checked:not(.prechecked)").each(function(){lfb_itemClick(jQuery(this),!1,a)}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r.step+'"]').find('input[data-toggle="switch"]:checked:not(.prechecked)').each(function(){jQuery(this).trigger("click.auto")});var l=!1,o=0,i=0;jQuery.each(lfb_lastSteps,function(t){var e=this;parseInt(e)==parseInt(r.step)&&(l=!0),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_executed').removeClass("lfb_executed"),l||(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_item:not(.lfb-hidden)').length||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_distanceError').length)&&!jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').is(".lfb_disabled")&&(o=e,i=t)}),lfb_lastSteps=jQuery.grep(lfb_lastSteps,function(t,e){if(e<=i)return t}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide.lfb_activeStep').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+o+'"] .lfb_genContent').css("opacity",0),lfb_changeStep(o,a)}function lfb_returnToStep(t,e){var a=lfb_getForm(e);if(t!=a.step){navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i)&&(jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+a.formID+'"] > .tooltip').remove()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] .lfb_errorMsg').hide(),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+a.step+'"]').find("a.lfb_button.checked:not(.prechecked)").each(function(){lfb_itemClick(jQuery(this),!1,e)}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+a.step+'"]').find("div.lfb_selectable.checked:not(.prechecked)").each(function(){lfb_itemClick(jQuery(this),!1,e)}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+a.step+'"]').find('input[data-toggle="switch"]:checked:not(.prechecked)').each(function(){jQuery(this).trigger("click.auto")});for(var r=lfb_lastSteps.indexOf(t),l=[],o=r+1;o<lfb_lastSteps.length;o++)l.push(lfb_lastSteps[o]);a.itemsData=jQuery.grep(a.itemsData,function(t,e){if(-1==l.indexOf(parseInt(t.stepid)))return t}),lfb_lastSteps=jQuery.grep(lfb_lastSteps,function(t,e){if(e<=r)return t}),lfb_changeStep(t,e),setTimeout(function(){lfb_updateSummary(e,!0)},350),setTimeout(function(){lfb_updateStep(e)},2e3)}}function lfb_uploadFiles(i,f,t,s){var e,a,r=!0,d=lfb_getForm(i);d.useRazorpay&&!d.razorpayReady?(r=!1,e=d.price,a=0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+d.formID+'"]').is('[data-isSubs="true"]')&&(a=d.price,(e=0)<d.priceSingle&&(e=d.priceSingle)),jQuery.ajax({url:d.ajaxurl,type:"post",data:{action:"lfb_makeRazorPayment",formID:i,singleCost:e,subCost:a,ref:d.current_ref,email:t},success:function(t){var e,a,r,l,o;-1==t.trim().indexOf("error")?(e=t.trim(),r=a=o="",l=jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] .emailField').val(),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-fieldtype="firstName"]').length&&(a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-fieldtype="firstName"]').val()),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-fieldtype="lastName"]').length&&(r=jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] [data-fieldtype="lastName"]').val()),o=a+" "+r,o={key:d.razorpay_publishKey,name:d.title,description:"",image:d.razorpay_logoImg,handler:function(t){d.razorpayReady=!0,lfb_uploadFiles(i,f,l,s)},prefill:{name:o,email:l},theme:{color:d.colorA}},0==e.indexOf("sub_")?o.subscription_id=e:o.order_id=e,new Razorpay(o).open()):alert(t)}})):jQuery('#lfb_form.lfb_bootstraped[data-form="'+d.formID+'"]').is('[data-emaillaststep="1"]')||(jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').is(".lfb_fullscreen")?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').css("overflow-y","hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').animate({scrollTop:0},2*d.animationsSpeed)):"1"==d.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*d.animationsSpeed):jQuery("body,html").animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').offset().top-(80+parseInt(lfb_getScrollTopMargin(d)))},2*d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] .lfb_btnFloatingSummary').fadeOut(d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_floatingSummary').fadeOut(d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_loader').fadeIn(2*d.animationsSpeed),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel').fadeOut(2*d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #startInfos').fadeOut(2*d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #genPrice').fadeOut(2*d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_stepper').fadeOut(2*d.animationsSpeed),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel .lfb_genSlide').fadeOut(2*d.animationsSpeed),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel .lfb_btn-next').fadeOut(d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #lfb_mainPanel .lfb_btnNextContainer').fadeOut(d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #finalText').css({opacity:0,display:"block"}),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').is(".lfb_fullscreen")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').animate({scrollTop:0},2*d.animationsSpeed):"1"==d.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*d.animationsSpeed):jQuery("body,html").animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"]').offset().top-(80+parseInt(lfb_getScrollTopMargin(d)))},2*d.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+i+'"] #finalText').animate({opacity:1},2*d.animationsSpeed)},4*d.animationsSpeed+50)},2*d.animationsSpeed+50)),r&&lfb_orderSend(i,f,t,s)}function lfb_isAnyParentFixed(t,e){e=e||!1;try{0<t.parent().length&&"fixed"==t.parent().css("position")&&(e=!0)}catch(t){}return!e&&0<t.parent().length&&(e=lfb_isAnyParentFixed(t.parent(),e)),e}function lfb_is_touch_device(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}function lfb_toggleFloatingSummary(t){(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').is(".lfb_open")?lfb_closeFloatingSummary:lfb_showFloatingSummary)(t)}function lfb_closeFloatingSummary(t){jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').removeClass("lfb_open"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').stop().slideUp()}function lfb_showFloatingSummary(t){jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').addClass("lfb_open"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').stop().slideDown()}function lfb_updateFloatingSummary(t){var e,a,r=lfb_getForm(t);0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').length&&(e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_summary').clone(),a=!1,"1"==r.floatSummary_showInfo&&(a=!0),0==e.find("tbody").children(":not(.lfb_static)").length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').is('[data-numberstep="1"]')?(lfb_closeFloatingSummary(t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnFloatingSummary:not(.disabled)').addClass("disabled")):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnFloatingSummary').removeClass("disabled"),e.find("h4").remove(),e.attr("id","lfb_floatingSummaryContent"),e.removeClass("lfb-hidden"),a||e.find(".lfb_valueTd,.lfb_valueTh").addClass("lfb-hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').is('[data-hideprices="1"]')&&(e.find(".lfb_priceTd,.lfb_priceTh").addClass("lfb-hidden"),e.find("#lfb_summaryDiscountTr,#lfb_summaryTotalTr").addClass("lfb-hidden")),e.find(".lfb_summaryStep").attr("colspan",e.find("thead th:not(.lfb-hidden)").length),a||e.find("tr.lfb_noPriceRow").remove(),e.find("#lfb_summaryDiscountTr>th:eq(0),#lfb_summaryTotalTr>th:eq(0)").attr("colspan",e.find("thead th:not(.lfb-hidden)").length-1),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary #lfb_floatingSummaryInner').html(e),e.find(".lfb_summaryStep").on("click",function(){var t=jQuery(this).closest("#lfb_form").attr("data-form"),e=lfb_getForm(t),a=parseInt(jQuery(this).attr("data-step"));void 0!==e.canGoprevious&&!e.canGoprevious||lfb_returnToStep(a,t)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_floatingSummary').is('[data-numberstep="1"]')&&e.find(".lfb_summaryStep").each(function(t){t+=1;jQuery(this).find("strong").html(t+". "+jQuery(this).find("strong").html())})))}function lfb_updateSummary(d,t){var n,b,m,e,a,r,l,o,u=lfb_getForm(d);(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary').length||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_floatingSummary').length)&&(t=lfb_getFormContent(d,t?!1:!0)[2],b=!(n=-1),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr:not(.lfb_static)').remove(),m="",1==u.summary_hidePrices&&(m="lfb-hidden lfb_hidePrice"),jQuery.each(t,function(){var t,e,a,r,l,o,i,f,s=this;null!=s.label&&""!=s.label&&"undefined"!=s.label&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] [data-itemid="'+s.itemid+'"]').is(".lfb_disabled")||0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr[data-item="'+s.itemid+'"]').length&&(isNaN(s.stepid)&&(s.stepid="final"),"final"==s.stepid&&"1"==u.summary_hideFinalStep||(s.stepid==n||jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"]').is('[data-sumhidesteps="1"]')||(i=jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_genSlide[data-stepid="'+s.stepid+'"]').attr("data-title"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody #lfb_summaryDiscountTr').before('<tr><th colspan="4" class="lfb_summaryStep" data-step="'+s.stepid+'">'+i+"</th>")),n=s.stepid,isNaN(s.quantity)&&(s.quantity=1),t="",isNaN(s.price)&&(t="lfb_noPriceRow",s.price=0),e=s.value,void 0===s.value?e="":t+=" lfb_infoRow",""!=e&&s.showInSummary&&(b=!0),a=s.price,r=lfb_formatPrice(s.quantity,d),""!=e&&0==a&&1==r?a=r="":(f=!1,parseFloat(a)<0&&(f=!0,a*=-1),a="left"==u.currencyPosition?u.currency+""+lfb_formatPrice(parseFloat(a).toFixed(2),d):lfb_formatPrice(parseFloat(a).toFixed(2),d)+""+u.currency,f&&(a="- "+a)),s.isFile,l="",1==u.summary_hideQt&&(l="lfb-hidden"),1==u.summary_hideZero&&0==s.price&&(a=""),1==u.summary_hideZeroQt&&0==s.quantity&&(r=""),o="",s.showInSummary||(o="lfb-hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] [data-itemid="'+s.itemid+'"]').is('[data-hideqtsum="true"]')&&(r=""),0<u.priceSingle&&!s.isSinglePrice&&(""!=a||0<a)&&(a+=" "+u.subscriptionText),u.price<=0?jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary .lfb_subTxt').addClass("lfb-hidden"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary .lfb_subTxt').removeClass("lfb-hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] [data-itemid="'+s.itemid+'"]').is('[data-hidepricesum="true"]')&&(a=""),i="",1==u.summary_showDescriptions&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid+" .lfb_itemDes").length&&""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid+" .lfb_itemDes").html()?i='<br/><span class="lfb_sumItemDes" style="font-size:12px;">'+jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid+" .lfb_itemDes").html()+"</span>":0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid+" .lfb_imageButtonDescription").length&&(i='<br/><span class="lfb_sumItemDes">'+jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid+" .lfb_imageButtonDescription").html()+"</span>")),f=!0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] [data-itemid="'+s.itemid+'"]').is('[data-hidezeropricesum="true"]')&&0==s.price&&(f=!1),f&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] .lfb_itemContainer_'+s.itemid).is('[data-itemtype="filefield"]')?jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody #lfb_summaryDiscountTr').before('<tr data-item="'+s.itemid+'" data-itemstep="'+s.stepid+'" class="'+t+" "+o+'"><td>'+s.label+i+'</td><td class="lfb_valueTd ">'+e+'</td><td class="lfb_quantityTd '+l+'">'+r+'</td><td class="lfb_priceTd '+m+'">'+a+"</td></tr>"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody #lfb_summaryDiscountTr').before('<tr data-item="'+s.itemid+'" data-itemstep="'+s.stepid+'" class="'+t+" "+o+'"><td>'+s.label+i+'</td><td class="lfb_valueTd "><span class="lfb_value">'+e+'</span></td><td class="lfb_quantityTd '+l+'">'+r+'</td><td class="lfb_priceTd '+m+'">'+a+"</td></tr>")))))}),0<u.reductionResult&&(e=parseFloat(u.reductionResult).toFixed(2)+u.currency,"left"==u.currencyPosition&&(e=u.currency+parseFloat(u.reductionResult).toFixed(2)),e="-"+e,jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscount>span').html(e),u.discountCodeDisplayed||(a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr th[colspan]').html(),0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr th[colspan] i').length&&(":"==a.substr(a.length-1,1)?jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr th[colspan]').html(a.substr(0,a.length-1)+" <i>("+u.discountCode+")</i> :"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr th[colspan]').html(a+" <i>("+u.discountCode+")</i>"))),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr').css("display","table-row"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_floatingSummary #lfb_summaryDiscountTr').css("display","table-row")),1==u.useVAT&&(0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_vatRow').length&&((l=jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr').clone()).attr("id","lfb_vatRow"),l.find("#lfb_summaryDiscount").attr("id","lfb_summaryVat"),l.children("th").first().html(u.vatLabel+" "+u.vatAmount+"% :"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr').after(l)),r=u.currency+lfb_formatPrice(parseFloat(u.vatPrice).toFixed(2),d),"left"!=u.currencyPosition&&(r=lfb_formatPrice(parseFloat(u.vatPrice).toFixed(2),d)+u.currency),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryVat').html(r)),(!u.price||u.price<0)&&(u.price=0),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tr th.lfb_summaryStep').each(function(){0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tr[data-itemstep="'+jQuery(this).attr("data-step")+'"]:not(.lfb-hidden)').length&&jQuery(this).parent().addClass("lfb-hidden")}),t=u.currency+""+lfb_formatPrice(parseFloat(u.price).toFixed(2),d),u.currency,lfb_formatPrice(parseFloat(u.priceSingle).toFixed(2),d),"left"!=u.currencyPosition&&(t=lfb_formatPrice(parseFloat(u.price).toFixed(2),d)+""+u.currency,lfb_formatPrice(parseFloat(u.priceSingle).toFixed(2),d),u.currency),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html(t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').is("[data-totalrange]")&&0<parseFloat(u.price)&&(e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').attr("data-rangelabelbetween"),a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').attr("data-rangelabeland"),l=parseFloat(jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').attr("data-totalrange")),r=parseFloat(u.price)-l/2,t=parseFloat(u.price)+l/2,jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').is('[data-rangemode="percent"]')&&(r=parseFloat(u.price)-parseFloat(u.price)*l/100,t=parseFloat(u.price)+parseFloat(u.price)*l/100),r<0&&(r=0),t<0&&(t=0),o=e+" <strong>"+u.currency+lfb_formatPrice(r,d)+"</strong> "+a+" <strong>"+u.currency+lfb_formatPrice(t,d)+"</strong>","left"!=u.currencyPosition&&(l=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+u.formID+'"]').attr("data-totalrange")),o=e+" <strong>"+lfb_formatPrice(r,d)+u.currency+"</strong> "+a+" <strong>"+lfb_formatPrice(t,d)+u.currency+"</strong>"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html(o)),o=4,1==u.summary_hideQt&&--o,1==u.summary_hidePrices&&--o,b?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table thead th:eq(1)').show().removeClass("lfb-hidden"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr:eq(1)').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody td.lfb_valueTd').show()):(--o,jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table td.lfb_valueTd').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table thead th:eq(1)').hide().addClass("lfb-hidden")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr#lfb_summaryTotalTr th[colspan]').attr("colspan",o-1),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr#lfb_summaryDiscountTr th[colspan]').attr("colspan",o-1),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary table tbody tr th.lfb_summaryStep').attr("colspan",o)),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_vatRow').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_vatRow').children("th").first().attr("colspan",jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary #lfb_summaryDiscountTr').children("th").first().attr("colspan")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"]').is('[data-sumstepsclick="1"]')&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"] #lfb_summary .lfb_summaryStep:not([data-step="final"])').each(function(){jQuery(this).css("cursor","pointer"),jQuery(this).on("click",function(){var t=jQuery(this).closest("#lfb_form").attr("data-form"),e=lfb_getForm(t),a=parseInt(jQuery(this).attr("data-step"));void 0!==e.canGoprevious&&!e.canGoprevious||lfb_returnToStep(a,t)})}),setTimeout(function(){lfb_updateFloatingSummary(d)},300),jQuery('#lfb_form.lfb_bootstraped[data-form="'+d+'"]').trigger("summaryUpdated")}function lfb_changeStep(e,a){var r=lfb_getForm(a);jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel').css("max-height",jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel').height()),jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+r.formID+'"] > .tooltip').remove(),jQuery('#lfb_form[data-form="'+r.formID+'"] .datetimepicker ').hide(),(0<r.intro_enabled||0<r.step)&&(s=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]  #lfb_mainPanel').offset().top-100,jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').is(".lfb_fullscreen")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').is(".lfb_popup")?((s=0)<r.intro_enabled&&(s=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #startInfos').height()+100),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').animate({scrollTop:s},250)):(0<jQuery("header").length&&lfb_isAnyParentFixed(jQuery("header"))&&(s-=jQuery("header").height()),s-=48+parseInt(lfb_getScrollTopMargin(r)),"1"==r.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*r.animationsSpeed):jQuery("body,html").animate({scrollTop:s},250))),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] .quantityBtns').removeClass("open"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] .quantityBtns').fadeOut(r.animationsSpeed/4),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide').fadeOut(2*r.animationsSpeed),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_btn-next').fadeOut(r.animationsSpeed/2),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_btnNextContainer').fadeOut(r.animationsSpeed/2),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_linkPreviousCt').fadeOut(r.animationsSpeed/2),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_distanceError').fadeOut(r.animationsSpeed/2);var l=!0;0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').length&&0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').length&&0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_razorPayCt').length&&(l=!1),"final"==e?(lfb_updateSummary(a),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] [data-activatePaypal="true"]:not(:checked):not(.checked)').each(function(){var t=jQuery(this).closest(".lfb_genSlide").attr("data-stepid");"final"!=t&&(t=parseInt(t)),-1==jQuery.inArray(t,lfb_lastSteps)||(l=!1)}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').find('[data-dontactivatepaypal="true"].checked,[data-dontactivatepaypal="true"]:checked').length&&(l=!1),l?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paymentMethodBtns').show(),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paymentMethodBtns').length?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_razorPayCt').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').closest(".lfb_btnNextContainer").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').hide()):(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_btnNextContainerStripe').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnOrder').closest(".lfb_btnNextContainer").hide()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_razorPayCt').show(),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnOrder').closest(".lfb_btnNextContainer").hide(),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm .lfb_btnNextContainer').fadeIn()},2*r.animationsSpeed)))):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paymentMethodBtns').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_razorPayCt').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paypalForm').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_btnNextContainerStripe').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnPayStripe').closest(".lfb_btnNextContainer").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_btnOrder').closest(".lfb_btnNextContainer").show()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"]').is('[data-emaillaststep="1"]')&&!r.emailSent&&setTimeout(function(){lfb_updatePrice(a),setTimeout(function(){lfb_order(a)},1e3)},1200)):lfb_updateFloatingSummary();var t=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').find(".lfb_stepTitle"),o=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').find("p.lfb_stepDescription"),i=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').find(".lfb_genContent"),f=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').find(".lfb_totalBottomContainer");if(i.find(".lfb_genContentSlide").removeClass("active"),i.find(".lfb_genContentSlide").eq(0).addClass("active"),i.animate({opacity:0},r.animationsSpeed),o.animate({opacity:0},r.animationsSpeed),t.removeClass("positioned"),t.css({"-webkit-transition":"none",transition:"none"}),f.animate({opacity:0},r.animationsSpeed),"undefined"!=typeof ga)try{ga("set","page",location.pathname+"#"+encodeURIComponent(t.html()).replace(/%20/g,"+")),ga("send","pageview")}catch(t){}jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').css("opacity",0).show(),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').hide().css("opacity",1);var s,d=4.5*r.animationsSpeed;jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').is('[data-start="1"]')?(lfb_initPanelResize(a),d=2.5*r.animationsSpeed,jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').fadeIn(2*r.animationsSpeed)):jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').delay(2*r.animationsSpeed).fadeIn(2*r.animationsSpeed),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .estimation_project').length&&(s=lfb_getFormContent(a)[3],jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .estimation_project textarea').val(s),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .estimation_total:not(.gfield_price) input').val(r.price),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .estimation_total.gfield_price .ginput_product_price').html(r.price),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .estimation_total.gfield_price input[id^="ginput_base_price"]').val(r.price)),0==d&&(d=100),setTimeout(function(){t.css({"-webkit-transition":"all 0.3s ease-out",transition:"all 0.3s ease-out"}).addClass("positioned"),i.css({paddingTop:lfb_zeroIfNan(o.height())+lfb_zeroIfNan(t.height())+70}),i.delay(2*r.animationsSpeed).animate({opacity:1},r.animationsSpeed),o.delay(r.animationsSpeed).animate({opacity:1,top:t.height()+60},r.animationsSpeed),f.delay(2*r.animationsSpeed).animate({opacity:1},r.animationsSpeed),setTimeout(function(){var t=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_stepTitle').height(),t=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_genContent').outerHeight()+parseInt(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel').css("padding-bottom"))+102+t;"final"==e&&(t-=80),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel').animate({minHeight:t}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel').css("max-height","none")},2*r.animationsSpeed),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').is(".lfb_disabledBtn")?jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').hide():(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').css("display","inline-block").hide(),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').is(".lfb_disabledBtn")||(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').fadeIn(500),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').is(".lfb_disabledBtn")&&jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btn-next').hide()},550))},2*r.animationsSpeed)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"]  #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .datetimepicker').hide(),"final"==e?(l?0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paymentMethodBtns').length&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_razorPayCt').length&&jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_genContentSlide > .lfb_btnNextContainer').hide():(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btnNextContainer').fadeIn(500),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btnNextContainerStripe').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_paymentMethodBtns').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_stripeForm  .lfb_stripeContainer').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_stripeForm .lfb_btnNextContainer').hide()),1==r.useSignature&&(jQuery('#lfb_form[data-form="'+r.formID+'"] #lfb_signature canvas').attr("width",jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_signature').width()),jQuery('#lfb_form[data-form="'+r.formID+'"] #lfb_signature canvas').css("width",jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_signature').width()),r.signature.signature("clear"))):jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_btnNextContainer').fadeIn(500),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"]').is('[data-previousstepbtn="true"]')&&"final"==e?setTimeout(function(){var t=!1;jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_genSlide[data-stepid="'+e+'"] ').find(".lfb_btn-next,#lfb_btnOrderPaypal,#lfb_btnPayStripe,#lfb_btnOrder,#btnOrderRazorpay").each(function(){"none"!=jQuery(this).css("display")&&"none"!=jQuery(this).closest(".lfb_btnNextContainer").css("display")&&(t=!0)}),t?jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_genSlide[data-stepid="'+e+'"] ').find(".linkPrevious").css({marginTop:-15}):jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] .lfb_genSlide[data-stepid="'+e+'"] ').find(".linkPrevious").css({marginTop:24}),0<lfb_lastSteps.length&&(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"][data-previousstepbtn="true"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_linkPreviousCt').delay(3*r.animationsSpeed).fadeIn(500),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"]:not([data-previousstepbtn="true"]) #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_linkPreviousCt').delay(3*r.animationsSpeed).css({opacity:0,display:"inline-block"}).animate({opacity:1},600))},1e3):0<lfb_lastSteps.length&&(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"][data-previousstepbtn="true"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_linkPreviousCt').delay(3*r.animationsSpeed).fadeIn(500),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+a+'"]:not([data-previousstepbtn="true"]) #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_linkPreviousCt').delay(3*r.animationsSpeed).css({opacity:0,display:"inline-block"}).animate({opacity:1},600)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_distanceError').delay(3*r.animationsSpeed).fadeIn(500),0!=r.disableTipMobile&&lfb_is_touch_device()||(navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i)?i.delay(750).find('[data-toggle="tooltip"]').b_tooltip({html:!0,container:'#lfb_form[data-form="'+a+'"]',trigger:"manual"}).on("show.bs.tooltip",function(){jQuery(this).find(".tooltip-inner").css({maxWidth:jQuery(window).width()})}):i.delay(750).find('[data-toggle="tooltip"]').b_tooltip({html:!0,container:'#lfb_form[data-form="'+a+'"]'}).on("show.bs.b_tooltip",function(t,e){jQuery('#lfb_form[data-form="'+a+'"] .tooltip-inner').css({maxWidth:jQuery(window).width()+"px"})}),i.on("enter",function(){"hover"==this.options.trigger&&0 in document.documentElement})),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide.lfb_activeStep').removeClass("lfb_activeStep"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').addClass("lfb_activeStep"),i.find(".lfb_itemQtField").each(function(){jQuery(this).parent().next().is(".lfb_itemDes")&&jQuery(this).css({marginTop:20+jQuery(this).parent().next().outerHeight()})}),r.step=e,setTimeout(function(){lfb_updateStep(a),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').find('[data-usedistance="true"]').each(function(){lfb_removeDistanceError(jQuery(this).attr("data-itemid"),a)},100),jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+a+'"] > .tooltip').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').trigger("stepChanged"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"]').attr("data-currentstep",e)},2*r.animationsSpeed+550),lfb_updatePrice(a),r.backFomFinal&&(r.backFomFinal=!1)},300)},d),0==r.animationsSpeed&&setTimeout(lfb_resizeAll,500),jQuery("#lfb_form :not(.ui-slider-handle) > .tooltip").remove(),jQuery("body > .tooltip").remove(),jQuery('#lfb_form[data-form="'+a+'"] > .tooltip').remove(),lfb_updatePrice(a)}function lfb_zeroIfNan(t){return isNaN(t)?0:t}function lfb_findPotentialsSteps(l,o){var t=lfb_getForm(o),i=new Array,f=new Array,s=new Array,d=0;return jQuery.each(t.links,function(){var t,e,a,r=this;r.originID==l&&(a=!(e=!1),a=r.conditions&&"[]"!=r.conditions?(r.conditionsO=JSON.parse(r.conditions),e=(t=lfb_checkConditions(r.conditionsO,o,l)).error,t.errorOR):(s.push(r.destinationID),!1),("OR"==r.operator&&!a||"OR"!=r.operator&&!e)&&(r.conditionsO=JSON.parse(r.conditions),f.push({stepID:parseInt(r.destinationID),nbConditions:r.conditionsO.length}),r.conditionsO.length>d&&(d=r.conditionsO.length),i.push(parseInt(r.destinationID))))}),0==l&&i.push(parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"]  #lfb_mainPanel .lfb_genSlide[data-start="1"]').attr("data-stepid"))),0==i.length?i.push("final"):0<s.length&&s.length<i.length&&(jQuery.each(s,function(){var e=this;i=jQuery.grep(i,function(t){return t!=e})}),0<d&&jQuery.each(i,function(e){jQuery.each(f,function(t){t.stepID==e&&t.nbConditions<d&&(i=jQuery.grep(i,function(t){return t!=e}))})})),i}function lfb_checkConditions(t,y,h,g){var j=!1,Q=lfb_getForm(y),v=!0;void 0===g&&(g=!1);var I=JSON.parse(JSON.stringify(lfb_lastSteps));return"final"!=Q.step&&-1==jQuery.inArray(parseInt(Q.step),I)?I.push(parseInt(Q.step)):"final"==Q.step&&-1==jQuery.inArray("final",I)&&I.push("final"),jQuery.each(t,function(){var t,e=this;if("_"!=e.interaction.substr(0,1)&&"v_"!=e.interaction.substr(0,2)){0==(t=e.interaction.substr(0,e.interaction.indexOf("_")))&&(t="final");var a=!0;if(g&&(-1!=I.indexOf(parseInt(t))&&t!=Q.step||(j=!e.action||"unclicked"!=e.action,a=!1)),a){var r=e.interaction.substr(e.interaction.indexOf("_")+1,e.interaction.length);if(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+y+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+t+'"] .lfb_genContent [data-itemid="'+r+'"]').length){var l,o,i,f,s=jQuery('#lfb_form.lfb_bootstraped[data-form="'+y+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+t+'"] .lfb_genContent [data-itemid="'+r+'"]');if(s.is(".lfb_disabled")||s.closest(".lfb_genSlide").is(".lfb_disabled"))"unclicked"!=e.action?j=!0:v=!1;else switch(e.value&&-1<e.value.indexOf("_")?"_"!=e.value.substr(0,1)?(n=e.value.substr(0,e.value.indexOf("_")),b=e.value.substr(e.value.indexOf("-")+1,e.value.length),0==n&&(n="final"),u=e.value.substr(e.value.indexOf("_")+1,e.value.indexOf("-")-(e.value.indexOf("_")+1)),"v"==n?e.value=parseFloat(lfb_getVariableByID(Q,u).value):"stepqt"==b?e.value=lfb_getStepQuantities(t,y,r):0<(m=jQuery('#lfb_form.lfb_bootstraped[data-form="'+y+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+n+'"] .lfb_genContent [data-itemid="'+u+'"]')).length&&(""==b?void 0!==m.data("resprice")?e.value=parseFloat(m.data("resprice")):m.is("[data-resqt]")&&(e.value=parseFloat(m.attr("data-resqt"))):"quantity"==b?m.is(".lfb_disabled")?e.value=0:m.is('input[type="number"]')?e.value=m.val():0<m.find(".lfb_qtfield").length?e.value=parseInt(m.find(".lfb_qtfield").val()):e.value=parseInt(m.find(".icon_quantity").html()):"value"==b&&(m.is(".lfb_disabled")?e.value="":(e.value=m.val(),m.is(".lfb_datepicker")&&(e.value=moment.utc(m.datetimepicker("getDate")).format("YYYY-MM-DD")),e.value=e.value.replace(/\`/g,"'"))))):"_total"==e.value||"_total-"==e.value?e.value=Q.price:"_total_qt"==e.value&&(e.value=lfb_getTotalQuantities(y,h,r)):e.value&&(e.value=e.value.replace(/\`/g,"'")),e.action){case"clicked":s.closest(".lfb_itemBloc").is(".lfb_disabled")?j=!0:s.is('[type="checkbox"]')?(s.is(":checked")||(j=!0),s.is(":checked")&&(v=!1)):(s.is(".checked")||s.is(":checked")||(j=!0),(s.is(".checked")||s.is(":checked"))&&(v=!1));break;case"unclicked":s.closest(".lfb_itemBloc").is(".lfb_disabled")?j=v=!1:((s.is(':not([type="checkbox"]).checked')||s.is(":checked"))&&(j=!0),s.is(':not([type="checkbox"]).checked')||s.is(":checked")||(v=!1));break;case"filled":s.is(".lfb_dropzone")?0==s.find(".dz-preview[data-file].dz-success.dz-complete").length?j=!0:v=!1:0==s.val().length?j=!0:v=!1;break;case"equal":s.is(".lfb_datepicker")?s.is('[data-datetype="date"]')?(moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")!=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")==e.value&&(v=!1)):s.is('[data-datetype="time"]')?(moment(s.datetimepicker("getDate")).format("HH:mm")!=e.value&&(j=!0),moment(s.datetimepicker("getDate")).format("HH:mm")==e.value&&(v=!1)):(moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))||(j=!0),moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))&&(v=!1)):s.val()!=e.value?j=!0:v=!1;break;case"different":s.val()==e.value?j=!0:v=!1;break;case"PriceSuperior":var d=parseFloat(s.data("resprice"));(s.is(".lfb_button:not(.checked)")||s.is(".lfb_selectable:not(.checked)")||s.is("input[type=checkbox]:not(:checked)")||d<=e.value)&&(j=!0),(s.is(".checked")||s.is(":checked"))&&d>e.value&&(v=!1);break;case"PriceInferior":d=parseFloat(s.data("resprice"));(s.is(".lfb_button:not(.checked)")||s.is(".lfb_selectable:not(.checked)")||s.is("input[type=checkbox]:not(:checked)")||d>=e.value)&&(j=!0),(s.is(".checked")||s.is(":checked"))&&d<e.value&&(v=!1);break;case"PriceEqual":d=parseFloat(s.data("resprice"));(s.is(".lfb_button:not(.checked)")||s.is(".lfb_selectable:not(.checked)")||s.is("input[type=checkbox]:not(:checked)")||d!=e.value)&&(j=!0),(s.is(".checked")||s.is(":checked"))&&d==e.value&&(v=!1);break;case"PriceDifferent":d=parseFloat(s.data("resprice"));(s.is(".lfb_button:not(.checked)")||s.is(".lfb_selectable:not(.checked)")||s.is("input[type=checkbox]:not(:checked)")||d==e.value)&&(j=!0),(s.is(".checked")||s.is(":checked"))&&d!=e.value&&(v=!1);break;case"QtSuperior":(s.is(".lfb_selectable:not(.checked)")||0<s.find(".icon_quantity").length&&parseInt(s.find(".icon_quantity").html())<=e.value||0<s.find(".lfb_qtfield").length&&parseInt(s.find(".lfb_qtfield").val())<=e.value||s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))<=e.value)&&(j=!0),s.is(".lfb_selectable")?(s.is(".lfb_selectable.checked")&&parseInt(s.find(".icon_quantity").html())>e.value||parseInt(s.find(".lfb_qtfield").val())>e.value)&&(v=!1):s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))>e.value&&(v=!1),s.is("input")&&(parseInt(s.val())<=e.value&&(j=!0),parseInt(s.val())>e.value&&(v=!1));break;case"QtInferior":(s.is(".lfb_selectable:not(.checked)")||0<s.find(".icon_quantity").length&&parseInt(s.find(".icon_quantity").html())>=e.value||0<s.find(".lfb_qtfield").length&&parseInt(s.find(".lfb_qtfield").val())>=e.value||s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))>=e.value)&&(j=!0),s.is(".lfb_selectable")?(s.is(".lfb_selectable.checked")&&parseInt(s.find(".icon_quantity").html())<e.value||parseInt(s.find(".lfb_qtfield").val())<e.value)&&(v=!1):s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))<e.value&&(v=!1),s.is("input")&&(parseInt(s.val())>=e.value&&(j=!0),parseInt(s.val())<e.value&&(v=!1));break;case"QtEqual":(s.is(".lfb_selectable:not(.checked)")||0<s.find(".icon_quantity").length&&parseInt(s.find(".icon_quantity").html())!=e.value||0<s.find(".lfb_qtfield").length&&parseInt(s.find(".lfb_qtfield").val())!=e.value||s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))!=e.value)&&(j=!0),s.is(".lfb_selectable")?(s.is(".lfb_selectable.checked")&&parseInt(s.find(".icon_quantity").html())==e.value||parseInt(s.find(".lfb_qtfield").val())==e.value)&&(v=!1):s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))==e.value&&(v=!1),s.is("input")&&(parseInt(s.val())!=e.value&&(j=!0),parseInt(s.val())==e.value&&(v=!1));break;case"QtDifferent":(s.is(".lfb_selectable:not(.checked)")||0<s.find(".icon_quantity").length&&parseInt(s.find(".icon_quantity").html())==e.value||0<s.find(".lfb_qtfield").length&&parseInt(s.find(".lfb_qtfield").val())==e.value||s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))==e.value)&&(j=!0),s.is(".lfb_selectable")?(s.is(".lfb_selectable.checked")&&parseInt(s.find(".icon_quantity").html())!=e.value||parseInt(s.find(".lfb_qtfield").val())!=e.value)&&(v=!1):s.is('[data-type="slider"]')&&s.is(".ui-slider")&&parseInt(s.slider("value"))!=e.value&&(v=!1),s.is("input")&&(parseInt(s.val())==e.value&&(j=!0),parseInt(s.val())!=e.value&&(v=!1));break;case"superior":s.is(".lfb_datepicker")?s.is('[data-datetype="date"]')?(moment(s.datetimepicker("getDate")).format("YYYY-MM-DD 00:00")<=moment(e.value).format("YYYY-MM-DD 00:00")&&(j=!0),moment(s.datetimepicker("getDate")).format("YYYY-MM-DD 00:00")>moment(e.value).format("YYYY-MM-DD 00:00")&&(v=!1)):s.is('[data-datetype="time"]')?(moment(s.datetimepicker("getDate")).format("HH:mm")<=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("HH:mm")>e.value&&(v=!1)):(moment.utc(s.datetimepicker("getDate")).isSameOrBefore(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))&&(j=!0),moment.utc(s.datetimepicker("getDate")).isAfter(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))&&(v=!1)):s.is(".lfb_timepicker")?(l=parseInt(e.value.substr(0,e.value.indexOf(":"))),o=parseInt(e.value.substr(e.value.indexOf(":")+1,2)),0<e.value.indexOf("PM")&&12!=l&&(l+=12),i=parseInt(s.val().substr(0,s.val().indexOf(":"))),f=parseInt(s.val().substr(s.val().indexOf(":")+1,2)),0<s.val().indexOf("PM")&&12!=i&&(i+=12),(i<l||i==l&&f<=o)&&(j=!0),(l<i||i==l&&o<f)&&(v=!1)):s.is('input[type="number"]')?(parseFloat(s.val())<=parseFloat(e.value)&&(j=!0),parseFloat(s.val())>parseFloat(e.value)&&(v=!1)):s.is('[data-itemtype="rate"]')&&(parseFloat(s.find(".lfb_rate").rate("getValue"))<=parseFloat(e.value)&&(j=!0),parseFloat(s.find(".lfb_rate").rate("getValue"))>parseFloat(e.value)&&(v=!1));break;case"inferior":s.is(".lfb_datepicker")?s.is('[data-datetype="date"]')?(moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")>=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")<e.value&&(v=!1)):s.is('[data-datetype="time"]')?(moment.utc(s.datetimepicker("getDate")).format("HH:mm")>=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("HH:mm")<e.value&&(v=!1)):(moment.utc(s.datetimepicker("getDate")).isSameOrAfter(moment.utc(e.value).getTime())&&(j=!0),moment.utc(s.datetimepicker("getDate")).isBefore(moment.utc(e.value).getTime())&&(v=!1)):s.is(".lfb_timepicker")?(l=parseInt(e.value.substr(0,e.value.indexOf(":"))),o=parseInt(e.value.substr(e.value.indexOf(":")+1,2)),0<e.value.indexOf("PM")&&12!=l&&(l+=12),i=parseInt(s.val().substr(0,s.val().indexOf(":"))),f=parseInt(s.val().substr(s.val().indexOf(":")+1,2)),0<s.val().indexOf("PM")&&12!=i&&(i+=12),(l<i||i==l&&o<=f)&&(j=!0),(i<l||i==l&&f<o)&&(v=!1)):s.is('input[type="number"]')?(parseFloat(s.val())>=parseFloat(e.value)&&(j=!0),parseFloat(s.val())<parseFloat(e.value)&&(v=!1)):s.is('[data-itemtype="rate"]')&&(parseFloat(s.find(".lfb_rate").rate("getValue"))>=parseFloat(e.value)&&(j=!0),parseFloat(s.find(".lfb_rate").rate("getValue"))<parseFloat(e.value)&&(v=!1));break;case"equal":s.is(".lfb_datepicker")?s.is('[data-datetype="date"]')?(moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")!=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")==e.value&&(v=!1)):s.is('[data-datetype="time"]')?(moment.utc(s.datetimepicker("getDate")).format("HH:mm")!=e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("HH:mm")==e.value&&(v=!1)):(moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))||(j=!0),moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))&&(v=!1)):s.is(".lfb_timepicker")?(l=parseInt(e.value.substr(0,e.value.indexOf(":"))),o=parseInt(e.value.substr(e.value.indexOf(":")+1,2)),0<e.value.indexOf("PM")&&12!=l&&(l+=12),i=parseInt(s.val().substr(0,s.val().indexOf(":"))),f=parseInt(s.val().substr(s.val().indexOf(":")+1,2)),0<s.val().indexOf("PM")&&12!=i&&(i+=12),i!=l&&(j=!0),i==l&&(v=!1)):s.is('input[type="number"]')?(parseFloat(s.val())!=parseFloat(e.value)&&(j=!0),parseFloat(s.val())==parseFloat(e.value)&&(v=!1)):s.is('[data-itemtype="rate"]')&&(parseFloat(s.find(".lfb_rate").rate("getValue"))!=parseFloat(e.value)&&(j=!0),parseFloat(s.find(".lfb_rate").rate("getValue"))==parseFloat(e.value)&&(v=!1));break;case"different":s.is(".lfb_datepicker")?s.is('[data-datetype="date"]')?(moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")==e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("YYYY-MM-DD")!=e.value&&(v=!1)):s.is('[data-datetype="time"]')?(moment.utc(s.datetimepicker("getDate")).format("HH:mm")==e.value&&(j=!0),moment.utc(s.datetimepicker("getDate")).format("HH:mm")!=e.value&&(v=!1)):(moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))&&(j=!0),moment.utc(s.datetimepicker("getDate")).isSame(moment.utc(e.value).format("YYYY-MM-DD HH:mm"))||(v=!1)):s.is(".lfb_timepicker")?(l=parseInt(e.value.substr(0,e.value.indexOf(":"))),o=parseInt(e.value.substr(e.value.indexOf(":")+1,2)),0<e.value.indexOf("PM")&&12!=l&&(l+=12),i=parseInt(s.val().substr(0,s.val().indexOf(":"))),f=parseInt(s.val().substr(s.val().indexOf(":")+1,2)),0<s.val().indexOf("PM")&&12!=i&&(i+=12),i==l&&(j=!0),i!=l&&(v=!1)):s.is('input[type="number"]')?(parseFloat(s.val())==parseFloat(e.value)&&(j=!0),parseFloat(s.val())!=parseFloat(e.value)&&(v=!1)):s.is('[data-itemtype="rate"]')&&(parseFloat(s.find(".lfb_rate").rate("getValue"))==parseFloat(e.value)&&(j=!0),parseFloat(s.find(".lfb_rate").rate("getValue"))!=parseFloat(e.value)&&(v=!1))}}}}else{if("v_"==e.interaction.substr(0,2)){var n,b,m,u=e.interaction.substr(e.interaction.indexOf("_")+1,e.interaction.length-(e.interaction.indexOf("_")+1)),p=parseFloat(lfb_getVariableByID(Q,u).value);switch(e.value&&-1<e.value.indexOf("_")?"_"!=e.value.substr(0,1)?(n=e.value.substr(0,e.value.indexOf("_")),b=e.value.substr(e.value.indexOf("-")+1,e.value.length),0==n&&(n="final"),u=e.value.substr(e.value.indexOf("_")+1,e.value.indexOf("-")-(e.value.indexOf("_")+1)),"v"==n?e.value=parseFloat(lfb_getVariableByID(Q,u).value):"stepqt"==b?e.value=lfb_getStepQuantities(t,y,r):0<(m=jQuery('#lfb_form.lfb_bootstraped[data-form="'+y+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+n+'"] .lfb_genContent [data-itemid="'+u+'"]')).length&&(""==b?void 0!==m.data("resprice")?e.value=parseFloat(m.data("resprice")):m.is("[data-resqt]")&&(e.value=parseFloat(m.attr("data-resqt"))):"quantity"==b?m.is(".lfb_disabled")?e.value=0:m.is('input[type="number"]')?e.value=m.val():0<m.find(".lfb_qtfield").length?e.value=parseInt(m.find(".lfb_qtfield").val()):e.value=parseInt(m.find(".icon_quantity").html()):"value"==b&&(m.is(".lfb_disabled")?e.value="":(e.value=m.val(),m.is(".lfb_datepicker")&&(e.value=moment.utc(m.datetimepicker("getDate")).format("YYYY-MM-DD")),e.value=e.value.replace(/\`/g,"'"))))):"_total"==e.value||"_total-"==e.value?e.value=Q.price:"_total_qt"==e.value&&(e.value=lfb_getTotalQuantities(y,h,r)):e.value&&(e.value=e.value.replace(/\`/g,"'")),e.action){case"superior":p<=e.value&&(j=!0),p>e.value&&(v=!1);break;case"inferior":p>=e.value&&(j=!0),p<e.value&&(v=!1);break;case"equal":p!=e.value&&(j=!0),p==e.value&&(v=!1);break;case"different":p==e.value&&(j=!0),p!=e.value&&(v=!1)}}else if(e.interaction&&6<e.interaction.length&&"_step-"==e.interaction.substr(0,6)){0==(t=e.interaction.substr(6,e.interaction.length))&&(t="final");var c=lfb_getStepQuantities(y,t,r);switch(e.action){case"superior":c<=e.value&&(j=!0),c>e.value&&(v=!1);break;case"inferior":c>=e.value&&(j=!0),c<e.value&&(v=!1);break;case"equal":c!=e.value&&(j=!0),c==e.value&&(v=!1);break;case"different":c==e.value&&(j=!0),c!=e.value&&(v=!1)}}if("_total"==e.interaction)switch(e.action){case"superior":parseFloat(Q.price)<=parseFloat(e.value)&&(j=!0),parseFloat(Q.price)>parseFloat(e.value)&&(v=!1);break;case"inferior":parseFloat(Q.price)>=parseFloat(e.value)&&(j=!0),parseFloat(Q.price)<parseFloat(e.value)&&(v=!1);break;case"equal":parseFloat(Q.price)!=parseFloat(e.value)&&(j=!0),parseFloat(Q.price)==parseFloat(e.value)&&(v=!1);break;case"different":parseFloat(Q.price)==e.value&&(j=!0),parseFloat(Q.price)!=e.value&&(v=!1)}else if("_total_qt"==e.interaction){c=lfb_getTotalQuantities(y,h);switch(e.action){case"superior":c<=e.value&&(j=!0),c>e.value&&(v=!1);break;case"inferior":c>=e.value&&(j=!0),c<e.value&&(v=!1);break;case"equal":c!=e.value&&(j=!0),c==e.value&&(v=!1);break;case"different":c==e.value&&(j=!0),c!=e.value&&(v=!1)}}else if(2<e.interaction.length&&"v_"==e.interaction.substr(0,2)){var _=0,r=e.interaction.substr(2,e.interaction.length),r=lfb_getVariableByID(Q,r);switch(r&&(_=r.value),e.action){case"superior":_<=e.value&&(j=!0),_>e.value&&(v=!1);break;case"inferior":_>=e.value&&(j=!0),_<e.value&&(v=!1);break;case"equal":_!=e.value&&(j=!0),_==e.value&&(v=!1);break;case"different":_==e.value&&(j=!0),_!=e.value&&(v=!1)}}}}),0==t.length&&(v=!1),{error:j,errorOR:v}}function lfb_scrollToItem(t,e,a){"final"==e&&(a=lfb_getForm(a),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"]').is(".lfb_fullscreen")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"]').is(".lfb_popup")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"]').animate({scrollTop:t.parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(a)))},2*a.animationsSpeed):"1"==a.scrollTopPage?jQuery("body,html").animate({scrollTop:0},2*a.animationsSpeed):jQuery("body,html").animate({scrollTop:t.parent().offset().top-(80+parseInt(lfb_getScrollTopMargin(a)))},2*a.animationsSpeed))}function lfb_checkStepItemsValid(r,l){var o=!0,i=!1,t=lfb_getForm(l);return jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find(".has-error").removeClass("has-error"),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find(".icon_select.lfb_error").removeClass("lfb_error"),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find("input[type=text]:not(.lfb_disabled),input[type=password]:not(.lfb_disabled)").each(function(){var t,e,a;0==jQuery(this).closest(".lfb_itemBloc.lfb_disabled").length&&0==jQuery(this).closest("#lfb_stripeForm").length&&0==jQuery(this).closest("#lfb_paypalForm").length&&(jQuery(this).is('[data-required="true"]')&&jQuery(this).val().length<1&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l),i=!0),jQuery(this).is('[data-validation="phone"]')&&0<jQuery(this).val().length&&(jQuery(this).val().length<5||0==/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i.test(jQuery(this).val()))||jQuery(this).is('[data-validation="number"]')&&0==/^\d+$/.test(jQuery(this).val())||jQuery(this).is('[data-validation="email"]')&&0<jQuery(this).val().length&&!lfb_checkEmail(jQuery(this).val())||jQuery(this).is('[data-validation="fill"]')&&0==jQuery(this).val().length?(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l),i=!0):jQuery(this).is('[data-validation="custom"]')&&0<jQuery(this).val().length&&(t=!1,0<parseInt(jQuery(this).attr("data-validmin"))&&jQuery(this).val().length<parseInt(jQuery(this).attr("data-validmin"))&&(t=!0),0<parseInt(jQuery(this).attr("data-validmax"))&&jQuery(this).val().length>parseInt(jQuery(this).attr("data-validmax"))&&(t=!0),jQuery(this).is("[data-validcar]")&&""!=jQuery(this).attr("data-validcar")&&(e=jQuery(this),-1<jQuery(this).attr("data-validcar").indexOf(",")?(a=jQuery(this).attr("data-validcar").split(","),jQuery.each(a,function(){-1==e.val().indexOf(this)&&(t=!0)})):-1==e.val().indexOf(jQuery(this).attr("data-validcar"))&&(t=!0)),t&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l),i=!0)))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find("input[type=text][minlength]:not(.lfb_disabled)").each(function(){jQuery(this).val().length<jQuery(this).attr("minlength")&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('select[data-required="true"]:not(.lfb_disabled)').each(function(){jQuery(this).is('[data-firstvaluedisabled="true"]')&&(!jQuery(this).is(".lfb_selectpicker")&&0==jQuery(this).find("option:selected").index()||jQuery(this).is(".lfb_selectpicker")&&jQuery(this).val()==jQuery(this).find("option").first().attr("value"))&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find("input[type=text][minlength]:not(.lfb_disabled)").each(function(){jQuery(this).val().length<jQuery(this).attr("minlength")&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('input[type=number][data-required="true"]:not(.lfb_disabled)').each(function(){""!=jQuery(this).val()&&0!=jQuery(this).val()||(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find(".lfb_dropzone:not(.lfb_disabled)").each(function(){(jQuery(this).is('[data-required="true"]')&&0==jQuery(this).find(".dz-preview[data-file].dz-success.dz-complete").length||jQuery(this).find(".dz-preview[data-file].dz-complete").length>parseInt(jQuery(this).attr("data-maxfiles")))&&(o=!1,jQuery(this).parent().addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('textarea[data-required="true"]:not(.lfb_disabled)').each(function(){0==jQuery(this).closest("#lfb_stripeForm").length&&0==jQuery(this).closest("#lfb_paypalForm").length&&jQuery(this).val().length<1&&(o=!1,jQuery(this).closest(".form-group").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('input[type=checkbox][data-required="true"]:not(.lfb_disabled)').each(function(){jQuery(this).is(":checked")||jQuery(this).is("[data-group]")&&(""==jQuery(this).attr("data-group")||0!=jQuery(' #lfb_form[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"] [data-group="'+jQuery(this).attr("data-group")+'"]:checked').length)||(o=!1,jQuery(this).closest(".form-group,p,.lfb_itemBloc").addClass("has-error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('.lfb_selectable[data-required="true"]:not(.lfb_disabled)').each(function(){jQuery(this).is(".checked")||jQuery(this).is("[data-group]")&&(""==jQuery(this).attr("data-group")||0!=jQuery(' #lfb_form[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"] [data-group="'+jQuery(this).attr("data-group")+'"].checked').length)||(o=!1,jQuery(this).find(".icon_select").addClass("lfb_error"),i||lfb_scrollToItem(jQuery(this),r,l))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"]').find('.lfb_button[data-required="true"]:not(.lfb_disabled)').each(function(){jQuery(this).is(".checked")||jQuery(this).is("[data-group]")&&(""==jQuery(this).attr("data-group")||0!=jQuery(' #lfb_form[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+r+'"] [data-group="'+jQuery(this).attr("data-group")+'"].checked').length)||(o=!1,jQuery(this).find(".icon_select").addClass("lfb_error"),i||lfb_scrollToItem(jQuery(this),r,l))}),"final"==r&&1==t.useSignature&&0==JSON.parse(t.signature.signature("toJSON")).lines.length&&(o=!1,jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_signature').addClass("has-error"),i||lfb_scrollToItem(jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_signature'),r,l),i=!0),o}function lfb_nextStep(t){var e=lfb_getForm(t);jQuery("#lfb_bootstraped :not(.ui-slider-handle) > .tooltip").remove(),jQuery('#lfb_form[data-form="'+e.formID+'"] > .tooltip').remove(),navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i)&&setTimeout(function(){jQuery("#lfb_bootstraped :not(.ui-slider-handle) > .tooltip").remove()},500),lfb_updateShowSteps(t),jQuery(".lfb_errorMsg").hide();var a=!0,r=!0,l=lfb_findPotentialsSteps(e.step,t);0<e.step&&(1==jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').data("required")&&(a=!1,(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find('select:not(.lfb_disabled):not([data-firstvaluedisabled="true"])').length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find("div.lfb_selectable.checked:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find("a.lfb_button.checked:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find('input[data-toggle="switch"]:checked:not(.lfb_disabled)').length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find("input[type=text][data-title].checked:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find('[data-itemtype="rate"][data-title].checked:not(.lfb_disabled)').length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find("input[type=number][data-itemid].checked:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find("input[type=file].checked:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find(".lfb_colorPreview:not(.lfb_disabled)").length||0<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find(".dz-preview[data-file].dz-success.dz-complete").length)&&(a=!0),a||jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"]').find('select:not(.lfb_disabled)[data-firstvaluedisabled="true"]').each(function(){(!jQuery(this).is(".lfb_selectpicker")&&0<jQuery(this).find("option:selected").index()||jQuery(this).is(".lfb_selectpicker")&&1<jQuery(this).find("option:selected").index())&&(a=!0)})),r=lfb_checkStepItemsValid(e.step,t)),a&&r&&lfb_checkUserEmail(e)?(lfb_lastStepID=e.step,parseFloat(lfb_lastStepID)!=parseInt(lfb_lastStepID)||isNaN(lfb_lastStepID)||-1==jQuery.inArray(parseInt(e.step),lfb_lastSteps)&&lfb_lastSteps.push(parseInt(e.step)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+lfb_lastStepID+'"] .lfb_stepTitle').html(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').is(".lfb_fullscreen")&&!jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').is(".lfb_popup")&&history.pushState({id:lfb_lastStepID},"",""),"final"!=(r=l[0])&&-1==(r=lfb_getNextEnabledStep(t,l))&&(r="final"),1==e.sendContactASAP&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"]').length&&lfb_checkEmail(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"]').val())&&(e.contactSent=1,l=lfb_getContactInformations(t),jQuery.ajax({url:e.ajaxurl,type:"post",data:{action:"lfb_sendCt",formID:t,email:l.email,lastName:l.lastName,firstName:l.firstName,phone:l.phone,country:l.country,zip:l.zip,state:l.state,city:l.city,address:l.address},success:function(t){}})),lfb_changeStep(r,t)):a||(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_errorMsg').slideDown(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').trigger("stepError"))}function lfb_getNextEnabledStep(t,e){var a=-1,e=e[0];return"final"!=e&&(a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').is(".lfb_visualEditing")||!jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]  #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"]').is(".lfb_disabled")&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_item:not(.lfb-hidden)').length||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e+'"] .lfb_distanceError').length)?e:(lfb_lastSteps.push(parseInt(e)),lfb_updatePrice(t),lfb_getNextEnabledStep(t,lfb_findPotentialsSteps(parseInt(e),t)))),a}function lfb_openGenerator(t){var e=lfb_getForm(t);jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]  #startInfos > p').slideDown(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnFloatingSummary').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_btnStart').parent().fadeOut(e.animationsSpeed,function(){"2"!=e.showSteps&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').find(".genPrice,#lfb_stepper").fadeIn(e.animationsSpeed),e.autoStart||jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel').fadeIn(e.animationsSpeed+e.animationsSpeed/2,function(){lfb_nextStep(t)})})}function lfb_initListeners(r){var l=lfb_getForm(r);$('#lfb_form.lfb_bootstraped[data-form="'+r+'"]').on("lfb_setAnimImmediate",lfb_setAnimImmediate),$('#lfb_form.lfb_bootstraped[data-form="'+r+'"]').on("lfb_resizeAll",lfb_resizeAll),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable .img,  #lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable .icon_select').on("click",function(){lfb_isSelectionMode(r)||lfb_itemClick(jQuery(this).parent(),!0,r)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide a.lfb_button').on("click",function(){lfb_isSelectionMode(r)||lfb_itemClick(jQuery(this),!0,r)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide [data-callnextstep="1"]').on("click",function(){!lfb_isSelectionMode(r)&&jQuery(this).is(".checked")&&lfb_nextStep(r)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel input[type=checkbox][data-price]').on("change",function(){jQuery(this).is('[data-usedistance="true"]')&&lfb_removeDistanceError(jQuery(this).attr("data-itemid"),r);var t=jQuery(this);t.data("group")&&t.closest(".lfb_genSlide").find('a.lfb_button.checked[data-group="'+t.data("group")+'"]:not([data-itemid="'+t.attr("data-itemid")+'"])').each(function(){lfb_itemClick(jQuery(this),!1,r),jQuery(this).removeClass("checked")}),lfb_updatePrice(r,jQuery(this).attr("data-itemid"))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel input[type=checkbox][data-group]').on("change",function(t){var e=jQuery(this);e.is(":checked")&&(jQuery(this).closest(".lfb_genSlide").find('div.lfb_selectable.checked[data-group="'+e.data("group")+'"]').each(function(){lfb_itemClick(jQuery(this),!1,r)}),jQuery(this).closest(".lfb_genSlide").find('input[type=checkbox][data-group="'+e.data("group")+'"]:checked').each(function(){jQuery(this).is(e)||jQuery(this).trigger("click.auto")}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+r+'"]').is('[data-autoclick="1"]')&&0==e.closest(".lfb_genSlide").find("[data-itemid]").not('[data-group="'+e.data("group")+'"]').length&&lfb_nextStep(lfb_getForm(r).formID))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide select[data-itemid]').on("change",function(){var t=jQuery(this).val(),e=0;jQuery(this).find("option").each(function(){jQuery(this).attr("value")==t&&(e=jQuery(this).attr("data-price"))}),jQuery(this).attr("data-price",e),jQuery(this).data("price",e),lfb_updatePrice(r)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide select[data-itemid]').trigger("change"),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l.formID+'"] #lfb_mainPanel input[type=checkbox][data-price]').on("change",function(){}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l.formID+'"] #lfb_mainPanel .lfb_genSlide input.lfb_qtfield').on("change",function(){lfb_updatePrice(r,jQuery(this).attr("data-itemid"))}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l.formID+'"] #lfb_mainPanel .lfb_genSlide').find("input[type=text][data-title],textarea[data-title],input[type=file][data-title],input[type=number][data-title]").on("change",function(){0<jQuery(this).val().length?(jQuery(this).addClass("checked"),jQuery(this).addClass("lfb_changed")):jQuery(this).removeClass("checked")}),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+l.formID+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable .icon_quantity').on("click",function(){lfb_isSelectionMode(r)||(jQuery(".quantityBtns").not(jQuery(this).parent().find(".quantityBtns")).removeClass("open"),jQuery(".quantityBtns").not(jQuery(this).parent().find(".quantityBtns")).fadeOut(250),!jQuery(this).parent().find(".quantityBtns").is(".open")&&jQuery(this).parent().is(".checked")?(0<jQuery(this).parent().find(".quantityBtns .tooltip-inner").length&&jQuery(this).parent().find(".quantityBtns .tooltip-inner").html(parseInt(jQuery(this).parent().find(".icon_quantity").html())),jQuery(this).parent().find(".quantityBtns").addClass("open"),jQuery(this).parent().find(".quantityBtns").fadeIn(250)):(jQuery(this).parent().find(".quantityBtns").removeClass("open"),jQuery(this).parent().find(".quantityBtns").fadeOut(250)))}),jQuery("#lfb_orderMessageCheck").on("change",function(){jQuery(this).is(":checked")?jQuery("#lfb_orderMessage").slideDown(250):jQuery("#lfb_orderMessage").slideUp(250)}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l.formID+'"] #lfb_btnOrder').on("click",function(){lfb_isSelectionMode(r)||lfb_order(r)}),jQuery("#gform_wrapper_"+l.gravityFormID+" form").on("submit",function(t){var e,a=jQuery(this);jQuery(this).is(".submit")?jQuery(this).removeClass("submit"):(t.preventDefault(),jQuery(this).addClass("submit"),l.save_to_cart?(e=new Array,t=JSON.parse(JSON.stringify(lfb_lastSteps)),"final"!=l.step&&-1==jQuery.inArray(parseInt(l.step),t)?t.push(parseInt(l.step)):"final"==l.step&&-1==jQuery.inArray("final",t)&&t.push("final"),jQuery.each(t,function(){jQuery(' #lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"]').find('div.lfb_selectable.checked:not(.lfb_disabled),a.lfb_button.checked:not(.lfb_disabled),input[type=checkbox]:checked:not(.lfb_disabled),[data-type="slider"]:not(.lfb_disabled)').each(function(){var t=1;0<parseInt(jQuery(this).data("resqt"))&&(t=parseInt(jQuery(this).data("resqt"))),jQuery(this).is('[data-type="slider"]')&&(t=parseInt(jQuery(this).slider("value")),isNaN(parseInt(jQuery(this).find(".tooltip-inner").html()))||(t=parseInt(jQuery(this).find(".tooltip-inner").html()))),0<parseInt(jQuery(this).data("prodid"))&&e.push({quantity:t,product_id:parseInt(jQuery(this).data("prodid")),variation:parseInt(jQuery(this).attr("data-woovar"))})})}),jQuery.ajax({url:l.ajaxurl,type:"post",data:{action:"lfb_cart_save",ref:l.current_ref,emptyWooCart:l.emptyWooCart,products:e},success:function(){l.timer_gFormSubmit=setInterval(function(){lfb_check_gform_response(l.formID)},300),setTimeout(function(){a.submit()},700)}})):(l.timer_gFormSubmit=setInterval(function(){lfb_check_gform_response(l.formID)},300),setTimeout(function(){a.submit()},700)))})}function lfb_checkItems(t){var r=lfb_getForm(t);jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable img[data-tint="true"]').each(function(){jQuery(this).css("opacity",0),jQuery(this).show();var t=jQuery('<canvas class="img"></canvas>');t.css({width:jQuery(this).get(0).width,height:jQuery(this).get(0).height}),jQuery(this).hide(),jQuery(this).after(t);var e=t.get(0).getContext("2d"),a=new Image;a.onload=function(){e.fillStyle=r.colorA,e.fillRect(0,0,t.get(0).width,t.get(0).height),e.fill(),e.globalCompositeOperation="destination-in",e.drawImage(a,0,0,t.get(0).width,t.get(0).height)},jQuery(this).is("[data-lazy-src]")?a.src=jQuery(this).attr("data-lazy-src"):a.src=jQuery(this).attr("src")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable img[data-tint="false"]').each(function(){jQuery(this).is("[data-src]")&&jQuery(this).attr("src",jQuery(this).attr("data-src"))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_mainPanel .lfb_genSlide div.lfb_selectable.checked , #lfb_form.lfb_bootstraped[data-form="'+r.formID+'"] #lfb_mainPanel .lfb_genSlide  input[type=checkbox]:checked').on("mouseenter",function(){jQuery(this).addClass("lfb_hover")}).on("mouseleave",function(){jQuery(this).removeClass("lfb_hover")})}function lfb_getDistanceCalc(t,r,l,e,o,i){var f;google.maps.UnitSystem.METRIC;"route"==lfb_getForm(r).distancesMode?(lfb_gmapMatrixService=new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[e],destinations:[o],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(t,e){var a=!1;e==google.maps.DistanceMatrixStatus.OK?(e=0,t.rows[0].elements[0].distance?(e=t.rows[0].elements[0].distance.value,e/=1e3,"miles"==i?e*=.62:"mins"==i?e=Math.round(parseInt(t.rows[0].elements[0].duration.value)/60):"hours"==i&&(e=Math.round(parseInt(t.rows[0].elements[0].duration.value)/60/60))):a=!0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] [data-itemid="'+l+'"]'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] [data-itemid="'+l+'"]').attr("data-distance",e),lfb_updateSummary(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_summary table tr[data-itemstep="'+l+'"] td:eq(2)').html(e),lfb_updatePrice(r),lfb_removeDistanceError(l,r)):a=!0,a&&lfb_showDistanceError(l,r)}):(f=new google.maps.Geocoder).geocode({address:e},function(t,e){var a;void 0!==t[0]?(a=t[0].geometry.location,f.geocode({address:o},function(t,e){void 0!==t[0]?(t=t[0].geometry.location,t=google.maps.geometry.spherical.computeDistanceBetween(a,t),t/=1e3,"miles"==i&&(t*=.62),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] [data-itemid="'+l+'"]'),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] [data-itemid="'+l+'"]').attr("data-distance",t),lfb_updateSummary(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+r+'"] #lfb_summary table tr[data-itemstep="'+l+'"] td:eq(2)').html(t),lfb_updatePrice(r),lfb_removeDistanceError(l,r)):lfb_showDistanceError(l,r)})):lfb_showDistanceError(l,r)})}function lfb_executeCalculation(calculation,formID,targetID){calculation=calculation.replace(/\\/g,"");var form=lfb_getForm(formID),price=0,i=0,elementsToReplace=new Array,itemData=lfb_getItemData(form,targetID),_stepID=itemData.stepid,isVariable=!1;for(-1<calculation.indexOf("[variable]")&&(isVariable=!0),calculation=calculation.replace(/\[variable\]/g,"[price]"),calculation=calculation.replace(/\[quantity\]/g,"[price]"),calculation=calculation.replace(/\[value\]/g,"[price]");-1!=(i=calculation.indexOf("variable-",i+1));){var variableID=calculation.substr(i+9,calculation.indexOf("]",i)-(i+9)),value=0,variable=lfb_getVariableByID(form,variableID);variable&&(value=variable.value,"text"==variable.type&&(value='"'+variable.value+'"')),elementsToReplace.push({oldValue:calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),newValue:value})}for(;-1!=(i=calculation.indexOf("item-",i+1));){var itemID=calculation.substr(i+5,calculation.indexOf("_",i)-(i+5)),action=calculation.substr(calculation.indexOf("_",i)+1,calculation.indexOf("]",i)-1-calculation.indexOf("_",i)),value=0,calItemData=lfb_getItemData(form,itemID),value,$item;"isChecked"==action&&(value=calItemData?"1==1":"1==0"),"isUnchecked"==action&&(value=calItemData?"1==0":"1==1"),"isFilled"==action&&(value="filefield"==calItemData.type?0<calItemData.files.length?"1==1":"1==0":(value=0,void 0===calItemData.value?void 0!==calItemData.quantity&&(value=calItemData.quantity):value=calItemData.value,0<value.length?"1==1":"1==0")),"price"==action&&(value=0,"total"==itemID?value=form.price:(value=0,void 0!==calItemData.price&&(value=calItemData.price))),"quantity"==action&&(value=0,void 0!==calItemData.quantity&&(value=calItemData.quantity)),"value"==action&&(value=0,"numberfield"==calItemData.type?(void 0!==calItemData.quantity?value=calItemData.quantity:void 0!==calItemData.value&&(value=calItemData.value),isNaN(value)&&(value=0)):value="'"+calItemData.value+"'"),"date"==action&&($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+itemID+'"]'),value=$item.is(".lfb_datepicker")&&null!=$item.datetimepicker("getDate")?"'"+moment($item.datetimepicker("getDate")).format("YYYY-MM-DD")+"'":"null"),elementsToReplace.push({oldValue:calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),newValue:value})}for(;-1!=(i=calculation.indexOf("step-",i+1));){var stepID=calculation.substr(i+5,calculation.indexOf("_",i)-(i+5)),action=calculation.substr(calculation.indexOf("_",i)+1,calculation.indexOf("]",i)-1-calculation.indexOf("_",i));"quantity"==action&&(value=lfb_getStepQuantities(formID,stepID,targetID)),elementsToReplace.push({oldValue:calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),newValue:value})}var todayDate=new Date,month=todayDate.getMonth()+1;month<10&&(month="0"+month);var today=todayDate.getFullYear().toString()+month.toString()+todayDate.getDate().toString(),charsToStart;if(calculation=calculation.replace(/\[currentDate\]/g,today),-1<calculation.indexOf("dateDifference-"))for(;-1!=(i=calculation.indexOf("dateDifference-",i+1));){var startDateAdPosEnd=calculation.indexOf("_",i+15)+1,startDate=calculation.substr(i+15,calculation.indexOf("_",i)-(i+15)),endDate=calculation.substr(startDateAdPosEnd,calculation.indexOf("]",startDateAdPosEnd)-startDateAdPosEnd),$item,startDate,$item,endDate;startDate="currentDate"!=startDate&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+startDate+'"]').length&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+startDate+'"]').val().length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+startDate+'"]'),$item.datetimepicker("getDate")):todayDate,endDate="currentDate"!=endDate&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+endDate+'"]').length&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+endDate+'"]').val().length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+endDate+'"]'),$item.datetimepicker("getDate")):todayDate,startDate.setMinutes(0),startDate.setHours(0),endDate.setMinutes(0),endDate.setHours(0);var timeDiff=Math.abs(endDate.getTime()-startDate.getTime()),result=Math.round(timeDiff/864e5);result<0&&(result=0),elementsToReplace.push({oldValue:calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),newValue:result})}if(-1<calculation.indexOf("distance_")){var $target=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+targetID+'"]');for($target.attr("data-usedistance","true");-1!=(i=calculation.indexOf("distance_",i+1));){var distanceType="km",departAdPosEnd=calculation.indexOf("-",i+9)+1,departAdress=calculation.substr(i+9,calculation.indexOf("-",i)-(i+9)),departCityPosEnd=calculation.indexOf("-",departAdPosEnd)+1,departCity=calculation.substr(departAdPosEnd,calculation.indexOf("-",departAdPosEnd)-departAdPosEnd),departZipPosEnd=calculation.indexOf("-",departCityPosEnd)+1,departZip=calculation.substr(departCityPosEnd,calculation.indexOf("-",departCityPosEnd)-departCityPosEnd),departCountryPosEnd=calculation.indexOf("_",departZipPosEnd)+1,departCountry=calculation.substr(departZipPosEnd,calculation.indexOf("_",departZipPosEnd)-departZipPosEnd),arrivalAdPosEnd=calculation.indexOf("-",departCountryPosEnd)+1,arrivalAdress=calculation.substr(departCountryPosEnd,calculation.indexOf("-",departCountryPosEnd)-departCountryPosEnd),arrivalCityPosEnd=calculation.indexOf("-",arrivalAdPosEnd)+1,arrivalCity=calculation.substr(arrivalAdPosEnd,calculation.indexOf("-",arrivalAdPosEnd)-arrivalAdPosEnd),arrivalZipPosEnd=calculation.indexOf("-",arrivalCityPosEnd)+1,arrivalZip=calculation.substr(arrivalCityPosEnd,calculation.indexOf("-",arrivalCityPosEnd)-arrivalCityPosEnd),arrivalCountryPosEnd=calculation.indexOf("_",arrivalZipPosEnd)+1,arrivalCountry=calculation.substr(arrivalZipPosEnd,calculation.indexOf("_",arrivalZipPosEnd)-arrivalZipPosEnd),$item,departAdress,$item,departCity,$item,departZip,$item,departCountry,$item,arrivalAdress,$item,arrivalCity,$item,arrivalZip,$item,arrivalCountry,distanceType=calculation.substr(arrivalCountryPosEnd,calculation.indexOf("]",arrivalCountryPosEnd)-arrivalCountryPosEnd);""!=departAdress&&(departAdress=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departAdress+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departAdress+'"]'),$item.val()):0),""!=departCity&&(departCity=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departCity+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departCity+'"]'),$item.val()):0),""!=departZip&&(departZip=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departZip+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departZip+'"]'),$item.val()):0),""!=departCountry&&(departCountry=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departCountry+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+departCountry+'"]'),$item.val()):0),""!=arrivalAdress&&(arrivalAdress=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalAdress+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalAdress+'"]'),$item.val()):0),""!=arrivalCity&&(arrivalCity=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalCity+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalCity+'"]'),$item.val()):0),""!=arrivalZip&&(arrivalZip=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalZip+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalZip+'"]'),$item.val()):0),""!=arrivalCountry&&(arrivalCountry=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalCountry+'"]').length?($item=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+arrivalCountry+'"]'),$item.val()):0),0<$target.closest(".lfb_genSlide").find(".lfb_distanceError").length&&lfb_removeDistanceError(targetID,formID);var distanceCode=calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),distance=0,depart,arrival;""!=$target.attr("data-distance")&&(distance=parseFloat($target.attr("data-distance"))),""==departAdress&&""==departCity&&""==departCountry&&""==arrivalAdress&&""==arrivalCity&&""==arrivalCountry&&""==departZip&&""==arrivalZip?lfb_showDistanceError(targetID,formID):""==form.gmap_key?(lfb_showDistanceError(targetID,formID),console.log("invalid gmap api key")):(depart=departAdress+" "+departZip+" "+departCity+" "+departCountry,arrival=arrivalAdress+" "+arrivalZip+" "+arrivalCity+" "+arrivalCountry,$target.attr("data-departure")==depart&&arrival==$target.attr("data-arrival")||($target.attr("data-departure",depart),$target.attr("data-arrival",arrival),lfb_getDistanceCalc(distanceCode,formID,targetID,depart,arrival,distanceType))),elementsToReplace.push({oldValue:calculation.substr(i-1,calculation.indexOf("]",i)+1-(i-1)),newValue:distance})}}if(jQuery.each(elementsToReplace,function(){calculation=calculation.replace(this.oldValue,this.newValue)}),calculation=calculation.replace(/\[total_single\]/g,form.priceSingle),calculation=calculation.replace(/\[total_default\]/g,form.price),calculation=jQuery('#lfb_form.lfb_bootstraped[data-form="'+formID+'"]').is("[data-isSubs]")&&(itemData&&itemData.isSinglePrice||jQuery('[data-itemid="'+targetID+'"]').is('[data-singleprice="true"]'))?calculation.replace(/\[total\]/g,form.priceSingle):calculation.replace(/\[total\]/g,form.price),-1<calculation.indexOf("[total_quantity]")&&(calculation=calculation.replace(/\[total_quantity\]/g,lfb_getTotalQuantities(formID,_stepID,targetID))),-1==calculation.indexOf("[price]")){for(i=0;-1!=(i=calculation.indexOf("{",i+1));){var charsToEnd=calculation.substr(i+1,calculation.indexOf("}",i+1)-(i+1));/\S/.test(charsToEnd)&&(calculation=calculation.substr(0,i+1)+" price ="+calculation.substr(i+1,calculation.length),i+=8)}calculation.indexOf("if")<0?calculation="price = "+calculation:(charsToStart=calculation.substr(0,calculation.indexOf("if")),/\S/.test(charsToStart)&&(calculation="price = "+calculation)),calculation=lfb_removeDoubleSpaces(calculation),calculation=calculation.replace(/price =\n if/g,"\nif"),calculation=calculation.replace(/price = if/g,"if"),calculation=calculation.replace(/price = \nif/g,"\nif"),calculation=calculation.replace(/price = \n if/g,"\n if")}else calculation=calculation.replace(/\[price\]/g,"price"),calculation=calculation.replace(/\[quantity\]/g,"price"),calculation=calculation.replace(/\[variable\]/g,"price"),calculation=lfb_removeDoubleSpaces(calculation);if("price ="!=calculation.trim())try{eval(calculation)}catch(e){console.log("wrong calculation : "+calculation)}return isVariable?price:parseFloat(price)}function lfb_parseDate(t){var e=t;return"string"==typeof t&&(t=t.match(/(\d+)/g),e=new Date(t[0],t[1]-1,t[2])),e}function lfb_removeDoubleSpaces(t){return-1<(t=(t=t.replace(/\t/g,"")).replace(/  /g," ")).indexOf("  ")&&lfb_removeDoubleSpaces(t),t}function lfb_removeDistanceError(t,e){var a,t=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+t+'"]');0==t.closest(".lfb_genSlide").find('[data-itemid][data-usedistance="true"]:not([data-distance]):not([type="checkbox"]).checked,[data-itemid][data-usedistance="true"]:not([data-distance]):checked,[data-itemid][data-usedistance="true"]:not([data-distance])[data-type="slider"]').length&&0==t.closest(".lfb_genSlide").find('[data-itemid][data-usedistance="true"][data-distance="0"]:not([type="checkbox"]).checked,[data-itemid][data-usedistance="true"][data-distance="0"]:checked,[data-itemid][data-usedistance="true"][data-distance="0"][data-type="slider"]').length&&(t.closest(".lfb_genSlide").find(".lfb_btn-next").fadeIn(),t.closest(".lfb_genSlide").find(".lfb_btnNextContainer").fadeIn(),t.closest(".lfb_genSlide").find(".lfb_btn-next").removeClass("lfb_disabledBtn"),(a=t.closest(".lfb_genSlide").find(".lfb_distanceError")).fadeOut(),setTimeout(function(){a.remove()},300))}function lfb_showDistanceError(t,e){var a=lfb_getForm(e),r=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+t+'"]');r.closest(".lfb_genSlide").find(".lfb_btn-next").addClass("lfb_disabledBtn"),r.closest(".lfb_genSlide").find(".lfb_btn-next").hide(),0==r.closest(".lfb_genSlide").find(".lfb_distanceError").length&&r.closest(".lfb_genSlide").find(".lfb_btnNextContainer").before('<div class="lfb_distanceError alert alert-danger"><p>'+a.txtDistanceError+"</p></div>");t=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] [data-itemid="'+t+'"]').closest(".lfb_genSlide").attr("data-stepid");"final"!=a.step||a.backFomFinal||(a.backFomFinal=!0,lfb_changeStep(t,e)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"]').trigger("lfb_distanceError")}function lfb_updateLabelItem(t,e){lfb_getForm(e);t.is(".dropzone")||(t.closest(".lfb_itemBloc").find("label").each(function(){-1<jQuery(this).html().indexOf(":")&&0==jQuery(this).closest(".switch").length&&jQuery(this).html(t.attr("data-original-label"))}),0<t.parent().children(".lfb_imgTitle").length&&t.is("[data-original-title]")&&t.parent().children(".lfb_imgTitle").html(t.attr("data-original-title")),t.is('[type="checkbox"]')&&t.closest(".lfb_itemBloc").find("div > label").first().html(t.attr("data-original-label")),0<t.find(".lfb_buttonTitle").length&&t.is("[data-original-title]")&&t.find(".lfb_buttonTitle").html(t.attr("data-original-title")))}function lfb_updatePrice(s,d){var n=!1,b=lfb_getForm(s);lfb_updatePlannedSteps(s),lfb_updateStep(s),lfb_updateShowItems(s),b.lastPrice=b.price,b.price=b.initialPrice,b.priceSingle=0;for(var t=JSON.parse(JSON.stringify(lfb_lastSteps)),m=0,u=0,e=0;e<b.variables.length;e++)b.variables[e].value=b.variables[e].defaultValue;"final"!=b.step&&-1==jQuery.inArray(parseInt(b.step),t)?t.push(parseInt(b.step)):"final"==b.step&&-1==jQuery.inArray("final",t)&&t.push("final");for(e=0;e<t.length;e++){var p=t[e];"final"!=p&&0==parseInt(p)||jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+p+'"]').is(".lfb_disabled")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+p+'"]').find("[data-itemid]").each(function(){if(jQuery(this).is("div.lfb_selectable.checked")||jQuery(this).is('div[data-type="slider"]')||jQuery(this).is("a.lfb_button.checked")||jQuery(this).is("input[type=checkbox]:checked")||jQuery(this).is("select[data-itemid][data-price]")||jQuery(this).is('input[type=number][data-valueasqt="1"]')){if(!jQuery(this).is(".lfb_disabled")&&0==jQuery(this).closest(".lfb_itemBloc.lfb_disabled").length&&!jQuery(this).is(".lfb_disabled"))if(jQuery(this).is('[data-singleprice="true"]')&&(n=!0),jQuery(this).is("[data-usecalculation]")||jQuery(this).data("price",jQuery(this).attr("data-price")),jQuery(this).is("[data-usecalculation]")&&(p!=b.step&&jQuery(this).is(".lfb_executed")?jQuery(this).attr("data-price",jQuery(this).data("price")):jQuery(this).data("price",lfb_executeCalculation(jQuery(this).attr("data-calculation"),s,jQuery(this).attr("data-itemid")))),0<jQuery(this).find(".icon_quantity").length||0<jQuery(this).find(".lfb_qtfield").length||jQuery(this).is('[data-type="slider"]')||jQuery(this).is('input[type=number][data-valueasqt="1"]')){var a="",t=0,e=99999999999999;if(0<jQuery(this).find(".icon_quantity").length?(a=jQuery(this).find(".icon_quantity").html(),t=parseFloat(jQuery(this).find(".quantityBtns").attr("data-min")),e=parseFloat(jQuery(this).find(".quantityBtns").attr("data-max"))):0<jQuery(this).find(".lfb_qtfield").length?(a=jQuery(this).find(".lfb_qtfield").val(),t=jQuery(this).find(".lfb_qtfield").attr("min"),e=jQuery(this).find(".lfb_qtfield").attr("max")):jQuery(this).is('[data-type="slider"]')?(a=parseFloat(jQuery(this).slider("value")),t=jQuery(this).attr("data-min"),e=jQuery(this).attr("data-max")):jQuery(this).is('input[type=number][data-valueasqt="1"]')&&(a=parseFloat(jQuery(this).val()),t=jQuery(this).attr("min"),e=jQuery(this).is("[max]")?jQuery(this).attr("max"):1e17),!jQuery(this).is("[data-usecalculationqt]")||jQuery(this).is(".lfb_changed")||void 0!==d&&jQuery(this).attr("data-itemid")==d||(a=lfb_executeCalculation(jQuery(this).attr("data-calculationqt"),s,jQuery(this).attr("data-itemid")),isNaN(a)&&(a=0),e<a&&(a=e),a<t&&(a=t),0<jQuery(this).find(".icon_quantity").length?(jQuery(this).find(".icon_quantity").html(a),0<jQuery(this).find(".lfb_sliderQt").length&&jQuery(this).find(".lfb_sliderQt").slider("value",parseFloat(a)),jQuery(this).find(".quantityBtns").addClass("lfb-hidden")):0<jQuery(this).find(".lfb_qtfield").length?jQuery(this).find(".lfb_qtfield").val(a):jQuery(this).is('[data-type="slider"]')?jQuery(this).slider("value",parseFloat(a)):jQuery(this).is('input[type="number"]')&&jQuery(this).val(a)),jQuery(this).is("[data-distanceqt]")&&(lfb_executeCalculation(jQuery(this).attr("data-distanceqt"),s,jQuery(this).attr("data-itemid")),jQuery(this).is("[data-distance]")&&(a=parseFloat(jQuery(this).attr("data-distance")).toFixed(2)),a<t?a=t:e<a&&(a=e),0<jQuery(this).find(".lfb_qtfield").length?jQuery(this).find(".lfb_qtfield").val(a):0<jQuery(this).find(".lfb_sliderQt").length?(jQuery(this).find(".lfb_sliderQt").slider("value",a),jQuery(this).find(".icon_quantity").html(a)):0<jQuery(this).find(".quantityBtns").length?jQuery(this).find(".icon_quantity").html(a):jQuery(this).is('[data-type="slider"]')&&jQuery(this).slider("value",a),jQuery(this).is("[data-usecalculation]")&&jQuery(this).data("price",lfb_executeCalculation(jQuery(this).attr("data-calculation"),s,jQuery(this).attr("data-itemid")))),jQuery(this).attr("data-resqt",a),jQuery(this).is("[data-price]"))if("-"==jQuery(this).data("operation"))jQuery(this).data("resprice",0-parseFloat(jQuery(this).data("price"))*parseFloat(a)),jQuery(this).is('[data-singleprice="true"]')?b.priceSingle-=parseFloat(jQuery(this).data("price"))*parseFloat(a):b.price-=parseFloat(jQuery(this).data("price"))*parseFloat(a);else if("x"==jQuery(this).data("operation"))for(var r=0;r<parseFloat(a);r++)0==r?(b.price=b.price,jQuery(this).data("resprice",b.price)):jQuery(this).is('[data-singleprice="true"]')?(jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle+=u*parseFloat(jQuery(this).data("price"))/100),jQuery(this).data("resprice",u*parseFloat(jQuery(this).data("price"))/100)):(jQuery(this).is('[data-addtototal!="no"]')&&(b.price+=m*parseFloat(jQuery(this).data("price"))/100),jQuery(this).data("resprice",b.price*parseFloat(jQuery(this).data("price"))/100));else if("/"==jQuery(this).data("operation"))for(r=0;r<parseFloat(a);r++)jQuery(this).data("resprice",0-b.price*parseFloat(jQuery(this).data("price"))/100),jQuery(this).is('[data-singleprice="true"]')?jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle=b.price-b.price*parseFloat(jQuery(this).data("price"))/100):jQuery(this).is('[data-addtototal!="no"]')&&(b.price=b.price-b.price*parseFloat(jQuery(this).data("price"))/100);else{var l,o,i,f=-2;jQuery(this).data("reduc")&&0<jQuery(this).data("reducqt").length&&(l=(l=jQuery(this).data("reducqt")).split("*"),o=new Array,i=0,jQuery.each(l,function(t){var e=l[t].split("|");o.push(e[1]),parseFloat(e[0])<=parseFloat(a)&&(f=t),(parseFloat(e[0])<i||0==i)&&(i=parseFloat(e[0]))})),0<=f?(e=parseFloat(o[f])*parseFloat(a),"0"==jQuery(this).attr("data-price")&&(e=parseFloat(o[f])*(parseFloat(a)-i)),jQuery(this).data("resprice",e),jQuery(this).is('[data-singleprice="true"]')?jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle+=parseFloat(e)):jQuery(this).is('[data-addtototal!="no"]')&&(b.price+=parseFloat(e)),"left"==b.currencyPosition?jQuery(this).is('[data-showprice="1"]')?("+"==jQuery(this).data("operation")?(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>"+b.currency+lfb_formatPrice(o[f],s)+"</strong>")):"-"==jQuery(this).data("operation")?(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>-"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>-"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>-"+b.currency+lfb_formatPrice(o[f],s)+"</strong>")):"x"==jQuery(this).data("operation")?(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>+"+lfb_formatPrice(o[f],s)+"%</strong>"),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>+"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>+"+lfb_formatPrice(o[f],s)+"%</strong>")):(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>-"+lfb_formatPrice(o[f],s)+"%</strong>"),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>-"+b.currency+lfb_formatPrice(o[f],s)+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>-"+lfb_formatPrice(o[f],s)+"%</strong>")),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),lfb_updateLabelItem(jQuery(this),s)):(jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")),jQuery(this).is("[data-tooltiptext]")?jQuery(this).attr("data-original-title",jQuery(this).attr("data-tooltiptext")):jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle"))):jQuery(this).is('[data-showprice="1"]')?("+"==jQuery(this).attr("data-operation")?(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>"+lfb_formatPrice(o[f],s)+b.currency+"</strong>")):"-"==jQuery(this).attr("data-operation")?(jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>-"+ +lfb_formatPrice(o[f],s)+"</span>"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>-"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>-"+lfb_formatPrice(o[f],s)+b.currency+"</strong>")):"x"==jQuery(this).attr("data-operation")?(jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>+"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>+"+lfb_formatPrice(o[f],s)+"%</strong>"),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>+"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>+"+lfb_formatPrice(o[f],s)+"%</strong>")):(jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")+" : <strong>-"+lfb_formatPrice(o[f],s)+b.currency+"</strong>"),jQuery(this).attr("title",jQuery(this).data("originaltitle")+" : <strong>--"+lfb_formatPrice(o[f],s)+"%</strong>"),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")+" : <strong>-"+lfb_formatPrice(o[f],s)+"%</strong>")),0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).is('[data-type="slider"]')||jQuery(this).is(".lfb_button")||""!=b.imgTitlesStyle||jQuery(this).b_tooltip("fixTitle"),lfb_updateLabelItem(jQuery(this),s)):(jQuery(this).attr("data-original-label",jQuery(this).data("originallabel")),jQuery(this).is("[data-tooltiptext]")?jQuery(this).attr("data-original-title",jQuery(this).attr("data-tooltiptext")):jQuery(this).attr("data-original-title",jQuery(this).data("originaltitle")))):(jQuery(this).data("resprice",parseFloat(jQuery(this).data("price"))*parseFloat(a)),b.price=parseFloat(b.price),b.priceSingle=parseFloat(b.priceSingle),jQuery(this).is('[data-singleprice="true"]')?jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle+=parseFloat(jQuery(this).data("price"))*parseFloat(a)):jQuery(this).is('[data-addtototal!="no"]')&&(b.price+=parseFloat(jQuery(this).data("price"))*parseFloat(a)),lfb_updateItemTitleNoReduc(jQuery(this),b)),jQuery(this).find(".quantityBtns").is(".open")&&""==b.imgTitlesStyle&&(0!=b.disableTipMobile&&lfb_is_touch_device()||jQuery(this).b_tooltip("show"))}else jQuery(this).data("resprice","0")}else jQuery(this).data("resqt","0"),jQuery(this).data("price")?("-"==jQuery(this).data("operation")?(jQuery(this).data("resprice",0-parseFloat(jQuery(this).data("price"))),jQuery(this).is('[data-singleprice="true"]')?jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle-=parseFloat(jQuery(this).data("price"))):jQuery(this).is('[data-addtototal!="no"]')&&(b.price-=parseFloat(jQuery(this).data("price")))):"x"==jQuery(this).data("operation")?jQuery(this).is('[data-singleprice="true"]')?(jQuery(this).data("resprice",b.priceSingle*parseFloat(jQuery(this).data("price"))/100),jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle=b.priceSingle+b.priceSingle*parseFloat(jQuery(this).data("price"))/100)):(jQuery(this).data("resprice",b.price*parseFloat(jQuery(this).data("price"))/100),jQuery(this).is('[data-addtototal!="no"]')&&(b.price=b.price+b.price*parseFloat(jQuery(this).data("price"))/100)):"/"==jQuery(this).attr("data-operation")?jQuery(this).is('[data-singleprice="true"]')?(jQuery(this).data("resprice",0-b.priceSingle*parseFloat(jQuery(this).data("price"))/100),jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle=b.priceSingle-b.priceSingle*parseFloat(jQuery(this).data("price"))/100)):(jQuery(this).data("resprice",0-b.price*parseFloat(jQuery(this).data("price"))/100),jQuery(this).is('[data-addtototal!="no"]')&&(b.price=b.price-b.price*parseFloat(jQuery(this).data("price"))/100)):(jQuery(this).data("resprice",jQuery(this).data("price")),jQuery(this).is('[data-singleprice="true"]')?jQuery(this).is('[data-addtototal!="no"]')&&(b.priceSingle+=parseFloat(jQuery(this).data("price"))):jQuery(this).is('[data-addtototal!="no"]')&&(b.price=parseFloat(b.price)+parseFloat(jQuery(this).data("price")))),lfb_updateItemTitleNoReduc(jQuery(this),b)):jQuery(this).data("resprice","0");jQuery(this).is("[data-usecalculationvar]")&&!jQuery(this).is('[data-usecalculationvar="0"]')&&lfb_updateVariable(b,jQuery(this).attr("data-usecalculationvar"),jQuery(this).attr("data-calculationvar"),jQuery(this).attr("data-itemid"))}jQuery(this).is('input[type!="checkbox"][data-usecalculationvar]')&&!jQuery(this).is('[data-usecalculationvar="0"]')&&lfb_updateVariable(b,jQuery(this).attr("data-usecalculationvar"),jQuery(this).attr("data-calculationvar"),jQuery(this).attr("data-itemid")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+s+'"]').trigger("priceUpdated",[jQuery(this).attr("data-itemid")]),lfb_updateItemData(b,jQuery(this).attr("data-itemid"))}),m=b.price,u=b.priceSingle}0<b.reduction&&(b.reductionType&&"%"==b.reductionType?0<b.priceSingle?b.reductionResult=b.priceSingle*b.reduction/100:b.reductionResult=b.price*b.reduction/100:b.reductionResult=b.reduction,b.reductionResult=parseFloat(b.reductionResult),0==b.priceSingle?b.price-=b.reductionResult:b.priceSingle-=b.reductionResult),lfb_updateVAT(s),(!b.price||b.price<0)&&(b.price=0),n&&b.priceSingle&&!(b.priceSingle<0)||(b.priceSingle=0);var a=/^\d+(\.\d{2})?$/;a.test(b.price)||(b.price=parseFloat(b.price).toFixed(2));try{a.test(b.priceSingle)||(b.priceSingle=parseFloat(b.priceSingle).toFixed(2))}catch(t){}var r=b.currency+""+lfb_formatPrice(parseFloat(b.priceSingle),s),l=b.currency+""+lfb_formatPrice(parseFloat(b.price),s),o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-rangelabelbetween"),i=jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-rangelabeland");jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is("[data-totalrange]")&&0<parseFloat(b.price)?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').is(".lfb_notNull")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').addClass("lfb_notNull"),_=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-totalrange")),f=parseFloat(b.price)-_/2,c=parseFloat(b.price)+_/2,jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is('[data-rangemode="percent"]')&&(f=parseFloat(b.price)-parseFloat(b.price)*_/100,c=parseFloat(b.price)+parseFloat(b.price)*_/100),f<0&&(f=0),l=o+"<br/><strong>"+b.currency+lfb_formatPrice(f,s)+"</strong><br/>"+i+"<br/><strong>"+b.currency+lfb_formatPrice(c,s)+"</strong>"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').removeClass("lfb_notNull"),"left"!=b.currencyPosition&&(l=lfb_formatPrice(b.price,s)+""+b.currency,r=lfb_formatPrice(b.priceSingle,s)+""+b.currency,jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is("[data-totalrange]")&&0<parseFloat(b.price)?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').is(".lfb_notNull")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').addClass("lfb_notNull"),_=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-totalrange")),f=parseFloat(b.price)-_/2,c=parseFloat(b.price)+_/2,jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is('[data-rangemode="percent"]')&&(f=parseFloat(b.price)-parseFloat(b.price)*_/100,c=parseFloat(b.price)+parseFloat(b.price)*_/100),f<0&&(f=0),l=o+"<br/><strong>"+lfb_formatPrice(f,s)+b.currency+"</strong><br/>"+i+"<br/><strong>"+lfb_formatPrice(c,s)+b.currency+"</strong>"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').removeClass("lfb_notNull")),1==b.showTotalBottom&&(!(n&&0<b.priceSingle)||b.price<0?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom').removeClass("lfb_priceSingle"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom>span.lfb_subPrice').remove(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom>br').remove()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom').addClass("lfb_priceSingle"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom').each(function(){0==jQuery(this).find(".lfb_subPrice").length&&jQuery(this).find(">span:eq(0)").after('<br/><span class="lfb_subPrice">+ '+l+"</span>")})),n&&0<b.priceSingle?b.price<=0?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span:first-child').html(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span.lfb_subPrice').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span:eq(2)').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom .lfb_subTxtBottom').hide()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span.lfb_subPrice').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span:eq(2)').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span:first-child').html(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span.lfb_subPrice').html("+ "+l),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom .lfb_subTxtBottom').show()):(b.price<=0?jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom .lfb_subTxtBottom').hide():jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom .lfb_subTxtBottom').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .lfb_totalBottom> span:first-child').html(l))),0==b.showSteps&&(!(n&&0<b.priceSingle)||b.price<0?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').removeClass("lfb_priceSingle"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price>span.lfb_subPrice').remove()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').addClass("lfb_priceSingle"),0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span.lfb_subPrice').length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price>span:eq(0)').after('<span class="lfb_subPrice">+ '+l+"</span>")),n&&0<b.priceSingle?b.price<=0?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').css("top","6px"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').html(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span.lfb_subPrice').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:eq(2)').hide()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').css("top","-5px"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span.lfb_subPrice').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:eq(2)').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').html(r),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span.lfb_subPrice').html("+ "+l)):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is('[data-isSubs="true"]')?jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').css("position","relative").css("top","6px"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').css("position","relative").css("top","0px"),0<b.price?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').css("position","relative").css("top","0px"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:eq(1)').show()):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:eq(1)').hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').html(l)),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').length&&(8<jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price> span:first-child').html().length?16<=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size"))&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size","16px"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size","18px"),9<jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price > span:first-child').html().length&&14<=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size"))&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size","14px"),10<jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price > span:first-child').html().length&&11<=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size"))&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').css("font-size","11px")),y=b.price,jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is('[data-isSubs="true"]')&&"single"==b.progressBarPriceType&&(y=b.priceSingle),h=100*y/b.priceMax,1==b.showInitialPrice&&(h=100*(y-parseFloat(b.initialPrice))/b.priceMax),100<h&&(h=100),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar').css("width",h+"%"),jQuery("body").is(".rtl")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').animate({right:h+"%"},70):jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] .genPrice .progress .progress-bar-price').animate({left:h+"%"},70));var f,c,_,y=b.currency+""+lfb_formatPrice(parseFloat(b.price).toFixed(2),s),h=b.currency+""+lfb_formatPrice(parseFloat(b.priceSingle).toFixed(2),s);"left"!=b.currencyPosition&&(y=lfb_formatPrice(parseFloat(b.price).toFixed(2),s)+""+b.currency,h=lfb_formatPrice(parseFloat(b.priceSingle).toFixed(2),s)+""+b.currency),jQuery('#lfb_form.lfb_bootstraped[data-form="'+s+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html(y),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is("[data-totalrange]")&&0<parseFloat(b.price)&&(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-rangelabelbetween"),i=jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-rangelabeland"),_=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-totalrange")),f=parseFloat(b.price)-_/2,c=parseFloat(b.price)+_/2,jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').is('[data-rangemode="percent"]')&&(f=parseFloat(b.price)-parseFloat(b.price)*_/100,c=parseFloat(b.price)+parseFloat(b.price)*_/100),f<0&&(f=0),l=o+"<br/><strong>"+b.currency+lfb_formatPrice(f,s)+"</strong><br/>"+i+"<br/><strong>"+b.currency+lfb_formatPrice(c,s)+"</strong>","left"!=b.currencyPosition&&(_=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"]').attr("data-totalrange")),l=o+"<br/><strong>"+lfb_formatPrice(f,s)+b.currency+"</strong><br/>"+i+"<br/><strong>"+lfb_formatPrice(c,s)+b.currency+"</strong>"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+s+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html(l.replace(/<br\/>/g," "))),lfb_updateSummary(s),n&&0<b.priceSingle?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(0)').html(r),b.price<=0?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').css("display","none"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(2)').css("display","none"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+s+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html("<strong>"+h+"</strong>")):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(2)').css("display","inline-block"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').html("+"+l+b.subscriptionText),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').css("display","block"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+s+'"] #lfb_summary table #lfb_summaryTotal>span:eq(0)').html("<strong>"+h+"</strong> <br/>+"+y))):0==b.priceSingle&&0==b.price?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').css("display","none"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(2)').css("display","none"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(0)').html(l),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').html(b.subscriptionText)):0==b.priceSingle&&0<b.price?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(0)').html(l),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').html(b.subscriptionText),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(2)').css("display","inline-block"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').css("display","inline-block")):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(2)').css("display","inline-block"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(1)').css("display","inline-block"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+b.formID+'"] #lfb_finalPrice span:eq(0)').html(l)),lfb_updateShowSteps(s),lfb_updateShowItems(s),lfb_updateLayerImages(s),lfb_updateStep(s),lfb_updateRichTextValues(s)}function lfb_updateItemTitleNoReduc(t,e){var a=e.formID;"left"==e.currencyPosition?t.is('[data-showprice="1"]')?("+"==t.data("operation")?(t.attr("title",t.data("originaltitle")+" : <strong>"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>"),t.attr("data-original-label",t.data("originallabel")+" : <strong>"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>")):"-"==t.data("operation")?(t.attr("data-original-label",t.data("originallabel")+" : <strong>-"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>"),t.attr("title",t.data("originaltitle")+" : <strong>-"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-label",t.data("originallabel")+" : <strong>-"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>-"+e.currency+lfb_formatPrice(t.data("price"),a)+"</strong>")):"x"==t.data("operation")?(t.attr("title",t.data("originaltitle")+" : <strong>+"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-label",t.data("originallabel")+" : <strong>+"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>+"+lfb_formatPrice(t.data("price"),a)+"%</strong>")):(t.attr("title",t.data("originaltitle")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-label",t.data("originallabel")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+"%</strong>")),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),lfb_updateLabelItem(t,a)):t.is("[data-tooltiptext]")?t.attr("data-original-title",jQuery(this).attr("data-tooltiptext")):t.attr("data-original-title",t.data("originaltitle")):t.is('[data-showprice="1"]')?("+"==t.attr("data-operation")?(t.attr("title",t.data("originaltitle")+" : <strong>"+lfb_formatPrice(t.data("price"),a)+e.currency+"</strong>"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>"+lfb_formatPrice(t.data("price"),a)+e.currency+"</strong>")):"-"==t.attr("data-operation")?(t.attr("title",t.data("originaltitle")+" : <strong>-"+ +lfb_formatPrice(t.data("price"),a)+"</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+e.currency+"</strong>")):"x"==t.attr("data-operation")?(t.attr("title",t.data("originaltitle")+" : <strong>+"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>+"+lfb_formatPrice(t.data("price"),a)+"%</strong>")):(t.attr("title",t.data("originaltitle")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+"%</strong>"),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),t.attr("data-original-title",t.data("originaltitle")+" : <strong>-"+lfb_formatPrice(t.data("price"),a)+"%</strong>")),0!=e.disableTipMobile&&lfb_is_touch_device()||t.is('[data-type="slider"]')||t.is(".lfb_button")||""!=e.imgTitlesStyle||t.b_tooltip("fixTitle"),lfb_updateLabelItem(t,a)):t.is("[data-tooltiptext]")?t.attr("data-original-title",jQuery(this).attr("data-tooltiptext")):t.attr("data-original-title",t.data("originaltitle")),0<t.parent().children(".lfb_imgTitle").length&&t.is("[data-original-title]")&&t.parent().children(".lfb_imgTitle").html(t.attr("data-original-title"))}function lfb_isDecimal(t){if(""!=t){for(var e in t)if(-1=="0123456789".indexOf(t[e]))return;return 1}}function lfb_changeContentSlide(t,e){var a=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide.active").index();"left"==t?0<a?a--:a=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide").length:a<jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide").length-1?a++:a=0,jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide.active").fadeOut(500,function(){jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide.active").removeClass("active"),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide").eq(a).delay(200).fadeIn(500,function(){jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+form.step+'"]').find(".lfb_genContent").find(".lfb_genContentSlide").eq(a).delay(250).addClass("active")})})}function lfb_toggleField(t,e){var a=lfb_getForm(e);jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #field_'+t+"_cb").is(":checked")?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #field_'+t).addClass("opened"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #field_'+t).slideDown(250)):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #field_'+t).removeClass("opened"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #field_'+t).slideUp(250)),setTimeout(function(){var t=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+a.step+'"] .lfb_stepTitle').height(),t=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide[data-stepid='+a.step+"] .lfb_genContent").outerHeight()+parseInt(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel').css("padding-bottom"))+102+t;"final"==a.step&&(t-=80),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel').animate({minHeight:t})},300)}function lfb_finalStep(e){var t,a=lfb_getForm(e);a.step++,1!=a.enablePdfDownload||"null"!=typeof(t=window.open(a.homeUrl+"/index.php?EPFormsBuilder=downloadMyOrder","_blank"))&&null!=t&&(t.focus(),setTimeout(function(){t.close()},400)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"]').trigger("formSent"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_loader').delay(800).fadeOut(2*a.animationsSpeed),0==a.redirectionDelay&&(a.redirectionDelay=1),setTimeout(function(){var t=lfb_getRedirectionURL(e);""!=t&&"#"!=t&&" "!=t&&(""!=a.urlVariables&&-1<t.indexOf("?")&&a.urlVariables.replace("?","&"),document.location.href=t+a.urlVariables)},1e3*a.redirectionDelay)}function lfb_updateStep(a){var r,t,e,l,o,i,f,s=lfb_getForm(a);1==s.showSteps?(o=new Array,l=!1,jQuery.each(lfb_plannedSteps,function(){l||jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"]').is(".lfb_disabled")||!(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"] .lfb_item:not(.lfb-hidden)').length||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"] .lfb_distanceError').length)||o.push(this)}),r=0,jQuery.each(o,function(t,e){parseInt(e)==parseInt(s.step)&&(r=t)}),0==++r&&(r=1),"final"==s.step&&(r=o.length+1),(t=o.length+1)<r&&(r=t),e=100*r/t,jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] .genPrice .progress .progress-bar-price> span:first-child').html(r+"/"+t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] .genPrice .progress .progress-bar').css("width",e+"%")):3==s.showSteps&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_stepper *:not(#lfb_stepperBar)').remove(),l=!1,o=new Array,jQuery.each(lfb_plannedSteps,function(){l||jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"]').is(".lfb_disabled")||!(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"] .lfb_item:not(.lfb-hidden)').length||0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"] .lfb_distanceError').length)||o.push(this)}),i=!1,f=parseInt(jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] .lfb_genSlide.lfb_activeStep').attr("data-stepid")),jQuery.each(o,function(t){var e=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+this+'"] .lfb_stepTitle').html(),e=jQuery('<a href="javascript:"  class="lfb_stepperPoint" data-stepid="'+this+'" title="'+e+'"></a>');jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_stepper').append(e),e.b_tooltip({html:!0,container:'#lfb_form[data-form="'+a+'"]',placement:"bottom"}),i?e.addClass("lfb_disabledPoint"):parseInt(this)==f?(e.addClass("lfb_currentPoint"),i=!0):e.on("click",function(){lfb_returnToStep(parseInt(jQuery(this).attr("data-stepid")),a)});t=100/o.length*t;100!=t&&0!=t||1!=o.length?t+=100/o.length/2:t=50,e.css({left:t+"%"}),parseInt(this)==f&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_stepper #lfb_stepperBar').css({width:t+"%"})}),"final"==s.step&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_stepper #lfb_stepperBar').css({width:"100%"}))}function lfb_initPanelResize(t){var e=lfb_getForm(t);jQuery(window).resize(function(){lfb_resize(e)})}function lfb_resizeAll(){jQuery(window).trigger("resize")}function lfb_resize(t){var e=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+t.step+'"] .lfb_stepTitle').height(),e=jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+t.step+'"] .lfb_genContent').outerHeight()+parseInt(jQuery(' #lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] #lfb_mainPanel').css("padding-bottom"))+102+e;"final"==t.step&&(e-=80),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] #lfb_mainPanel').animate({minHeight:e}),1==t.useSignature&&jQuery('#lfb_form[data-form="'+t.formID+'"] #lfb_signature canvas').attr("width",jQuery('#lfb_form.lfb_bootstraped[data-form="'+t.formID+'"] #lfb_signature').width())}function lfb_rgb2hex(e){if(!(-1<e.indexOf("rgb")))return e;try{function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}return"#"+t((e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+t(e[2])+t(e[3])}catch(t){return e}}function lfb_formatPriceWithCurrency(t,e){var a=lfb_getForm(e);return t=lfb_formatPrice(t,e),"left"==a.currencyPosition?t=a.currency+t:t+=a.currency,t}function lfb_formatPrice(t,e){var a=(t=t||0).toString();-1<a.indexOf(".")&&(a=parseFloat(t).toFixed(2).toString());var r=lfb_getForm(e);"1"==r.summary_noDecimals&&(a=Math.round(a).toString());r.decimalsSeparator;var l=r.thousandsSeparator,o=a,i=r.millionSeparator,t=r.billionsSeparator,e="";return-1<a.indexOf(".")?(o=a.substr(0,a.indexOf(".")),e=a.substr(a.indexOf(".")+1,2),a=a.replace(".",r.decimalsSeparator),1==e.toString().length&&(e=e.toString()+"0"),9<o.length?a=o.substr(0,o.length-9)+t+o.substr(o.length-9,3)+i+o.substr(o.length-6,3)+l+o.substr(o.length-3,o.length)+r.decimalsSeparator+e:6<o.length?a=o.substr(0,o.length-6)+i+o.substr(o.length-6,3)+l+o.substr(o.length-3,o.length)+r.decimalsSeparator+e:3<o.length&&(a=o.substr(0,o.length-3)+l+o.substr(o.length-3,o.length)+r.decimalsSeparator+e)):9<o.length?a=o.substr(0,o.length-9)+t+o.substr(o.length-9,3)+i+o.substr(o.length-6,3)+l+o.substr(o.length-3,o.length):6<o.length?a=o.substr(0,o.length-6)+i+o.substr(o.length-6,3)+l+o.substr(o.length-3,o.length):3<o.length&&(a=o.substr(0,o.length-3)+l+o.substr(o.length-3,o.length)),a}function lfb_applyCouponCode(a){var r=lfb_getForm(a),l=jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_couponField').val();jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_couponField').closest(".form-group").removeClass("has-error"),l.length<3?jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_couponField').closest(".form-group").addClass("has-error"):jQuery.ajax({url:r.ajaxurl,type:"post",data:{action:"lfb_applyCouponCode",formID:a,code:l},success:function(e){setTimeout(function(){var t;"0"==e||""==e?jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #lfb_couponField').closest(".form-group").addClass("has-error"):(0<jQuery('#lfb_form[data-form="'+a+'"] #lfb_couponContainer').length&&jQuery('#lfb_form[data-form="'+a+'"] #lfb_couponContainer').slideUp(),0<(t=e).indexOf("%")&&(t=e.substr(0,e.length-1),r.reductionType="%"),r.discountCode=l,r.reduction=parseFloat(t),jQuery('#lfb_form.lfb_bootstraped[data-form="'+a+'"] #finalSlide .lfb_genContent').animate({opacity:0},r.animationsSpeed),setTimeout(function(){lfb_updatePrice(a),lfb_changeStep("final",a)},r.animationsSpeed+100))},200)}})}function lfb_getRedirectionURL(a){var t=lfb_getForm(a),r=t.close_url;return 1==t.useRedirectionConditions&&jQuery.each(t.redirections,function(){var t=(t=this.conditions.replace(/'/g,'"')).replace(/\\"/g,'"'),e=lfb_checkConditions(t=JSON.parse(t),a,"final"),t=e.error,e=e.errorOR;("OR"==this.conditionsOperator&&!e||"OR"!=this.conditionsOperator&&!t)&&(r=this.url)}),r}function lfb_formatQuantity(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function lfb_isSelectionMode(t){return $(0<t?'#lfb_form.lfb_bootstraped[data-form="'+t+'"]':"#lfb_form.lfb_bootstraped[data-form]").is(".lfb_tldSelection")}function lfb_startFormIntro(t){lfb_isSelectionMode(t)||jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]  #startInfos > p').slideDown()}function lfb_initRichTextValues(t){var _=lfb_getForm(t);jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_richtext[data-itemid]:not(.lfb_shortcode)').each(function(){var t=0,e=new Array;parseInt(jQuery(this).closest(".lfb_genSlide").attr("data-stepid"));if(void 0!==_.richtextsContent[jQuery(this).attr("data-itemid").toString()]){for(var a=_.richtextsContent[jQuery(this).attr("data-itemid").toString()];-1!=(t=a.indexOf("[variable-",t+1));){var r='<span class="lfb_richVariable" data-varvariableid="'+a.substr(t+10,a.indexOf("]",t)-(t+10))+'"></span>';e.push({oldValue:a.substr(t,a.indexOf("]",t)+1-t),newValue:r})}for(t=0;-1!=(t=a.indexOf("item-",t+1));){r='<span class="lfb_richVariable" data-varitemid="'+a.substr(t+5,a.indexOf("_",t)-(t+5))+'" data-action="'+a.substr(a.indexOf("_",t)+1,a.indexOf("]",t)-1-a.indexOf("_",t))+'"></span>';e.push({oldValue:a.substr(t-1,a.indexOf("]",t)+1-(t-1)),newValue:r})}if(-1<a.indexOf("dateDifference-"))for(;-1!=(t=a.indexOf("dateDifference-",t+1));){var l=a.indexOf("_",t+15)+1,r='<span class="lfb_richVariable" data-varitemid="'+a.substr(t+15,a.indexOf("_",t)-(t+15))+'" data-action="'+"dateDifference"+'" data-enddateid="'+a.substr(l,a.indexOf("]",l)-l)+'"></span>';e.push({oldValue:a.substr(t-1,a.indexOf("]",t)+1-(t-1)),newValue:r})}if(-1<a.indexOf("distance_"))for($target.attr("data-usedistance","true");-1!=(t=a.indexOf("distance_",t+1));){var o=a.indexOf("-",t+9)+1,i=a.substr(t+9,a.indexOf("-",t)-(t+9)),f=a.indexOf("-",o)+1,s=a.substr(o,a.indexOf("-",o)-o),d=a.indexOf("-",f)+1,n=a.substr(f,a.indexOf("-",f)-f),b=a.indexOf("_",d)+1,m=a.substr(d,a.indexOf("_",d)-d),u=a.indexOf("-",b)+1,o=a.substr(b,a.indexOf("-",b)-b),f=a.indexOf("-",u)+1,d=a.substr(u,a.indexOf("-",u)-u),b=a.indexOf("-",f)+1,u=a.substr(f,a.indexOf("-",f)-f),f=a.indexOf("_",b)+1,b=a.substr(b,a.indexOf("_",b)-b),r='<span class="lfb_richVariable" data-action="'+"distance"+'" data-distancetype="'+a.substr(f,a.indexOf("]",f)-f)+'" data-departadress="'+i+'" data-departcity="'+s+'" data-departzip="'+n+'" data-departcountry="'+m+'" data-arrivaladress="'+o+'" data-arrivalcity="'+d+'" data-arrivalzip="'+u+'" data-arrivalcountry="'+b+'" ></span>';e.push({oldValue:a.substr(t-1,a.indexOf("]",t)+1-(t-1)),newValue:r})}var p=new Date,c=p.getMonth()+1;c<10&&(c="0"+c);p.getFullYear().toString(),c.toString(),p.getDate().toString();c=lfb_forms[0].dateFormat.toUpperCase();c=(c=(c=c.replace(/\\\//g,"/")).replace(/d /g,"DD ")).replace(/yyyy/g,"YYYY"),a=(a=(a=a.replace(/\[currentDate\]/g,moment(p).format(c))).replace(/\[total\]/g,'<span class="lfb_richVariable" data-action="total"></span>')).replace(/\[total_quantity\]/g,'<span class="lfb_richVariable" data-action="total_quantity"></span>'),jQuery.each(e,function(){a=a.replace(this.oldValue,this.newValue)}),jQuery(this).html(a)}})}function lfb_updateRichTextValues(c){var _=lfb_getForm(c),y=new Date,t=y.getMonth()+1;t<10&&(t="0"+t);var h=y.getFullYear().toString()+t.toString()+y.getDate().toString();jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] .lfb_genSlide[data-stepid="'+_.step+'"] .lfb_richtext[data-itemid]:not(.lfb_shortcode) .lfb_richVariable[data-varvariableid]').each(function(){var t=jQuery(this).attr("data-varvariableid"),e=lfb_getVariableByID(_,t),t=0;e&&(t="float"==e.type?lfb_formatPrice(parseFloat(e.value),c):e.value),jQuery(this).html(t)});var g=JSON.parse(JSON.stringify(lfb_lastSteps));"final"!=_.step&&-1==jQuery.inArray(parseInt(_.step),g)?g.push(parseInt(_.step)):"final"==_.step&&g.push("final"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] .lfb_genSlide[data-stepid="'+_.step+'"] .lfb_richtext[data-itemid]:not(.lfb_shortcode) .lfb_richVariable:not([data-varvariableid])').each(function(){var t,e,a,r,l,o,i,f,s=parseInt(jQuery(this).closest(".lfb_genSlide").attr("data-stepid")),d=jQuery(this).closest(".lfb_richtext").attr("data-itemid"),n=jQuery(this).attr("data-varitemid"),b=jQuery(this).attr("data-action"),m=0,u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]'),p=u.closest(".lfb_genSlide").attr("data-stepid");"final"!=p&&(p=parseInt(p)),"price"==b&&(m=0,-1<jQuery.inArray(p,g)&&("total"==n?m=_.price:(jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(".checked")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(":checked")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is("select")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[data-type="slider"]'))&&(m=parseFloat(jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').data("resprice")),isNaN(m)&&(m=0)),m=lfb_formatPrice(parseFloat(m),c),"left"==_.currencyPosition?m=_.currency+m:m+=_.currency)),"title"!=b&&"label"!=b||(m=-1<jQuery.inArray(p,g)&&!u.is(".lfb_disabled")&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(".checked")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(":checked")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is("select")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[type="text"]')||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[type="number"]')||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is("textarea")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(".lfb_colorPreview")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is("lfb_layeredImage")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[data-type="slider"]')||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(".lfb_dropzone")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[data-type="slider"]'))?u.attr("data-originallabel"):""),"quantity"==b&&-1<jQuery.inArray(p,g)&&(u.is("input")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(".checked")||jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is(":checked")?(m=u.is("input")?u.val():0<u.find(".icon_quantity").length?parseFloat(u.find(".icon_quantity").html()):u.find(".lfb_qtfield").val(),isNaN(m)&&(m=0)):jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is('[data-type="slider"]')&&(m=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').slider("value")),m=lfb_formatPrice(parseFloat(m),c)),"image"==b&&(m=-1<jQuery.inArray(p,g)&&!u.is(".lfb_disabled")&&u.is(".checked")?'<img src="'+jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"] img').attr("src")+'" alt=""/>':""),"value"==b&&(m=-1<jQuery.inArray(p,g)&&!u.is(".lfb_disabled")?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').is("select"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').val()):""),"date"==b&&(m=-1<jQuery.inArray(p,g)&&u.is(".lfb_datepicker")&&null!=u.datetimepicker("getDate")?moment.utc(u.datetimepicker("getDate")).format("YYYY-MM-DD"):"null"),"dateDifference"==b&&(f=n,l=jQuery(this).attr("data-enddateid"),f="currentDate"!=f&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]').length&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]').val().length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]')).datetimepicker("getDate"):y,l="currentDate"==l?h:0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+l+'"]').length&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+l+'"]').val().length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+l+'"]')).datetimepicker("getDate"):y,t=Math.abs(l.getTime()-f.getTime()),(o=Math.ceil(t/864e5))<0&&(o=0),m=o),"distance"==b&&(e=jQuery(this).attr("data-departadress"),a=jQuery(this).attr("data-departcity"),r=jQuery(this).attr("data-departzip"),i=jQuery(this).attr("data-departcountry"),p=jQuery(this).attr("data-arrivaladress"),n=jQuery(this).attr("data-arrivalcity"),l=jQuery(this).attr("data-arrivalzip"),f=jQuery(this).attr("data-arrivalcountry"),t=jQuery(this).attr("data-distancetype"),""!=e&&(e=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+e+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+e+'"]')).val():0),""!=a&&(a=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+a+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+a+'"]')).val():0),""!=r&&(r=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+r+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+r+'"]')).val():0),""!=i&&(i=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+i+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+i+'"]')).val():0),""!=p&&(p=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+p+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+p+'"]')).val():0),""!=n&&(n=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]')).val():0),""!=l&&(l=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+l+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+l+'"]')).val():0),""!=f&&(f=0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]').length?(u=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]')).val():0),0<$target.closest(".lfb_genSlide").find(".lfb_distanceError").length&&lfb_removeDistanceError(d,c),o=content.substr(-1,content.indexOf("]",0)+1- -1),u=0,""!=$target.attr("data-distance")&&(u=parseFloat($target.attr("data-distance"))),""==e&&""==a&&""==i&&""==p&&""==n&&""==f&&""==r&&""==l?lfb_showDistanceError(d,c):""==_.gmap_key?(lfb_showDistanceError(d,c),console.log("invalid gmap api key")):(i=e+" "+r+" "+a+" "+i,f=p+" "+l+" "+n+" "+f,$target.attr("data-departure")==i&&f==$target.attr("data-arrival")||($target.attr("data-departure",i),$target.attr("data-arrival",f),lfb_getDistanceCalc(o,c,d,i,f,t))),m=u),"total"==b?m=jQuery('#lfb_form.lfb_bootstraped[data-form="'+c+'"]  #lfb_finalPrice').html():"total_quantity"==b&&(m=lfb_getTotalQuantities(c,s,d)),jQuery(this).html(m)})}function lfb_saveForLater(t){var e,a=lfb_getForm(t);"0"!=a.step&&(null!==localStorage.getItem("lfb_savedFormID")&&parseInt(localStorage.getItem("lfb_savedFormID"))==t&&null!==localStorage.getItem("lfb_savedForm")?(localStorage.removeItem("lfb_savedFormID"),localStorage.removeItem("lfb_formsession"),localStorage.removeItem("lfb_savedForm"),localStorage.removeItem("lfb_savedFormPastSteps"),localStorage.removeItem("lfb_savedFormStep"),localStorage.removeItem("lfb_savedFormTime"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fa,.fas,.fab").attr("class","fas "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').attr("data-originalicon")),""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').attr("data-defaulttext")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm span:not(.fa):not(.fas):not(.fab)').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').attr("data-defaulttext"))):(e=lfb_getFormContent(t,!0)[2],localStorage.setItem("lfb_savedFormID",t),localStorage.setItem("lfb_formsession",jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"]').attr("data-formsession")),localStorage.setItem("lfb_savedForm",JSON.stringify(e)),localStorage.setItem("lfb_savedFormPastSteps",JSON.stringify(lfb_lastSteps)),localStorage.setItem("lfb_savedFormStep",a.step),localStorage.setItem("lfb_savedFormTime",Date.now()),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fa,.fab,.fas").length&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fa,.fas,.fab").attr("class"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fa,.fas,.fab").attr("class","fas fa-check")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').removeClass("btn-default").addClass("btn-primary"),""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').attr("data-defaulttext")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm span:not(.fa):not(.fas):not(.fab)').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').attr("data-deltext")),setTimeout(function(){0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fas,.fa,.fab").length&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').children(".fas,.fa,.fab").attr("class","fas fa-redo"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .lfb_btnSaveForm').removeClass("btn-primary").addClass("btn-default")},1500)))}function lfb_getStoredSelectionItemID(t,e){var a=!1;return jQuery.each(t,function(){this.itemid==e&&(a=this)}),a}function lfb_loadStoredForm(o){var i,e,f=lfb_getForm(o),t=new Date(parseInt(f.lastS));0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').length&&(null!==localStorage.getItem("lfb_savedFormID")&&parseInt(localStorage.getItem("lfb_savedFormID"))==o&&null!==localStorage.getItem("lfb_savedForm")?t<new Date(parseInt(localStorage.getItem("lfb_savedFormTime")))?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fas,.fa,.fab").attr("class","fas fa-redo"),""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-defaulttext")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm span:not(.fas):not(.fa):not(.fab)').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-deltext")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"]').attr("data-formsession",localStorage.getItem("lfb_formsession")),i=JSON.parse(localStorage.getItem("lfb_savedForm")),t=JSON.parse(localStorage.getItem("lfb_savedFormPastSteps")),e=localStorage.getItem("lfb_savedFormStep"),-1==jQuery.inArray(e,t)&&t.push(e),0<t.length&&(f.autoStart=!0,jQuery.each(t,function(){var t=this.toString();jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] [data-stepid="'+t+'"] [data-itemid]').each(function(){var t,e,a,r=jQuery(this),l=lfb_getStoredSelectionItemID(i,parseInt(r.attr("data-itemid")));r.is(".lfb_selectable")?0!=l?(0<r.find(".icon_quantity").length?(r.find(".icon_quantity").html(l.quantity),0<r.find(".lfb_sliderQt").length&&r.find(".lfb_sliderQt").slider("value",parseInt(l.quantity))):0<r.find(".lfb_qtfield").length?r.find(".lfb_qtfield").val(parseInt(l.quantity)):r.is('[data-type="slider"]')&&r.slider("value",parseInt(l.quantity)),r.is(".checked")||lfb_itemClick(jQuery(this),!1,o)):r.is(".checked")&&lfb_itemClick(jQuery(this),!1,o):r.is(".lfb_button")?0!=l?r.is(".checked")||lfb_itemClick(jQuery(this),!1,o):r.is(".checked")&&lfb_itemClick(jQuery(this),!1,o):r.is('[data-toggle="switch"]')?0!=l?r.is(":checked")||r.trigger("click"):r.is(".checked")&&lfb_itemClick(jQuery(this),!1,o):r.is(".lfb_colorPreview")?0!=l&&r.closest(".lfb_itemBloc").find(".lfb_colorpicker").val(l.value):r.is(".lfb_datepicker")?0!=l&&r.val(l.value):r.is(".lfb_dropzone")?0!=l&&(t=Dropzone.forElement("#"+r.attr("id")),e=l.value,a={name:e=(e=(e=(e=e.replace('- <span class="lfb_file">',"")).replace(" ","")).replace("</span>","")).replace("<br/>",""),size:12345,accepted:!0,kind:"image"},t.emit("addedfile",a),t.files.push(a),t.createThumbnailFromUrl(a,f.imgPreview,function(){t.emit("complete",a)},"anonymous")):r.is('[data-type="numberfield"]')?0!=l&&(r.is('[data-valueasqt="1"]')?r.val(l.quantity):r.val(l.value)):r.is("select")?0!=l&&r.val(l.value):r.is('[data-type="slider"]')?0!=l&&r.slider("value",parseInt(l.quantity)):r.is("textarea")?0!=l&&r.val(l.value):r.is('input[type="text"]')&&0!=l&&r.val(l.value)}),t!=e?lfb_lastSteps.push(parseInt(t)):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] [data-stepid="'+t+'"] .lfb_errorMsg').hide(),"1"==f.intro_enabled?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"]  #startInfos > p').slideDown(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnFloatingSummary').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').css({display:"inline-block"}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_btnStart').parent().fadeOut(f.animationsSpeed,function(){"2"!=f.showSteps&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"]').find(".genPrice,#lfb_stepper").fadeIn(f.animationsSpeed),jQuery(' #lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] #lfb_mainPanel').fadeIn(f.animationsSpeed+f.animationsSpeed/2,function(){lfb_changeStep(e,o)})})):lfb_changeStep(e,o))})),setTimeout(function(){jQuery('#lfb_form.lfb_bootstraped[data-form="'+f.formID+'"] .lfb_genSlide.lfb_activeStep').css("opacity",1)},2e3)):(localStorage.removeItem("lfb_formsession"),localStorage.removeItem("lfb_savedFormID"),localStorage.removeItem("lfb_savedForm"),localStorage.removeItem("lfb_savedFormPastSteps"),localStorage.removeItem("lfb_savedFormStep"),localStorage.removeItem("lfb_savedFormTime"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fa").attr("class","fa "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fab").attr("class","fab "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fas").attr("class","fas "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-defaulttext")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm span:not(.fas):not(.fab):not(.fa)').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-defaulttext"))):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fa").attr("class","fa "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fab").attr("class","fab "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').children(".fas").attr("class","fas "+jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-originalicon")),""!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-defaulttext")&&jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm span:not(.fas):not(.fab):not(.fa)').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o+'"] .lfb_btnSaveForm').attr("data-defaulttext"))))}function lfb_getCalendarByID(t){var e=!1;return jQuery.each(lfb_calendars,function(){this.id==t&&(e=this)}),e}function lfb_getDisabledHours(t,r,l,a){var o=new Array,e=lfb_getCalendarByID(t);if(0!=e){var i=jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').is('[data-disableminutes="0"]'),f=parseInt(jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').attr("data-maxevents"));!isNaN(f)&&0!=f||(f=1);var s=a;"mins"==a&&(s="minutes");var d=new Date(r),t=new Array;if(-1<jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').attr("data-daysweek").indexOf(",")&&(t=jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').attr("data-daysweek").split(",")),""!=d.getDay()&&(jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').attr("data-daysweek")==d.getDay()||-1<t.indexOf(d.getDay())))for(var n=0;n<24;n++)o.push(parseInt(n));else{""!=jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"][data-hoursdisabled]').attr("data-hoursdisabled")&&(-1<(d=jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+e.id+'"]').attr("data-hoursdisabled")).indexOf(",")?jQuery.each(d.split(","),function(){var t=parseInt(this);if(o.push(t),"hours"==a)for(var e=0;e<parseInt(l);e++)-1==jQuery.inArray(t-e,o)&&o.push(t-e);else if("mins"==a)for(e=0;e<=Math.floor(l/60);e++)-1==jQuery.inArray(t-e,o)&&o.push(t-e)}):o.push(parseInt(d)));for(var b=[],n=0;n<24;n++)b[n]=0;jQuery.each(e.events,function(){var t=moment(this.startDate);t=(t=t.subtract(parseInt(l),s)).add(5,"minute");for(var e=0;e<24;e++){var a=e;e<10&&(a="0"+e);a=moment(r+" "+a+":00");(!i&&a.isSameOrAfter(t,"hour")||i&&a.isAfter(t,"hour"))&&a.isBefore(moment(this.endDate),"hour")&&(b[e]++,b[e]>=f&&-1==jQuery.inArray(e,o)&&o.push(parseInt(e)))}})}}return o}function lfb_getDisabledMinutes(t,r,l,o,e){var i=new Array,a=lfb_getCalendarByID(t);if(0!=a){var f=parseInt(jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+a.id+'"]').attr("data-maxevents"));!isNaN(f)&&0!=f||(f=1);var t=lfb_getDisabledHours(t,r,o,e),s=e;"mins"==e&&(s="minutes");e=jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+a.id+'"]').attr("data-hoursdisabled");if(-1<e.indexOf(",")&&jQuery.each(e.split(","),function(){for(var t=parseInt(this),e=moment(new Date(r+" "+t+":00")).subtract(parseInt(o),s).add(1,"minute").format("YYYY-MM-DD HH:mm"),a=0;a<=11;a++)moment(new Date(r+" "+l+":"+5*a)).isAfter(moment(new Date(e)))&&moment(new Date(r+" "+l+":"+5*a)).isBefore(moment(new Date(moment(new Date(r+" "+t+":00")))))&&-1==jQuery.inArray(5*a,i)&&i.push(parseInt(5*a))}),-1<jQuery.inArray(parseInt(l),t))for(var d=0;d<=11;d++)-1==jQuery.inArray(5*d,i)&&i.push(parseInt(5*d));for(var n=[],d=0;d<=11;d++)n[parseInt(5*d)]=0;jQuery.each(a.events,function(){var t=moment(this.startDate);t=(t=t.subtract(parseInt(o),s)).add(5,"minute");var e=parseInt(l);e<10&&(e="0"+e);e=moment(r+" "+e+":00");if(e.isAfter(t,"hour")&&e.isBefore(moment(this.endDate),"hour"))for(var a=0;a<=11;a++)n[parseInt(5*a)]++,n[parseInt(5*a)]>=f&&-1==jQuery.inArray(5*a,i)&&i.push(parseInt(5*a));else if(e.isSame(t,"hour"))for(a=0;a<=11;a++)t.isSame(moment(this.endDate),"hour")?5*a>=t.format("mm")&&5*a<moment(this.endDate).format("mm")&&(n[parseInt(5*a)]++,n[parseInt(5*a)]>=f&&-1==jQuery.inArray(5*a,i)&&i.push(parseInt(5*a))):5*a>=t.format("mm")&&(n[parseInt(5*a)]++,n[parseInt(5*a)]>=f&&-1==jQuery.inArray(5*a,i)&&i.push(parseInt(5*a)));else if(e.isSame(moment(this.endDate),"hour"))for(a=0;a<=11;a++)5*a<moment(this.endDate).format("mm")&&(n[parseInt(5*a)]++,n[parseInt(5*a)]>=f&&-1==jQuery.inArray(5*a,i)&&i.push(parseInt(5*a)))})}return i}function lfb_setAnimImmediate(t,e){lfb_getForm(e).animationsSpeed=0}function lfb_getCalendarEventsAtDate(t,a){var r=0;return jQuery.each(t.events,function(){var t=moment.utc(this.startDate),e=moment.utc(this.endDate);a.isSameOrAfter(t)&&a.isSameOrBefore(e)&&r++}),r}function lfb_getBusyDates(t,e){var a=lfb_getForm(t);jQuery.ajax({url:a.ajaxurl,type:"post",data:{action:"lfb_getBusyDates",formID:t,calendarsIDs:e},success:function(t){t=t.trim(),t=JSON.parse(t,!0),lfb_calendars=t.calendars,jQuery.each(t.calendars,function(){var f=this;jQuery('#lfb_form .lfb_datepicker[data-calendarid="'+this.id+'"]').each(function(){var o=jQuery(this),i=new Array;jQuery.each(f.events,function(){if(1==this.fullDay){var t=moment.utc(this.startDate),e=moment.utc(this.endDate),a=t.format("YYYY-MM-DD");lfb_getCalendarEventsAtDate(f,t)>=o.attr("data-maxevents")&&i.push(a);for(var r=1;r<=e.diff(t,"days");r++){var l=t.add(r,"days");lfb_getCalendarEventsAtDate(f,l)>=o.attr("data-maxevents")&&i.push(l.format("YYYY-MM-DD"))}}else{t=moment.utc(this.startDate),o.attr("data-eventdurationtype");o.attr("data-eventdurationtype"),this.startDate=t.format("YYYY-MM-DD HH:mm");e=moment.utc(this.endDate),a=t.format("YYYY-MM-DD");if(1<=e.diff(t,"days")){a=1;0==t.format("m")&&(a=0);for(r=a;r<=e.diff(t,"days");r++){l=t.clone().add(r,"days");i.push(l.format("YYYY-MM-DD"))}}}}),o.datetimepicker("setDatesDisabled",i)})})}})}function lfb_showWinStripePayment(o){var t=lfb_checkStepItemsValid("final",o.formID);1==o.legalNoticeEnable&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_legalCheckbox').is(":checked")||(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_legalCheckbox').closest(".form-group").addClass("has-error"),t=!1)),t&&lfb_checkCaptcha(o,function(){var t,e,a,r,l=!0;jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-activatePaypal="true"]:not(:checked):not(.checked)').each(function(){var t=jQuery(this).closest(".lfb_genSlide").attr("data-stepid");"final"!=t&&(t=parseInt(t)),-1==jQuery.inArray(t,lfb_lastSteps)||(l=!1)}),0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('[data-dontactivatepaypal="true"].checked,[data-dontactivatepaypal="true"]:checked').length&&(l=!1),!l||0==o.price&&0==o.priceSingle?lfb_order(o.formID):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-info="amount"]').html(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_finalPrice').html()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="loading"]').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal .modal-footer").hide(),lfb_stripe=Stripe(o.stripePubKey),e=parseFloat(o.price),a=0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').is('[data-isSubs="true"]')&&(e=parseFloat(o.priceSingle),a=parseFloat(o.price)),"percent"==o.payMode?(r="<span>"+lfb_formatPriceWithCurrency(e=parseFloat(e)*(parseFloat(o.percentToPay)/100),o.formID)+"</span>",jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-info="amount"]').html(r)):"fixed"==o.payMode&&(r="<span>"+lfb_formatPriceWithCurrency(e=parseFloat(o.fixedToPay),o.formID)+"</span>",jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-info="amount"]').html(r)),""==o.stripeToken||void 0!==o.stripeAmountSingle&&o.stripeAmountSingle!=e||void 0!==o.stripeAmountSingle&&o.stripeAmountSub!=a?jQuery.ajax({url:o.ajaxurl,type:"post",data:{action:"lfb_getStripePaymentIntent",singleTotal:e,subTotal:a,formID:o.formID,customerInfos:lfb_getContactInformations(o.formID,!0)},success:function(t){t=JSON.parse(t),o.stripeToken=t.token,o.stripeCustomerID=t.customerID,o.stripeAmountSingle=e,o.stripeAmountSub=a;t=lfb_stripe.elements();o.cardElement=t.create("cardNumber"),o.cardElement.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-element'),o.cardExp=t.create("cardExpiry"),o.cardExp.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_expiration-element'),o.cardExp.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),o.cardCvc=t.create("cardCvc"),o.cardCvc.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_cvc-element'),o.cardCvc.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),o.cardElement.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="form"]').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal .modal-footer").slideDown()}}):(t=lfb_stripe.elements(),o.cardElement=t.create("cardNumber"),o.cardElement.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-element'),o.cardElement.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),o.cardExp=t.create("cardExpiry"),o.cardExp.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_expiration-element'),o.cardExp.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),o.cardCvc=t.create("cardCvc"),o.cardCvc.mount('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_cvc-element'),o.cardCvc.addEventListener("change",function(t){t.error?jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html(t.error.message):jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripe_card-error').html("")}),e=parseFloat(o.price),a=0,jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').is('[data-isSubs="true"]')&&(e=parseFloat(o.priceSingle),a=parseFloat(o.price)),"percent"==o.payMode?(r="<span>"+lfb_formatPriceWithCurrency(e=parseFloat(e)*(parseFloat(o.percentToPay)/100),o.formID)+"</span>",jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-info="amount"]').html(r)):"fixed"==o.payMode&&(r="<span>"+lfb_formatPriceWithCurrency(e=parseFloat(o.fixedToPay),o.formID)+"</span>",jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-info="amount"]').html(r)),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="form"]').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal .modal-footer").slideDown()),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal a[data-action="pay"]').unbind("click"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal a[data-action="pay"]').on("click",function(){var t=!1;jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal .has-error').removeClass("has-error"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').val().length<3&&(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').closest(".form-group").addClass("has-error"),t=!0),t||(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="loading"]').show(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal .modal-footer").hide(),lfb_stripe.createSource(o.cardElement).then(function(t){t.error?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-info="error"]').html(t.error.message),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="fail"]').show()):(o.stripeSrc=t.source.id,0<a?jQuery.ajax({url:o.ajaxurl,type:"post",data:{action:"lfb_processStripeSubscription",formID:o.formID,stripeSrc:o.stripeSrc,customerID:o.stripeCustomerID,singleTotal:e,subTotal:a},success:function(t){1==(t=t.trim())?0<e?lfb_stripe.handleCardPayment(o.stripeToken,o.cardElement,{payment_method_data:{billing_details:{name:jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').val()}}}).then(function(t){t.error?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-info="error"]').html(t.error),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="fail"]').show()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),o.stripePaid=!0,lfb_order(o.formID))}):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),o.stripePaid=!0,lfb_order(o.formID)):-1<t.indexOf("pi_")&&lfb_stripe.handleCardPayment(t,o.cardElement,{payment_method_data:{billing_details:{name:jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').val()}}}).then(function(t){t.error?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-info="error"]').html(t.error),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="fail"]').show()):0<e?lfb_stripe.handleCardPayment(o.stripeToken,o.cardElement,{payment_method_data:{billing_details:{name:jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').val()}}}).then(function(t){t.error?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-info="error"]').html(t.error),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="fail"]').show()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),o.stripePaid=!0,lfb_order(o.formID))}):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),o.stripePaid=!0,lfb_order(o.formID))})}}):lfb_stripe.handleCardPayment(o.stripeToken,o.cardElement,{payment_method_data:{billing_details:{name:jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] #lfb_stripeModal [name="ownerName"]').val()}}}).then(function(t){t.error?(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"] [data-info="error"]').html(t.error),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal [data-panel]").hide(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find('#lfb_stripeModal [data-panel="fail"]').show()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("hide"),o.stripePaid=!0,lfb_order(o.formID))}))}))}),jQuery('#lfb_form.lfb_bootstraped[data-form="'+o.formID+'"]').find("#lfb_stripeModal").modal("show"))})}function lfb_checkCaptcha(e,a){1==e.useCaptcha&&""!=e.recaptcha3Key?grecaptcha.ready(function(){grecaptcha.execute(e.recaptcha3Key,{action:"sending_form"}).then(function(t){e.captcha=t,a(e)})}):a(e)}function lfb_updateVariable(t,e,a,r){for(var l=0;l<t.variables.length;l++)if(t.variables[l].id==e){var o=t.variables[l];o.value=lfb_executeCalculation(a,t.formID,r),"integer"==o.type?o.value=Math.round(o.value):"float"==o.type&&(o.value=o.value.toFixed(2));break}}function lfb_getVariableByID(t,e){for(var a=!1,r=0;r<t.variables.length;r++)if(t.variables[r].id==e){a=t.variables[r];break}return a}function lfb_checkUserEmail(e){var a,t,r=!0,l=e.formID;return 1==e.enableCustomerAccount&&void 0===e.stripePaid&&(void 0===e.verifiedEmail||!e.verifiedEmail)&&0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"][data-required="true"]').length&&(r=!1,a=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"][data-required="true"]').last(),void 0===e.emailProposed||e.emailProposed!=a.val()?(e.emailProposed=a.val(),jQuery.ajax({url:e.ajaxurl,type:"post",data:{action:"lfb_checkEmailCustomer",formID:e.formID,email:e.emailProposed},success:function(t){1==t.trim()?(0==jQuery("#lfb_customerPasswordField").length?((t=jQuery('<div id="lfb_forgotPassCt" class="form-group has-error" ></div>')).hide(),t.append('<div  class="input-group" ><span class="input-group-addon"><span class="fa fa-lock" ></span></span><input type="password" id="lfb_forgotPassField" class="form-control" /></div>'),t.append('<div class="lfb_forgotPassLinkCt"><a href="javascript:" id="lfb_forgotPassLink">'+e.txtCustomersDataForgotPassLink+"</a></div>"),a.closest(".form-group").after(t),jQuery("#lfb_forgotPassLink").on("click",function(){lfb_checkEmail(a.val())&&(a.attr("disabled","disabled"),jQuery.ajax({url:e.ajaxurl,type:"post",data:{action:"lfb_forgotPassManD",email:e.emailProposed},success:function(t){jQuery("#lfb_passModal").modal("show")}}))}),jQuery('#lfb_form[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').slideDown()):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassField').val(""),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassField').closest(".form-group").addClass("has-error")),setTimeout(function(){(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_fullscreen")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]'):jQuery("body,html")).animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').offset().top-(120+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed)},350)):(e.verifiedEmail=e.emailProposed,jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').removeClass("lfb_open").slideUp(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"][data-required="true"]').last().attr("disabled","disabled"),"final"==e.step?0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_paymentMethodBtns').length&&("none"!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] .lfb_genSlide[data-stepid="'+e.step+'"] .lfb_btnNextContainer').css("display")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnOrder'):jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnOrderPaypal, #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnPayStripe,#lfb_form.lfb_bootstraped[data-form="'+l+'"] #btnOrderRazorpay')).trigger("click"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] .lfb_btn-next').trigger("click"))}})):0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassField').length&&(3<(t=jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassField').val()).length?jQuery.ajax({url:e.ajaxurl,type:"post",data:{action:"lfb_verificationPass",formID:l,pass:t},success:function(t){1==t.trim()?(e.verifiedEmail=e.emailProposed,jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').removeClass("lfb_open").slideUp(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] [data-fieldtype="email"][data-required="true"]').last().attr("disabled","disabled"),"final"==e.step?0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_paymentMethodBtns').length&&("none"!=jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] .lfb_genSlide[data-stepid="'+e.step+'"] .lfb_btnNextContainer').css("display")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnOrder'):jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnOrderPaypal, #lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_btnPayStripe,#lfb_form.lfb_bootstraped[data-form="'+l+'"] #btnOrderRazorpay')).trigger("click"):jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] .lfb_btn-next').trigger("click")):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassField').closest(".form-group").addClass("has-error"),(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_fullscreen")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]'):jQuery("body,html")).animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').offset().top-(120+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed))}}):(jQuery('#lfb_form.lfb_bootstraped[data-form="'+l+'"] #lfb_mainPanel .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').addClass("has-error"),setTimeout(function(){(jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]').is(".lfb_fullscreen")?jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"]'):jQuery("body,html")).animate({scrollTop:jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] .lfb_genSlide[data-stepid="'+e.step+'"] #lfb_forgotPassCt').offset().top-(120+parseInt(lfb_getScrollTopMargin(e)))},2*e.animationsSpeed)},350)))),r}function lfb_decodeCalculation(t){var e=new Array;e[0]=9,e[1]=3,e[2]=5,e[3]=8,e[4]=2,e[5]=6,e[6]=4,e[7]=1,e[8]=0,e[9]=7;for(var a="",r=0;r<t.length;r++)-1<e.indexOf(parseInt(t[r]))?a+=e[parseInt(t[r])]:a+=t[r];return a}function lfb_downloadAsPDF(t){var a=lfb_getForm(t),e=lfb_cloneSummary(!1,t),r=e.html();e.remove();var l=lfb_getFormContent(t),o=(l[0].replace(/<br\/>/g,"[n]"),l[1]),e=l[2],l=lfb_getContactInformations(t);email=jQuery('#lfb_form.lfb_bootstraped[data-form="'+t+'"] .emailField').val(),lfb_checkEmail(l.email)&&(email=l.email);var i="";jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #finalSlide').find('.lfb_item input:not([type="checkbox"])[data-itemid],.lfb_item textarea[data-itemid],.lfb_item select[data-itemid]').each(function(){var t;0==jQuery(this).closest("#lfb_paypalForm").length&&(jQuery(this).is(".lfb_disabled")||jQuery(this).is("#lfb_couponField")||jQuery(this).is("#lfb_captchaField")||(t=":",jQuery(this).closest(".lfb_item").find("label").html().lastIndexOf(":")==jQuery(this).closest(".lfb_item").find("label").html().length-1&&(t=""),jQuery("body").is(".rtl")?i+='<p><b><span class="lfb_value">'+jQuery(this).val()+"</span></b>"+t+" "+jQuery(this).closest(".lfb_item").find("label").html()+"</p>":i+="<p>"+jQuery(this).closest(".lfb_item").find("label").html()+" "+t+' <b><span class="lfb_value">'+jQuery(this).val()+"</span></b></p>"))}),jQuery.ajax({url:a.ajaxurl,type:"post",data:{action:"lfb_downloadOrderPDF",formID:a.formID,informations:i,email:email,customerInfos:lfb_getContactInformations(a.formID,!0),summary:r,totalTxt:o,formSession:jQuery('#lfb_form.lfb_bootstraped[data-form="'+a.formID+'"] #lfb_formSession').val(),items:e,useRtl:jQuery("body").is(".rtl"),variables:JSON.stringify(a.variables)},success:function(t){var e=window.open(a.homeUrl+"/index.php?EPFormsBuilder=downloadMyOrder","_blank");"null"!=typeof e&&null!=e&&(e.focus(),setTimeout(function(){e.close()},300))}})}function lfb_updateVAT(t){t=lfb_getForm(t);t.vatPrice=0,1==t.useVAT&&"final"==t.step&&(0<t.singlePrice?(t.vatPrice=t.singlePrice*t.vatAmount/100,t.singlePrice=t.singlePrice+t.vatPrice):(t.vatPrice=t.price*t.vatAmount/100,t.price=t.price+t.vatPrice))}function lfb_updateGmapItinerary(t,e){var a=t.attr("data-itinerary"),r=t.data("directionRenderer"),l=(t.data("gmap"),!1);t.is(".lfb_gmapInit")||(l=!0,t.addClass("lfb_gmapInit"));var o,i=a.indexOf("-",10)+1,f=a.substr(10,a.indexOf("-",1)-10),s=a.indexOf("-",i)+1,d=a.substr(i,a.indexOf("-",i)-i),n=a.indexOf("-",s)+1,b=a.substr(s,a.indexOf("-",s)-s),m=a.indexOf("_",n)+1,u=a.substr(n,a.indexOf("_",n)-n),i=a.indexOf("-",m)+1,s=a.substr(m,a.indexOf("-",m)-m),n=a.indexOf("-",i)+1,m=a.substr(i,a.indexOf("-",i)-i),i=a.indexOf("-",n)+1,n=a.substr(n,a.indexOf("-",n)-n),i=(a.indexOf("_",i),a.substr(i,a.indexOf("_",i)-i));""!=f&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]').length?(f=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+f+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):f=0),""!=d&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+d+'"]').length?(d=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+d+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):d=0),""!=b&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+b+'"]').length?(b=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+b+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):b=0),""!=u&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+u+'"]').length?(u=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+u+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):u=0),""!=s&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+s+'"]').length?(s=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+s+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):s=0),""!=m&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+m+'"]').length?(m=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+m+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):m=0),""!=n&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]').length?(n=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+n+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):n=0),""!=i&&(0<jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+i+'"]').length?(i=(o=jQuery('#lfb_form.lfb_bootstraped[data-form="'+e+'"] #lfb_mainPanel .lfb_genSlide [data-itemid="'+i+'"]')).val(),l&&o.on("focusout change",function(){lfb_updateGmapItinerary(t,e)})):i=0);u=f+" "+b+" "+d+" "+u,i=s+" "+n+" "+m+" "+i;2<u.replaceAll(" ","").length&&2<i.replaceAll(" ","").length&&(new google.maps.DirectionsService).route({origin:{query:u},destination:{query:i},travelMode:google.maps.TravelMode.DRIVING},(t,e)=>{"OK"===e&&r.setDirections(t)})}function lfb_getMapStyle(t){for(var e=lfb_mapStyles[0],a=0;a<lfb_mapStyles.length;a++)if(lfb_mapStyles[a].name==t){e=lfb_mapStyles[a].styles;break}return e}function lfb_getScrollTopMargin(t){return jQuery(window).width()<=480?t.scrollTopMarginMobile:t.scrollTopMargin}lfb_initMapStyles(),jQuery(document).ready(function(){$(".lfb_dynamicHide").hide().removeClass("lfb_dynamicHide"),0<jQuery("#lfb_form").length&&(-1<document.location.href.indexOf("lfb_action=preview")&&jQuery("#lfb_form:not(.lfb_fullscreen)").remove(),initFlatUI(),window.Dropzone.autoDiscover=!1,lfb_initForms(),jQuery.each(lfb_forms,function(){lfb_checkItems(this.formID),lfb_initListeners(this.formID)}))}),jQuery(window).on("load",function(){0<jQuery("#lfb_form").length&&(lfb_onResize(),jQuery(window).resize(lfb_onResize),jQuery(window).on("popstate",function(t){null!==t.originalEvent.state&&(t.preventDefault(),lfb_previousStep(lfb_forms[0].formID))})),jQuery("#ajax-loading-screen").fadeOut(),jQuery("#ajax-content-wrap >.container-wrap").css({opacity:1,display:"block"}),jQuery("#lfb_form").on("lfb_getForm",function(t,e){return lfb_getForm(e)}),jQuery("#lfb_form").on("lfb_updatePrice",function(t,e){lfb_updatePrice(e)}),jQuery("#lfb_form").on("lfb_order",function(t,e){lfb_order(e)}),jQuery("#lfb_form canvas.img").each(function(){jQuery(this).parent().children("img").css("opacity",0),jQuery(this).parent().children("img").show(),jQuery(this).css({width:jQuery(this).parent().children("img").get(0).width,height:jQuery(this).parent().children("img").get(0).height}),jQuery(this).parent().children("img").hide()}),jQuery.each(lfb_forms,function(){var t,e=this;1==e.useCaptcha&&""!=e.recaptcha3Key&&0<jQuery(".grecaptcha-badge").length&&0==jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide .grecaptcha-badge').length&&(t=jQuery(".grecaptcha-badge").clone(),jQuery('#lfb_form.lfb_bootstraped[data-form="'+e.formID+'"] #finalSlide .lfb_genContentSlide').append(t))})})}(jQuery);